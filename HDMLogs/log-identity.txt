04/12/2024 21:48:19 +02:00 Starting Duende IdentityServer version "7.0.4+4fd52ed639a4a1baea222f26f82827b5b9288b3a" (".NET 8.0.3")
04/12/2024 21:48:19 +02:00 You do not have a valid license key for the Duende software. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please start a conversation with us: https://duendesoftware.com/contact
04/12/2024 21:48:19 +02:00 You have automatic key management enabled, but you do not have a license. This feature requires the Business or Enterprise Edition tier of license. Alternatively you can disable automatic key management by setting the KeyManagement.Enabled property to false on the IdentityServerOptions.
04/12/2024 21:48:19 +02:00 You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
04/12/2024 21:48:19 +02:00 Using the default authentication scheme "Identity.Application" for IdentityServer
04/12/2024 21:48:19 +02:00 Using "Identity.Application" as default ASP.NET Core scheme for authentication
04/12/2024 21:48:19 +02:00 Using "Identity.External" as default ASP.NET Core scheme for sign-in
04/12/2024 21:48:19 +02:00 Using "Identity.External" as default ASP.NET Core scheme for sign-out
04/12/2024 21:48:19 +02:00 Using "Identity.Application" as default ASP.NET Core scheme for challenge
04/12/2024 21:48:19 +02:00 Using "Identity.Application" as default ASP.NET Core scheme for forbid
04/12/2024 21:48:20 +02:00 Now listening on: "https://localhost:5001"
04/12/2024 21:48:20 +02:00 Application started. Press Ctrl+C to shut down.
04/12/2024 21:48:20 +02:00 Hosting environment: "Development"
04/12/2024 21:48:20 +02:00 Content root path: "E:\aplresources\szkoladotneta\webapi\code\HomeDeviceMonitor\IdentityServer6"
04/12/2024 21:48:21 +02:00 Login Url: "/Account/Login"
04/12/2024 21:48:21 +02:00 Login Return Url Parameter: "ReturnUrl"
04/12/2024 21:48:21 +02:00 Logout Url: "/Account/Logout"
04/12/2024 21:48:21 +02:00 ConsentUrl Url: "/consent"
04/12/2024 21:48:21 +02:00 Consent Return Url Parameter: "returnUrl"
04/12/2024 21:48:21 +02:00 Error Url: "/home/error"
04/12/2024 21:48:21 +02:00 Error Id Parameter: "errorId"
04/12/2024 21:48:24 +02:00 AuthenticationScheme: "Identity.Application" was successfully authenticated.
04/12/2024 21:48:24 +02:00 AuthenticationScheme: "Identity.Application" was successfully authenticated.
04/12/2024 21:48:24 +02:00 HTTP "GET" "/" responded 200 in 3622.2944 ms
04/12/2024 21:48:47 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/12/2024 21:48:47 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/12/2024 21:48:47 +02:00 Request path "/connect/token" matched to endpoint type "Token"
04/12/2024 21:48:47 +02:00 Endpoint enabled: "Token", successfully created handler: "Duende.IdentityServer.Endpoints.TokenEndpoint"
04/12/2024 21:48:47 +02:00 Invoking IdentityServer endpoint: "Duende.IdentityServer.Endpoints.TokenEndpoint" for "/connect/token"
04/12/2024 21:48:47 +02:00 Start token request.
04/12/2024 21:48:47 +02:00 Start client validation
04/12/2024 21:48:47 +02:00 Start parsing Basic Authentication secret
04/12/2024 21:48:47 +02:00 Parser found secret: "BasicAuthenticationSecretParser"
04/12/2024 21:48:47 +02:00 Secret id found: "client"
04/12/2024 21:48:47 +02:00 client configuration validation for client "client" succeeded.
04/12/2024 21:48:47 +02:00 Secret validator success: "HashedSharedSecretValidator"
04/12/2024 21:48:47 +02:00 Client validation success
04/12/2024 21:48:47 +02:00 ClientAuthenticationSuccessEvent { ClientId: "client", AuthenticationMethod: "SharedSecret", Category: "Authentication", Name: "Client Authentication Success", EventType: Success, Id: 1010, Message: null, ActivityId: "0HN2R560MHG73:00000001", TimeStamp: 04/12/2024 19:48:47, ProcessId: 28356, LocalIpAddress: "::1:5001", RemoteIpAddress: "::1" }
04/12/2024 21:48:47 +02:00 Start token request validation
04/12/2024 21:48:47 +02:00 Start resource owner password token request validation
04/12/2024 21:48:48 +02:00 Credentials validated for username: "alice"
04/12/2024 21:48:48 +02:00 UserLoginSuccessEvent { Username: "alice", Provider: null, ProviderUserId: null, SubjectId: "0d2a181c-af89-47bb-84ed-e64dbae31d8b", DisplayName: null, Endpoint: "Token", ClientId: "client", Category: "Authentication", Name: "User Login Success", EventType: Success, Id: 1000, Message: null, ActivityId: "0HN2R560MHG73:00000001", TimeStamp: 04/12/2024 19:48:48, ProcessId: 28356, LocalIpAddress: "::1:5001", RemoteIpAddress: "::1" }
04/12/2024 21:48:48 +02:00 Resource owner password token request validation success.
04/12/2024 21:48:48 +02:00 Token request validation success, TokenRequestValidationLog { ClientId: "client", ClientName: "Client for Postman use", GrantType: "password", Scopes: "api1 user", AuthorizationCode: "********", RefreshToken: "********", UserName: "alice", AuthenticationContextReferenceClasses: null, Tenant: null, IdP: null, Raw: [("grant_type": "password"), ("username": "alice"), ("password": "***REDACTED***"), ("scope": "api1 user")] }
04/12/2024 21:48:48 +02:00 Getting claims for access token for client: "client"
04/12/2024 21:48:48 +02:00 Getting claims for access token for subject: "0d2a181c-af89-47bb-84ed-e64dbae31d8b"
04/12/2024 21:48:48 +02:00 Active signing key found with kid "6B1C32E36545F634A32CA2D8AE090DC7" for alg "RS256". Expires in 89.23:28:42.5681191. Retires in 103.23:28:42.5681191
04/12/2024 21:48:48 +02:00 TokenIssuedSuccessEvent { ClientId: "client", ClientName: "Client for Postman use", RedirectUri: null, Endpoint: "Token", SubjectId: "0d2a181c-af89-47bb-84ed-e64dbae31d8b", Scopes: "api1 user", GrantType: "password", Tokens: [Token { TokenType: "access_token", TokenValue: "****eI6w" }], Category: "Token", Name: "Token Issued Success", EventType: Success, Id: 2000, Message: null, ActivityId: "0HN2R560MHG73:00000001", TimeStamp: 04/12/2024 19:48:48, ProcessId: 28356, LocalIpAddress: "::1:5001", RemoteIpAddress: "::1" }
04/12/2024 21:48:48 +02:00 Token request success.
04/12/2024 21:48:48 +02:00 HTTP "POST" "/connect/token" responded 200 in 914.6688 ms
04/12/2024 22:39:38 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/12/2024 22:39:38 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/12/2024 22:39:38 +02:00 Request path "/connect/token" matched to endpoint type "Token"
04/12/2024 22:39:38 +02:00 Endpoint enabled: "Token", successfully created handler: "Duende.IdentityServer.Endpoints.TokenEndpoint"
04/12/2024 22:39:38 +02:00 Invoking IdentityServer endpoint: "Duende.IdentityServer.Endpoints.TokenEndpoint" for "/connect/token"
04/12/2024 22:39:38 +02:00 Start token request.
04/12/2024 22:39:38 +02:00 Start client validation
04/12/2024 22:39:38 +02:00 Start parsing Basic Authentication secret
04/12/2024 22:39:38 +02:00 Parser found secret: "BasicAuthenticationSecretParser"
04/12/2024 22:39:38 +02:00 Secret id found: "client"
04/12/2024 22:39:38 +02:00 client configuration validation for client "client" succeeded.
04/12/2024 22:39:38 +02:00 Secret validator success: "HashedSharedSecretValidator"
04/12/2024 22:39:38 +02:00 Client validation success
04/12/2024 22:39:38 +02:00 ClientAuthenticationSuccessEvent { ClientId: "client", AuthenticationMethod: "SharedSecret", Category: "Authentication", Name: "Client Authentication Success", EventType: Success, Id: 1010, Message: null, ActivityId: "0HN2R560MHG73:00000002", TimeStamp: 04/12/2024 20:39:38, ProcessId: 28356, LocalIpAddress: "::1:5001", RemoteIpAddress: "::1" }
04/12/2024 22:39:38 +02:00 Start token request validation
04/12/2024 22:39:38 +02:00 Start resource owner password token request validation
04/12/2024 22:39:38 +02:00 Credentials validated for username: "alice"
04/12/2024 22:39:38 +02:00 UserLoginSuccessEvent { Username: "alice", Provider: null, ProviderUserId: null, SubjectId: "0d2a181c-af89-47bb-84ed-e64dbae31d8b", DisplayName: null, Endpoint: "Token", ClientId: "client", Category: "Authentication", Name: "User Login Success", EventType: Success, Id: 1000, Message: null, ActivityId: "0HN2R560MHG73:00000002", TimeStamp: 04/12/2024 20:39:38, ProcessId: 28356, LocalIpAddress: "::1:5001", RemoteIpAddress: "::1" }
04/12/2024 22:39:38 +02:00 Resource owner password token request validation success.
04/12/2024 22:39:38 +02:00 Token request validation success, TokenRequestValidationLog { ClientId: "client", ClientName: "Client for Postman use", GrantType: "password", Scopes: "api1 user", AuthorizationCode: "********", RefreshToken: "********", UserName: "alice", AuthenticationContextReferenceClasses: null, Tenant: null, IdP: null, Raw: [("grant_type": "password"), ("username": "alice"), ("password": "***REDACTED***"), ("scope": "api1 user")] }
04/12/2024 22:39:38 +02:00 Getting claims for access token for client: "client"
04/12/2024 22:39:38 +02:00 Getting claims for access token for subject: "0d2a181c-af89-47bb-84ed-e64dbae31d8b"
04/12/2024 22:39:38 +02:00 Active signing key found with kid "6B1C32E36545F634A32CA2D8AE090DC7" for alg "RS256". Expires in 89.22:37:52.2079812. Retires in 103.22:37:52.2079812
04/12/2024 22:39:38 +02:00 TokenIssuedSuccessEvent { ClientId: "client", ClientName: "Client for Postman use", RedirectUri: null, Endpoint: "Token", SubjectId: "0d2a181c-af89-47bb-84ed-e64dbae31d8b", Scopes: "api1 user", GrantType: "password", Tokens: [Token { TokenType: "access_token", TokenValue: "****pTYA" }], Category: "Token", Name: "Token Issued Success", EventType: Success, Id: 2000, Message: null, ActivityId: "0HN2R560MHG73:00000002", TimeStamp: 04/12/2024 20:39:38, ProcessId: 28356, LocalIpAddress: "::1:5001", RemoteIpAddress: "::1" }
04/12/2024 22:39:38 +02:00 Token request success.
04/12/2024 22:39:38 +02:00 HTTP "POST" "/connect/token" responded 200 in 476.2576 ms
04/12/2024 22:39:56 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/12/2024 22:39:56 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/12/2024 22:39:56 +02:00 Request path "/.well-known/openid-configuration" matched to endpoint type "Discovery"
04/12/2024 22:39:56 +02:00 Endpoint enabled: "Discovery", successfully created handler: "Duende.IdentityServer.Endpoints.DiscoveryEndpoint"
04/12/2024 22:39:56 +02:00 Invoking IdentityServer endpoint: "Duende.IdentityServer.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
04/12/2024 22:39:56 +02:00 Start discovery request
04/12/2024 22:39:56 +02:00 Active signing key found with kid "6B1C32E36545F634A32CA2D8AE090DC7" for alg "RS256". Expires in 89.22:37:34.0632745. Retires in 103.22:37:34.0632745
04/12/2024 22:39:56 +02:00 HTTP "GET" "/.well-known/openid-configuration" responded 200 in 105.4619 ms
04/12/2024 22:39:56 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/12/2024 22:39:56 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/12/2024 22:39:56 +02:00 Request path "/.well-known/openid-configuration/jwks" matched to endpoint type "Jwks"
04/12/2024 22:39:56 +02:00 Endpoint enabled: "Jwks", successfully created handler: "Duende.IdentityServer.Endpoints.DiscoveryKeyEndpoint"
04/12/2024 22:39:56 +02:00 Invoking IdentityServer endpoint: "Duende.IdentityServer.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks"
04/12/2024 22:39:56 +02:00 Start key discovery request
04/12/2024 22:39:56 +02:00 HTTP "GET" "/.well-known/openid-configuration/jwks" responded 200 in 43.1470 ms
04/12/2024 22:44:19 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/12/2024 22:44:19 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/12/2024 22:44:19 +02:00 Request path "/connect/token" matched to endpoint type "Token"
04/12/2024 22:44:19 +02:00 Endpoint enabled: "Token", successfully created handler: "Duende.IdentityServer.Endpoints.TokenEndpoint"
04/12/2024 22:44:19 +02:00 Invoking IdentityServer endpoint: "Duende.IdentityServer.Endpoints.TokenEndpoint" for "/connect/token"
04/12/2024 22:44:19 +02:00 Start token request.
04/12/2024 22:44:19 +02:00 Start client validation
04/12/2024 22:44:19 +02:00 Start parsing Basic Authentication secret
04/12/2024 22:44:19 +02:00 Parser found secret: "BasicAuthenticationSecretParser"
04/12/2024 22:44:19 +02:00 Secret id found: "client"
04/12/2024 22:44:19 +02:00 client configuration validation for client "client" succeeded.
04/12/2024 22:44:19 +02:00 Secret validator success: "HashedSharedSecretValidator"
04/12/2024 22:44:19 +02:00 Client validation success
04/12/2024 22:44:19 +02:00 ClientAuthenticationSuccessEvent { ClientId: "client", AuthenticationMethod: "SharedSecret", Category: "Authentication", Name: "Client Authentication Success", EventType: Success, Id: 1010, Message: null, ActivityId: "0HN2R560MHG73:00000003", TimeStamp: 04/12/2024 20:44:19, ProcessId: 28356, LocalIpAddress: "::1:5001", RemoteIpAddress: "::1" }
04/12/2024 22:44:19 +02:00 Start token request validation
04/12/2024 22:44:19 +02:00 Start resource owner password token request validation
04/12/2024 22:44:20 +02:00 Credentials validated for username: "alice"
04/12/2024 22:44:20 +02:00 UserLoginSuccessEvent { Username: "alice", Provider: null, ProviderUserId: null, SubjectId: "0d2a181c-af89-47bb-84ed-e64dbae31d8b", DisplayName: null, Endpoint: "Token", ClientId: "client", Category: "Authentication", Name: "User Login Success", EventType: Success, Id: 1000, Message: null, ActivityId: "0HN2R560MHG73:00000003", TimeStamp: 04/12/2024 20:44:20, ProcessId: 28356, LocalIpAddress: "::1:5001", RemoteIpAddress: "::1" }
04/12/2024 22:44:20 +02:00 Resource owner password token request validation success.
04/12/2024 22:44:20 +02:00 Token request validation success, TokenRequestValidationLog { ClientId: "client", ClientName: "Client for Postman use", GrantType: "password", Scopes: "api1 user", AuthorizationCode: "********", RefreshToken: "********", UserName: "alice", AuthenticationContextReferenceClasses: null, Tenant: null, IdP: null, Raw: [("grant_type": "password"), ("username": "alice"), ("password": "***REDACTED***"), ("scope": "api1 user")] }
04/12/2024 22:44:20 +02:00 Getting claims for access token for client: "client"
04/12/2024 22:44:20 +02:00 Getting claims for access token for subject: "0d2a181c-af89-47bb-84ed-e64dbae31d8b"
04/12/2024 22:44:20 +02:00 Active signing key found with kid "6B1C32E36545F634A32CA2D8AE090DC7" for alg "RS256". Expires in 89.22:33:10.7065563. Retires in 103.22:33:10.7065563
04/12/2024 22:44:20 +02:00 TokenIssuedSuccessEvent { ClientId: "client", ClientName: "Client for Postman use", RedirectUri: null, Endpoint: "Token", SubjectId: "0d2a181c-af89-47bb-84ed-e64dbae31d8b", Scopes: "api1 user", GrantType: "password", Tokens: [Token { TokenType: "access_token", TokenValue: "****5n6g" }], Category: "Token", Name: "Token Issued Success", EventType: Success, Id: 2000, Message: null, ActivityId: "0HN2R560MHG73:00000003", TimeStamp: 04/12/2024 20:44:20, ProcessId: 28356, LocalIpAddress: "::1:5001", RemoteIpAddress: "::1" }
04/12/2024 22:44:20 +02:00 Token request success.
04/12/2024 22:44:20 +02:00 HTTP "POST" "/connect/token" responded 200 in 417.9627 ms
04/12/2024 23:11:21 +02:00 AuthenticationScheme: "Identity.Application" was successfully authenticated.
04/12/2024 23:11:21 +02:00 AuthenticationScheme: "Identity.Application" was successfully authenticated.
04/12/2024 23:11:21 +02:00 Request path "/connect/authorize" matched to endpoint type "Authorize"
04/12/2024 23:11:21 +02:00 Endpoint enabled: "Authorize", successfully created handler: "Duende.IdentityServer.Endpoints.AuthorizeEndpoint"
04/12/2024 23:11:21 +02:00 Invoking IdentityServer endpoint: "Duende.IdentityServer.Endpoints.AuthorizeEndpoint" for "/connect/authorize"
04/12/2024 23:11:21 +02:00 Start authorize request
04/12/2024 23:11:22 +02:00 User in authorize request: "0d2a181c-af89-47bb-84ed-e64dbae31d8b"
04/12/2024 23:11:22 +02:00 Start authorize request protocol validation
04/12/2024 23:11:22 +02:00 client configuration validation for client "swagger" succeeded.
04/12/2024 23:11:22 +02:00 Checking for PKCE parameters
04/12/2024 23:11:22 +02:00 Identity related scope requests, but no openid scope
AuthorizeRequestValidationLog { ClientId: "swagger", ClientName: "Client for Swagger use", RedirectUri: "https://localhost:7207/swagger/oauth2-redirect.html", AllowedRedirectUris: ["https://localhost:7207/swagger/oauth2-redirect.html"], SubjectId: "0d2a181c-af89-47bb-84ed-e64dbae31d8b", ResponseType: "code", ResponseMode: "query", GrantType: "authorization_code", RequestedScopes: "api1 user", State: "RnJpIEFwciAxMiAyMDI0IDIzOjExOjIxIEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp", UiLocales: null, Nonce: null, AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: "", MaxAge: null, LoginHint: null, SessionId: null, Raw: [("response_type": "code"), ("client_id": "swagger"), ("redirect_uri": "https://localhost:7207/swagger/oauth2-redirect.html"), ("scope": "api1 user"), ("state": "RnJpIEFwciAxMiAyMDI0IDIzOjExOjIxIEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp"), ("code_challenge": "si8T_pgH89JRYFivrJubo6LcapJYsCmOJR6_5EIkTtY"), ("code_challenge_method": "S256")] }
04/12/2024 23:11:22 +02:00 Request validation failed
04/12/2024 23:11:22 +02:00 AuthorizeRequestValidationLog { ClientId: "swagger", ClientName: "Client for Swagger use", RedirectUri: "https://localhost:7207/swagger/oauth2-redirect.html", AllowedRedirectUris: ["https://localhost:7207/swagger/oauth2-redirect.html"], SubjectId: "0d2a181c-af89-47bb-84ed-e64dbae31d8b", ResponseType: "code", ResponseMode: "query", GrantType: "authorization_code", RequestedScopes: "api1 user", State: "RnJpIEFwciAxMiAyMDI0IDIzOjExOjIxIEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp", UiLocales: null, Nonce: null, AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: "", MaxAge: null, LoginHint: null, SessionId: null, Raw: [("response_type": "code"), ("client_id": "swagger"), ("redirect_uri": "https://localhost:7207/swagger/oauth2-redirect.html"), ("scope": "api1 user"), ("state": "RnJpIEFwciAxMiAyMDI0IDIzOjExOjIxIEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp"), ("code_challenge": "si8T_pgH89JRYFivrJubo6LcapJYsCmOJR6_5EIkTtY"), ("code_challenge_method": "S256")] }
04/12/2024 23:11:22 +02:00 TokenIssuedFailureEvent { ClientId: "swagger", ClientName: "Client for Swagger use", RedirectUri: "https://localhost:7207/swagger/oauth2-redirect.html", Endpoint: "Authorize", SubjectId: "0d2a181c-af89-47bb-84ed-e64dbae31d8b", Scopes: "api1 user", GrantType: "authorization_code", Error: "invalid_scope", ErrorDescription: "Identity scopes requested, but openid scope is missing", Category: "Token", Name: "Token Issued Failure", EventType: Failure, Id: 2001, Message: null, ActivityId: "0HN2R560MHG71:00000007", TimeStamp: 04/12/2024 21:11:22, ProcessId: 28356, LocalIpAddress: "::1:5001", RemoteIpAddress: "::1" }
04/12/2024 23:11:22 +02:00 HTTP "GET" "/connect/authorize" responded 302 in 703.6378 ms
04/12/2024 23:11:22 +02:00 AuthenticationScheme: "Identity.Application" was successfully authenticated.
04/12/2024 23:11:22 +02:00 AuthenticationScheme: "Identity.Application" was successfully authenticated.
04/12/2024 23:11:22 +02:00 HTTP "GET" "/home/error" responded 200 in 115.2560 ms
04/12/2024 23:19:53 +02:00 AuthenticationScheme: "Identity.Application" was successfully authenticated.
04/12/2024 23:19:53 +02:00 AuthenticationScheme: "Identity.Application" was successfully authenticated.
04/12/2024 23:19:53 +02:00 Request path "/connect/authorize" matched to endpoint type "Authorize"
04/12/2024 23:19:53 +02:00 Endpoint enabled: "Authorize", successfully created handler: "Duende.IdentityServer.Endpoints.AuthorizeEndpoint"
04/12/2024 23:19:53 +02:00 Invoking IdentityServer endpoint: "Duende.IdentityServer.Endpoints.AuthorizeEndpoint" for "/connect/authorize"
04/12/2024 23:19:53 +02:00 Start authorize request
04/12/2024 23:19:53 +02:00 User in authorize request: "0d2a181c-af89-47bb-84ed-e64dbae31d8b"
04/12/2024 23:19:53 +02:00 Start authorize request protocol validation
04/12/2024 23:19:53 +02:00 client configuration validation for client "swagger" succeeded.
04/12/2024 23:19:53 +02:00 Checking for PKCE parameters
04/12/2024 23:19:53 +02:00 scope is missing
AuthorizeRequestValidationLog { ClientId: "swagger", ClientName: "Client for Swagger use", RedirectUri: "https://localhost:7207/swagger/oauth2-redirect.html", AllowedRedirectUris: ["https://localhost:7207/swagger/oauth2-redirect.html"], SubjectId: "0d2a181c-af89-47bb-84ed-e64dbae31d8b", ResponseType: "code", ResponseMode: "query", GrantType: "authorization_code", RequestedScopes: "", State: "RnJpIEFwciAxMiAyMDI0IDIzOjE5OjUzIEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp", UiLocales: null, Nonce: null, AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: "", MaxAge: null, LoginHint: null, SessionId: null, Raw: [("response_type": "code"), ("client_id": "swagger"), ("redirect_uri": "https://localhost:7207/swagger/oauth2-redirect.html"), ("state": "RnJpIEFwciAxMiAyMDI0IDIzOjE5OjUzIEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp"), ("code_challenge": "aZtkbztd0rL10qfIGqGXVVBvzDaWvWAaatTPb2ZScOA"), ("code_challenge_method": "S256")] }
04/12/2024 23:19:53 +02:00 Request validation failed
04/12/2024 23:19:53 +02:00 AuthorizeRequestValidationLog { ClientId: "swagger", ClientName: "Client for Swagger use", RedirectUri: "https://localhost:7207/swagger/oauth2-redirect.html", AllowedRedirectUris: ["https://localhost:7207/swagger/oauth2-redirect.html"], SubjectId: "0d2a181c-af89-47bb-84ed-e64dbae31d8b", ResponseType: "code", ResponseMode: "query", GrantType: "authorization_code", RequestedScopes: "", State: "RnJpIEFwciAxMiAyMDI0IDIzOjE5OjUzIEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp", UiLocales: null, Nonce: null, AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: "", MaxAge: null, LoginHint: null, SessionId: null, Raw: [("response_type": "code"), ("client_id": "swagger"), ("redirect_uri": "https://localhost:7207/swagger/oauth2-redirect.html"), ("state": "RnJpIEFwciAxMiAyMDI0IDIzOjE5OjUzIEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp"), ("code_challenge": "aZtkbztd0rL10qfIGqGXVVBvzDaWvWAaatTPb2ZScOA"), ("code_challenge_method": "S256")] }
04/12/2024 23:19:53 +02:00 TokenIssuedFailureEvent { ClientId: "swagger", ClientName: "Client for Swagger use", RedirectUri: "https://localhost:7207/swagger/oauth2-redirect.html", Endpoint: "Authorize", SubjectId: "0d2a181c-af89-47bb-84ed-e64dbae31d8b", Scopes: "", GrantType: "authorization_code", Error: "invalid_request", ErrorDescription: "Invalid scope", Category: "Token", Name: "Token Issued Failure", EventType: Failure, Id: 2001, Message: null, ActivityId: "0HN2R560MHG71:0000000F", TimeStamp: 04/12/2024 21:19:53, ProcessId: 28356, LocalIpAddress: "::1:5001", RemoteIpAddress: "::1" }
04/12/2024 23:19:53 +02:00 HTTP "GET" "/connect/authorize" responded 302 in 242.8022 ms
04/12/2024 23:19:53 +02:00 AuthenticationScheme: "Identity.Application" was successfully authenticated.
04/12/2024 23:19:53 +02:00 AuthenticationScheme: "Identity.Application" was successfully authenticated.
04/12/2024 23:19:53 +02:00 HTTP "GET" "/home/error" responded 200 in 21.5177 ms
04/12/2024 23:20:10 +02:00 AuthenticationScheme: "Identity.Application" was successfully authenticated.
04/12/2024 23:20:10 +02:00 AuthenticationScheme: "Identity.Application" was successfully authenticated.
04/12/2024 23:20:10 +02:00 Request path "/connect/authorize" matched to endpoint type "Authorize"
04/12/2024 23:20:10 +02:00 Endpoint enabled: "Authorize", successfully created handler: "Duende.IdentityServer.Endpoints.AuthorizeEndpoint"
04/12/2024 23:20:10 +02:00 Invoking IdentityServer endpoint: "Duende.IdentityServer.Endpoints.AuthorizeEndpoint" for "/connect/authorize"
04/12/2024 23:20:10 +02:00 Start authorize request
04/12/2024 23:20:10 +02:00 User in authorize request: "0d2a181c-af89-47bb-84ed-e64dbae31d8b"
04/12/2024 23:20:10 +02:00 Start authorize request protocol validation
04/12/2024 23:20:10 +02:00 client configuration validation for client "swagger" succeeded.
04/12/2024 23:20:10 +02:00 Checking for PKCE parameters
04/12/2024 23:20:10 +02:00 Identity related scope requests, but no openid scope
AuthorizeRequestValidationLog { ClientId: "swagger", ClientName: "Client for Swagger use", RedirectUri: "https://localhost:7207/swagger/oauth2-redirect.html", AllowedRedirectUris: ["https://localhost:7207/swagger/oauth2-redirect.html"], SubjectId: "0d2a181c-af89-47bb-84ed-e64dbae31d8b", ResponseType: "code", ResponseMode: "query", GrantType: "authorization_code", RequestedScopes: "api1 user", State: "RnJpIEFwciAxMiAyMDI0IDIzOjIwOjA5IEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp", UiLocales: null, Nonce: null, AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: "", MaxAge: null, LoginHint: null, SessionId: null, Raw: [("response_type": "code"), ("client_id": "swagger"), ("redirect_uri": "https://localhost:7207/swagger/oauth2-redirect.html"), ("scope": "api1 user"), ("state": "RnJpIEFwciAxMiAyMDI0IDIzOjIwOjA5IEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp"), ("code_challenge": "A3gOjzlH9PaOFp-I_SG2gq9udvLXaRcPE_mSovy-gTY"), ("code_challenge_method": "S256")] }
04/12/2024 23:20:10 +02:00 Request validation failed
04/12/2024 23:20:10 +02:00 AuthorizeRequestValidationLog { ClientId: "swagger", ClientName: "Client for Swagger use", RedirectUri: "https://localhost:7207/swagger/oauth2-redirect.html", AllowedRedirectUris: ["https://localhost:7207/swagger/oauth2-redirect.html"], SubjectId: "0d2a181c-af89-47bb-84ed-e64dbae31d8b", ResponseType: "code", ResponseMode: "query", GrantType: "authorization_code", RequestedScopes: "api1 user", State: "RnJpIEFwciAxMiAyMDI0IDIzOjIwOjA5IEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp", UiLocales: null, Nonce: null, AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: "", MaxAge: null, LoginHint: null, SessionId: null, Raw: [("response_type": "code"), ("client_id": "swagger"), ("redirect_uri": "https://localhost:7207/swagger/oauth2-redirect.html"), ("scope": "api1 user"), ("state": "RnJpIEFwciAxMiAyMDI0IDIzOjIwOjA5IEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp"), ("code_challenge": "A3gOjzlH9PaOFp-I_SG2gq9udvLXaRcPE_mSovy-gTY"), ("code_challenge_method": "S256")] }
04/12/2024 23:20:10 +02:00 TokenIssuedFailureEvent { ClientId: "swagger", ClientName: "Client for Swagger use", RedirectUri: "https://localhost:7207/swagger/oauth2-redirect.html", Endpoint: "Authorize", SubjectId: "0d2a181c-af89-47bb-84ed-e64dbae31d8b", Scopes: "api1 user", GrantType: "authorization_code", Error: "invalid_scope", ErrorDescription: "Identity scopes requested, but openid scope is missing", Category: "Token", Name: "Token Issued Failure", EventType: Failure, Id: 2001, Message: null, ActivityId: "0HN2R560MHG71:00000017", TimeStamp: 04/12/2024 21:20:10, ProcessId: 28356, LocalIpAddress: "::1:5001", RemoteIpAddress: "::1" }
04/12/2024 23:20:10 +02:00 HTTP "GET" "/connect/authorize" responded 302 in 248.2716 ms
04/12/2024 23:20:10 +02:00 AuthenticationScheme: "Identity.Application" was successfully authenticated.
04/12/2024 23:20:10 +02:00 AuthenticationScheme: "Identity.Application" was successfully authenticated.
04/12/2024 23:20:10 +02:00 HTTP "GET" "/home/error" responded 200 in 17.7783 ms
04/12/2024 23:20:44 +02:00 AuthenticationScheme: "Identity.Application" was successfully authenticated.
04/12/2024 23:20:44 +02:00 AuthenticationScheme: "Identity.Application" was successfully authenticated.
04/12/2024 23:20:44 +02:00 Request path "/connect/authorize" matched to endpoint type "Authorize"
04/12/2024 23:20:44 +02:00 Endpoint enabled: "Authorize", successfully created handler: "Duende.IdentityServer.Endpoints.AuthorizeEndpoint"
04/12/2024 23:20:44 +02:00 Invoking IdentityServer endpoint: "Duende.IdentityServer.Endpoints.AuthorizeEndpoint" for "/connect/authorize"
04/12/2024 23:20:44 +02:00 Start authorize request
04/12/2024 23:20:44 +02:00 User in authorize request: "0d2a181c-af89-47bb-84ed-e64dbae31d8b"
04/12/2024 23:20:44 +02:00 Start authorize request protocol validation
04/12/2024 23:20:44 +02:00 client configuration validation for client "swagger" succeeded.
04/12/2024 23:20:44 +02:00 Checking for PKCE parameters
04/12/2024 23:20:44 +02:00 scope is missing
AuthorizeRequestValidationLog { ClientId: "swagger", ClientName: "Client for Swagger use", RedirectUri: "https://localhost:7207/swagger/oauth2-redirect.html", AllowedRedirectUris: ["https://localhost:7207/swagger/oauth2-redirect.html"], SubjectId: "0d2a181c-af89-47bb-84ed-e64dbae31d8b", ResponseType: "code", ResponseMode: "query", GrantType: "authorization_code", RequestedScopes: "", State: "RnJpIEFwciAxMiAyMDI0IDIzOjIwOjQ0IEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp", UiLocales: null, Nonce: null, AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: "", MaxAge: null, LoginHint: null, SessionId: null, Raw: [("response_type": "code"), ("client_id": "swagger"), ("redirect_uri": "https://localhost:7207/swagger/oauth2-redirect.html"), ("state": "RnJpIEFwciAxMiAyMDI0IDIzOjIwOjQ0IEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp"), ("code_challenge": "KcpO3CQoMOpDTmBtErrvcSIEcgLU2jzT-2Ez_0u5Ggs"), ("code_challenge_method": "S256")] }
04/12/2024 23:20:44 +02:00 Request validation failed
04/12/2024 23:20:44 +02:00 AuthorizeRequestValidationLog { ClientId: "swagger", ClientName: "Client for Swagger use", RedirectUri: "https://localhost:7207/swagger/oauth2-redirect.html", AllowedRedirectUris: ["https://localhost:7207/swagger/oauth2-redirect.html"], SubjectId: "0d2a181c-af89-47bb-84ed-e64dbae31d8b", ResponseType: "code", ResponseMode: "query", GrantType: "authorization_code", RequestedScopes: "", State: "RnJpIEFwciAxMiAyMDI0IDIzOjIwOjQ0IEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp", UiLocales: null, Nonce: null, AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: "", MaxAge: null, LoginHint: null, SessionId: null, Raw: [("response_type": "code"), ("client_id": "swagger"), ("redirect_uri": "https://localhost:7207/swagger/oauth2-redirect.html"), ("state": "RnJpIEFwciAxMiAyMDI0IDIzOjIwOjQ0IEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp"), ("code_challenge": "KcpO3CQoMOpDTmBtErrvcSIEcgLU2jzT-2Ez_0u5Ggs"), ("code_challenge_method": "S256")] }
04/12/2024 23:20:44 +02:00 TokenIssuedFailureEvent { ClientId: "swagger", ClientName: "Client for Swagger use", RedirectUri: "https://localhost:7207/swagger/oauth2-redirect.html", Endpoint: "Authorize", SubjectId: "0d2a181c-af89-47bb-84ed-e64dbae31d8b", Scopes: "", GrantType: "authorization_code", Error: "invalid_request", ErrorDescription: "Invalid scope", Category: "Token", Name: "Token Issued Failure", EventType: Failure, Id: 2001, Message: null, ActivityId: "0HN2R560MHG71:0000001F", TimeStamp: 04/12/2024 21:20:44, ProcessId: 28356, LocalIpAddress: "::1:5001", RemoteIpAddress: "::1" }
04/12/2024 23:20:44 +02:00 HTTP "GET" "/connect/authorize" responded 302 in 243.2684 ms
04/12/2024 23:20:44 +02:00 AuthenticationScheme: "Identity.Application" was successfully authenticated.
04/12/2024 23:20:44 +02:00 AuthenticationScheme: "Identity.Application" was successfully authenticated.
04/12/2024 23:20:44 +02:00 HTTP "GET" "/home/error" responded 200 in 8.7163 ms
04/12/2024 23:20:46 +02:00 AuthenticationScheme: "Identity.Application" was successfully authenticated.
04/12/2024 23:20:47 +02:00 AuthenticationScheme: "Identity.Application" was successfully authenticated.
04/12/2024 23:20:47 +02:00 HTTP "GET" "/Account/Logout" responded 200 in 449.4360 ms
04/12/2024 23:20:53 +02:00 IdentityServer CorsPolicyService didn't handle CORS request made for path: "/Account/Logout" from origin: "null" because it is not for an IdentityServer CORS endpoint. To allow CORS requests to non IdentityServer endpoints, please set up your own Cors policy for your application by calling app.UseCors("MyPolicy") in the pipeline setup.
04/12/2024 23:20:53 +02:00 AuthenticationScheme: "Identity.Application" was successfully authenticated.
04/12/2024 23:20:53 +02:00 AuthenticationScheme: "Identity.Application" was successfully authenticated.
04/12/2024 23:20:53 +02:00 AuthenticationScheme: "Identity.Application" signed out.
04/12/2024 23:20:53 +02:00 AuthenticationScheme: "Identity.External" signed out.
04/12/2024 23:20:53 +02:00 AuthenticationScheme: "Identity.TwoFactorUserId" signed out.
04/12/2024 23:20:53 +02:00 UserLogoutSuccessEvent { SubjectId: "0d2a181c-af89-47bb-84ed-e64dbae31d8b", DisplayName: "Alice Smith", Category: "Authentication", Name: "User Logout Success", EventType: Success, Id: 1002, Message: null, ActivityId: "0HN2R560MHG71:0000002D", TimeStamp: 04/12/2024 21:20:53, ProcessId: 28356, LocalIpAddress: "::1:5001", RemoteIpAddress: "::1" }
04/12/2024 23:20:53 +02:00 HTTP "POST" "/Account/Logout" responded 302 in 119.8411 ms
04/12/2024 23:20:53 +02:00 SignOutCalled set; processing post-signout session cleanup.
04/12/2024 23:20:53 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/12/2024 23:20:53 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/12/2024 23:20:53 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/12/2024 23:20:53 +02:00 HTTP "GET" "/Account/Logout/LoggedOut" responded 200 in 21.5140 ms
04/12/2024 23:20:58 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/12/2024 23:20:58 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/12/2024 23:20:58 +02:00 Request path "/connect/authorize" matched to endpoint type "Authorize"
04/12/2024 23:20:58 +02:00 Endpoint enabled: "Authorize", successfully created handler: "Duende.IdentityServer.Endpoints.AuthorizeEndpoint"
04/12/2024 23:20:58 +02:00 Invoking IdentityServer endpoint: "Duende.IdentityServer.Endpoints.AuthorizeEndpoint" for "/connect/authorize"
04/12/2024 23:20:58 +02:00 Start authorize request
04/12/2024 23:20:58 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/12/2024 23:20:58 +02:00 No user present in authorize request
04/12/2024 23:20:58 +02:00 Start authorize request protocol validation
04/12/2024 23:20:58 +02:00 client configuration validation for client "swagger" succeeded.
04/12/2024 23:20:58 +02:00 Checking for PKCE parameters
04/12/2024 23:20:58 +02:00 scope is missing
AuthorizeRequestValidationLog { ClientId: "swagger", ClientName: "Client for Swagger use", RedirectUri: "https://localhost:7207/swagger/oauth2-redirect.html", AllowedRedirectUris: ["https://localhost:7207/swagger/oauth2-redirect.html"], SubjectId: "anonymous", ResponseType: "code", ResponseMode: "query", GrantType: "authorization_code", RequestedScopes: "", State: "RnJpIEFwciAxMiAyMDI0IDIzOjIwOjU4IEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp", UiLocales: null, Nonce: null, AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: "", MaxAge: null, LoginHint: null, SessionId: null, Raw: [("response_type": "code"), ("client_id": "swagger"), ("redirect_uri": "https://localhost:7207/swagger/oauth2-redirect.html"), ("state": "RnJpIEFwciAxMiAyMDI0IDIzOjIwOjU4IEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp"), ("code_challenge": "wNxODrG6ihihOvNjyJyIXfTm35oltwYXnfT_d-XYg_U"), ("code_challenge_method": "S256")] }
04/12/2024 23:20:58 +02:00 Request validation failed
04/12/2024 23:20:58 +02:00 AuthorizeRequestValidationLog { ClientId: "swagger", ClientName: "Client for Swagger use", RedirectUri: "https://localhost:7207/swagger/oauth2-redirect.html", AllowedRedirectUris: ["https://localhost:7207/swagger/oauth2-redirect.html"], SubjectId: "anonymous", ResponseType: "code", ResponseMode: "query", GrantType: "authorization_code", RequestedScopes: "", State: "RnJpIEFwciAxMiAyMDI0IDIzOjIwOjU4IEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp", UiLocales: null, Nonce: null, AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: "", MaxAge: null, LoginHint: null, SessionId: null, Raw: [("response_type": "code"), ("client_id": "swagger"), ("redirect_uri": "https://localhost:7207/swagger/oauth2-redirect.html"), ("state": "RnJpIEFwciAxMiAyMDI0IDIzOjIwOjU4IEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp"), ("code_challenge": "wNxODrG6ihihOvNjyJyIXfTm35oltwYXnfT_d-XYg_U"), ("code_challenge_method": "S256")] }
04/12/2024 23:20:58 +02:00 TokenIssuedFailureEvent { ClientId: "swagger", ClientName: "Client for Swagger use", RedirectUri: "https://localhost:7207/swagger/oauth2-redirect.html", Endpoint: "Authorize", SubjectId: null, Scopes: "", GrantType: "authorization_code", Error: "invalid_request", ErrorDescription: "Invalid scope", Category: "Token", Name: "Token Issued Failure", EventType: Failure, Id: 2001, Message: null, ActivityId: "0HN2R560MHG71:00000035", TimeStamp: 04/12/2024 21:20:58, ProcessId: 28356, LocalIpAddress: "::1:5001", RemoteIpAddress: "::1" }
04/12/2024 23:20:58 +02:00 HTTP "GET" "/connect/authorize" responded 302 in 220.6775 ms
04/12/2024 23:20:58 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/12/2024 23:20:58 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/12/2024 23:20:58 +02:00 HTTP "GET" "/home/error" responded 200 in 10.6307 ms
04/12/2024 23:29:47 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/12/2024 23:29:47 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/12/2024 23:29:47 +02:00 Request path "/connect/authorize" matched to endpoint type "Authorize"
04/12/2024 23:29:47 +02:00 Endpoint enabled: "Authorize", successfully created handler: "Duende.IdentityServer.Endpoints.AuthorizeEndpoint"
04/12/2024 23:29:47 +02:00 Invoking IdentityServer endpoint: "Duende.IdentityServer.Endpoints.AuthorizeEndpoint" for "/connect/authorize"
04/12/2024 23:29:47 +02:00 Start authorize request
04/12/2024 23:29:47 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/12/2024 23:29:47 +02:00 No user present in authorize request
04/12/2024 23:29:47 +02:00 Start authorize request protocol validation
04/12/2024 23:29:47 +02:00 client configuration validation for client "swagger" succeeded.
04/12/2024 23:29:47 +02:00 Checking for PKCE parameters
04/12/2024 23:29:47 +02:00 code_challenge is missing
AuthorizeRequestValidationLog { ClientId: "swagger", ClientName: "Client for Swagger use", RedirectUri: "https://localhost:7207/swagger/oauth2-redirect.html", AllowedRedirectUris: ["https://localhost:7207/swagger/oauth2-redirect.html"], SubjectId: "anonymous", ResponseType: "code", ResponseMode: "query", GrantType: "authorization_code", RequestedScopes: "", State: "RnJpIEFwciAxMiAyMDI0IDIzOjI5OjQ3IEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp", UiLocales: null, Nonce: null, AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: "", MaxAge: null, LoginHint: null, SessionId: null, Raw: [("response_type": "code"), ("client_id": "swagger"), ("redirect_uri": "https://localhost:7207/swagger/oauth2-redirect.html"), ("scope": "api1 user"), ("state": "RnJpIEFwciAxMiAyMDI0IDIzOjI5OjQ3IEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp")] }
04/12/2024 23:29:47 +02:00 Request validation failed
04/12/2024 23:29:47 +02:00 AuthorizeRequestValidationLog { ClientId: "swagger", ClientName: "Client for Swagger use", RedirectUri: "https://localhost:7207/swagger/oauth2-redirect.html", AllowedRedirectUris: ["https://localhost:7207/swagger/oauth2-redirect.html"], SubjectId: "anonymous", ResponseType: "code", ResponseMode: "query", GrantType: "authorization_code", RequestedScopes: "", State: "RnJpIEFwciAxMiAyMDI0IDIzOjI5OjQ3IEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp", UiLocales: null, Nonce: null, AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: "", MaxAge: null, LoginHint: null, SessionId: null, Raw: [("response_type": "code"), ("client_id": "swagger"), ("redirect_uri": "https://localhost:7207/swagger/oauth2-redirect.html"), ("scope": "api1 user"), ("state": "RnJpIEFwciAxMiAyMDI0IDIzOjI5OjQ3IEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp")] }
04/12/2024 23:29:47 +02:00 TokenIssuedFailureEvent { ClientId: "swagger", ClientName: "Client for Swagger use", RedirectUri: "https://localhost:7207/swagger/oauth2-redirect.html", Endpoint: "Authorize", SubjectId: null, Scopes: "", GrantType: "authorization_code", Error: "invalid_request", ErrorDescription: "code challenge required", Category: "Token", Name: "Token Issued Failure", EventType: Failure, Id: 2001, Message: null, ActivityId: "0HN2R560MHG71:0000003D", TimeStamp: 04/12/2024 21:29:47, ProcessId: 28356, LocalIpAddress: "::1:5001", RemoteIpAddress: "::1" }
04/12/2024 23:29:47 +02:00 HTTP "GET" "/connect/authorize" responded 302 in 233.8873 ms
04/12/2024 23:29:47 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/12/2024 23:29:47 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/12/2024 23:29:47 +02:00 HTTP "GET" "/home/error" responded 200 in 11.7933 ms
04/12/2024 23:39:57 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/12/2024 23:39:57 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/12/2024 23:39:57 +02:00 Request path "/connect/authorize" matched to endpoint type "Authorize"
04/12/2024 23:39:57 +02:00 Endpoint enabled: "Authorize", successfully created handler: "Duende.IdentityServer.Endpoints.AuthorizeEndpoint"
04/12/2024 23:39:57 +02:00 Invoking IdentityServer endpoint: "Duende.IdentityServer.Endpoints.AuthorizeEndpoint" for "/connect/authorize"
04/12/2024 23:39:57 +02:00 Start authorize request
04/12/2024 23:39:57 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/12/2024 23:39:58 +02:00 No user present in authorize request
04/12/2024 23:39:58 +02:00 Start authorize request protocol validation
04/12/2024 23:39:58 +02:00 client configuration validation for client "swagger" succeeded.
04/12/2024 23:39:58 +02:00 Checking for PKCE parameters
04/12/2024 23:39:58 +02:00 code_challenge is missing
AuthorizeRequestValidationLog { ClientId: "swagger", ClientName: "Client for Swagger use", RedirectUri: "https://localhost:7207/swagger/oauth2-redirect.html", AllowedRedirectUris: ["https://localhost:7207/swagger/oauth2-redirect.html"], SubjectId: "anonymous", ResponseType: "code", ResponseMode: "query", GrantType: "authorization_code", RequestedScopes: "", State: "RnJpIEFwciAxMiAyMDI0IDIzOjM5OjU3IEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp", UiLocales: null, Nonce: null, AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: "", MaxAge: null, LoginHint: null, SessionId: null, Raw: [("response_type": "code"), ("client_id": "swagger"), ("redirect_uri": "https://localhost:7207/swagger/oauth2-redirect.html"), ("state": "RnJpIEFwciAxMiAyMDI0IDIzOjM5OjU3IEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp")] }
04/12/2024 23:39:58 +02:00 Request validation failed
04/12/2024 23:39:58 +02:00 AuthorizeRequestValidationLog { ClientId: "swagger", ClientName: "Client for Swagger use", RedirectUri: "https://localhost:7207/swagger/oauth2-redirect.html", AllowedRedirectUris: ["https://localhost:7207/swagger/oauth2-redirect.html"], SubjectId: "anonymous", ResponseType: "code", ResponseMode: "query", GrantType: "authorization_code", RequestedScopes: "", State: "RnJpIEFwciAxMiAyMDI0IDIzOjM5OjU3IEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp", UiLocales: null, Nonce: null, AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: "", MaxAge: null, LoginHint: null, SessionId: null, Raw: [("response_type": "code"), ("client_id": "swagger"), ("redirect_uri": "https://localhost:7207/swagger/oauth2-redirect.html"), ("state": "RnJpIEFwciAxMiAyMDI0IDIzOjM5OjU3IEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp")] }
04/12/2024 23:39:58 +02:00 TokenIssuedFailureEvent { ClientId: "swagger", ClientName: "Client for Swagger use", RedirectUri: "https://localhost:7207/swagger/oauth2-redirect.html", Endpoint: "Authorize", SubjectId: null, Scopes: "", GrantType: "authorization_code", Error: "invalid_request", ErrorDescription: "code challenge required", Category: "Token", Name: "Token Issued Failure", EventType: Failure, Id: 2001, Message: null, ActivityId: "0HN2R560MHG71:00000045", TimeStamp: 04/12/2024 21:39:58, ProcessId: 28356, LocalIpAddress: "::1:5001", RemoteIpAddress: "::1" }
04/12/2024 23:39:58 +02:00 HTTP "GET" "/connect/authorize" responded 302 in 228.0233 ms
04/12/2024 23:39:58 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/12/2024 23:39:58 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/12/2024 23:39:58 +02:00 HTTP "GET" "/home/error" responded 200 in 16.8741 ms
04/12/2024 23:41:22 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/12/2024 23:41:22 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/12/2024 23:41:22 +02:00 Request path "/connect/authorize" matched to endpoint type "Authorize"
04/12/2024 23:41:22 +02:00 Endpoint enabled: "Authorize", successfully created handler: "Duende.IdentityServer.Endpoints.AuthorizeEndpoint"
04/12/2024 23:41:22 +02:00 Invoking IdentityServer endpoint: "Duende.IdentityServer.Endpoints.AuthorizeEndpoint" for "/connect/authorize"
04/12/2024 23:41:22 +02:00 Start authorize request
04/12/2024 23:41:22 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/12/2024 23:41:22 +02:00 No user present in authorize request
04/12/2024 23:41:22 +02:00 Start authorize request protocol validation
04/12/2024 23:41:22 +02:00 client_id is missing or too long
AuthorizeRequestValidationLog { ClientId: null, ClientName: null, RedirectUri: null, AllowedRedirectUris: null, SubjectId: "anonymous", ResponseType: null, ResponseMode: null, GrantType: null, RequestedScopes: "", State: null, UiLocales: null, Nonce: null, AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: "", MaxAge: null, LoginHint: null, SessionId: null, Raw: [] }
04/12/2024 23:41:22 +02:00 Request validation failed
04/12/2024 23:41:22 +02:00 AuthorizeRequestValidationLog { ClientId: null, ClientName: null, RedirectUri: null, AllowedRedirectUris: null, SubjectId: "anonymous", ResponseType: null, ResponseMode: null, GrantType: null, RequestedScopes: "", State: null, UiLocales: null, Nonce: null, AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: "", MaxAge: null, LoginHint: null, SessionId: null, Raw: [] }
04/12/2024 23:41:22 +02:00 TokenIssuedFailureEvent { ClientId: null, ClientName: null, RedirectUri: null, Endpoint: "Authorize", SubjectId: null, Scopes: "", GrantType: null, Error: "invalid_request", ErrorDescription: "Invalid client_id", Category: "Token", Name: "Token Issued Failure", EventType: Failure, Id: 2001, Message: null, ActivityId: "0HN2R560MHG71:0000004D", TimeStamp: 04/12/2024 21:41:22, ProcessId: 28356, LocalIpAddress: "::1:5001", RemoteIpAddress: "::1" }
04/12/2024 23:41:23 +02:00 HTTP "GET" "/connect/authorize" responded 302 in 171.9354 ms
04/12/2024 23:41:23 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/12/2024 23:41:23 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/12/2024 23:41:23 +02:00 HTTP "GET" "/home/error" responded 200 in 11.7061 ms
04/12/2024 23:45:07 +02:00 Starting Duende IdentityServer version "7.0.4+4fd52ed639a4a1baea222f26f82827b5b9288b3a" (".NET 8.0.3")
04/12/2024 23:45:07 +02:00 You do not have a valid license key for the Duende software. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please start a conversation with us: https://duendesoftware.com/contact
04/12/2024 23:45:07 +02:00 You have automatic key management enabled, but you do not have a license. This feature requires the Business or Enterprise Edition tier of license. Alternatively you can disable automatic key management by setting the KeyManagement.Enabled property to false on the IdentityServerOptions.
04/12/2024 23:45:07 +02:00 You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
04/12/2024 23:45:07 +02:00 Using the default authentication scheme "Identity.Application" for IdentityServer
04/12/2024 23:45:07 +02:00 Using "Identity.Application" as default ASP.NET Core scheme for authentication
04/12/2024 23:45:07 +02:00 Using "Identity.External" as default ASP.NET Core scheme for sign-in
04/12/2024 23:45:07 +02:00 Using "Identity.External" as default ASP.NET Core scheme for sign-out
04/12/2024 23:45:07 +02:00 Using "Identity.Application" as default ASP.NET Core scheme for challenge
04/12/2024 23:45:07 +02:00 Using "Identity.Application" as default ASP.NET Core scheme for forbid
04/12/2024 23:45:07 +02:00 Now listening on: "https://localhost:5001"
04/12/2024 23:45:07 +02:00 Application started. Press Ctrl+C to shut down.
04/12/2024 23:45:07 +02:00 Hosting environment: "Development"
04/12/2024 23:45:07 +02:00 Content root path: "E:\aplresources\szkoladotneta\webapi\code\HomeDeviceMonitor\IdentityServer6"
04/12/2024 23:45:08 +02:00 Login Url: "/Account/Login"
04/12/2024 23:45:08 +02:00 Login Return Url Parameter: "ReturnUrl"
04/12/2024 23:45:08 +02:00 Logout Url: "/Account/Logout"
04/12/2024 23:45:08 +02:00 ConsentUrl Url: "/consent"
04/12/2024 23:45:08 +02:00 Consent Return Url Parameter: "returnUrl"
04/12/2024 23:45:08 +02:00 Error Url: "/home/error"
04/12/2024 23:45:08 +02:00 Error Id Parameter: "errorId"
04/12/2024 23:45:08 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/12/2024 23:45:08 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/12/2024 23:45:08 +02:00 HTTP "GET" "/" responded 200 in 234.4634 ms
04/12/2024 23:46:03 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/12/2024 23:46:03 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/12/2024 23:46:03 +02:00 Request path "/connect/authorize" matched to endpoint type "Authorize"
04/12/2024 23:46:03 +02:00 Endpoint enabled: "Authorize", successfully created handler: "Duende.IdentityServer.Endpoints.AuthorizeEndpoint"
04/12/2024 23:46:03 +02:00 Invoking IdentityServer endpoint: "Duende.IdentityServer.Endpoints.AuthorizeEndpoint" for "/connect/authorize"
04/12/2024 23:46:03 +02:00 Start authorize request
04/12/2024 23:46:04 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/12/2024 23:46:04 +02:00 No user present in authorize request
04/12/2024 23:46:04 +02:00 Start authorize request protocol validation
04/12/2024 23:46:04 +02:00 client configuration validation for client "swagger" succeeded.
04/12/2024 23:46:04 +02:00 Checking for PKCE parameters
04/12/2024 23:46:04 +02:00 Identity related scope requests, but no openid scope
AuthorizeRequestValidationLog { ClientId: "swagger", ClientName: "Client for Swagger use", RedirectUri: "https://localhost:7207/swagger/oauth2-redirect.html", AllowedRedirectUris: ["https://localhost:7207/swagger/oauth2-redirect.html"], SubjectId: "anonymous", ResponseType: "code", ResponseMode: "query", GrantType: "authorization_code", RequestedScopes: "api1 user", State: "RnJpIEFwciAxMiAyMDI0IDIzOjQ2OjAzIEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp", UiLocales: null, Nonce: null, AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: "", MaxAge: null, LoginHint: null, SessionId: null, Raw: [("response_type": "code"), ("client_id": "swagger"), ("redirect_uri": "https://localhost:7207/swagger/oauth2-redirect.html"), ("scope": "api1 user"), ("state": "RnJpIEFwciAxMiAyMDI0IDIzOjQ2OjAzIEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp"), ("code_challenge": "_Jl089_L-g4apm0MGlTLdF5fnbURZ7Ife49_g4pmn0Y"), ("code_challenge_method": "S256")] }
04/12/2024 23:46:04 +02:00 Request validation failed
04/12/2024 23:46:04 +02:00 AuthorizeRequestValidationLog { ClientId: "swagger", ClientName: "Client for Swagger use", RedirectUri: "https://localhost:7207/swagger/oauth2-redirect.html", AllowedRedirectUris: ["https://localhost:7207/swagger/oauth2-redirect.html"], SubjectId: "anonymous", ResponseType: "code", ResponseMode: "query", GrantType: "authorization_code", RequestedScopes: "api1 user", State: "RnJpIEFwciAxMiAyMDI0IDIzOjQ2OjAzIEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp", UiLocales: null, Nonce: null, AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: "", MaxAge: null, LoginHint: null, SessionId: null, Raw: [("response_type": "code"), ("client_id": "swagger"), ("redirect_uri": "https://localhost:7207/swagger/oauth2-redirect.html"), ("scope": "api1 user"), ("state": "RnJpIEFwciAxMiAyMDI0IDIzOjQ2OjAzIEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp"), ("code_challenge": "_Jl089_L-g4apm0MGlTLdF5fnbURZ7Ife49_g4pmn0Y"), ("code_challenge_method": "S256")] }
04/12/2024 23:46:04 +02:00 TokenIssuedFailureEvent { ClientId: "swagger", ClientName: "Client for Swagger use", RedirectUri: "https://localhost:7207/swagger/oauth2-redirect.html", Endpoint: "Authorize", SubjectId: null, Scopes: "api1 user", GrantType: "authorization_code", Error: "invalid_scope", ErrorDescription: "Identity scopes requested, but openid scope is missing", Category: "Token", Name: "Token Issued Failure", EventType: Failure, Id: 2001, Message: null, ActivityId: "0HN2R7795U1BP:00000007", TimeStamp: 04/12/2024 21:46:04, ProcessId: 7972, LocalIpAddress: "::1:5001", RemoteIpAddress: "::1" }
04/12/2024 23:46:04 +02:00 HTTP "GET" "/connect/authorize" responded 302 in 1256.6094 ms
04/12/2024 23:46:04 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/12/2024 23:46:04 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/12/2024 23:46:04 +02:00 HTTP "GET" "/home/error" responded 200 in 134.8737 ms
04/12/2024 23:47:15 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/12/2024 23:47:15 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/12/2024 23:47:15 +02:00 Request path "/connect/authorize" matched to endpoint type "Authorize"
04/12/2024 23:47:15 +02:00 Endpoint enabled: "Authorize", successfully created handler: "Duende.IdentityServer.Endpoints.AuthorizeEndpoint"
04/12/2024 23:47:15 +02:00 Invoking IdentityServer endpoint: "Duende.IdentityServer.Endpoints.AuthorizeEndpoint" for "/connect/authorize"
04/12/2024 23:47:15 +02:00 Start authorize request
04/12/2024 23:47:15 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/12/2024 23:47:15 +02:00 No user present in authorize request
04/12/2024 23:47:15 +02:00 Start authorize request protocol validation
04/12/2024 23:47:15 +02:00 client configuration validation for client "swagger" succeeded.
04/12/2024 23:47:15 +02:00 Checking for PKCE parameters
04/12/2024 23:47:15 +02:00 code_challenge is missing
AuthorizeRequestValidationLog { ClientId: "swagger", ClientName: "Client for Swagger use", RedirectUri: "https://localhost:7207/swagger/oauth2-redirect.html", AllowedRedirectUris: ["https://localhost:7207/swagger/oauth2-redirect.html"], SubjectId: "anonymous", ResponseType: "code", ResponseMode: "query", GrantType: "authorization_code", RequestedScopes: "", State: "RnJpIEFwciAxMiAyMDI0IDIzOjQ3OjE1IEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp", UiLocales: null, Nonce: null, AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: "", MaxAge: null, LoginHint: null, SessionId: null, Raw: [("response_type": "code"), ("client_id": "swagger"), ("redirect_uri": "https://localhost:7207/swagger/oauth2-redirect.html"), ("scope": "api1 user"), ("state": "RnJpIEFwciAxMiAyMDI0IDIzOjQ3OjE1IEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp")] }
04/12/2024 23:47:15 +02:00 Request validation failed
04/12/2024 23:47:15 +02:00 AuthorizeRequestValidationLog { ClientId: "swagger", ClientName: "Client for Swagger use", RedirectUri: "https://localhost:7207/swagger/oauth2-redirect.html", AllowedRedirectUris: ["https://localhost:7207/swagger/oauth2-redirect.html"], SubjectId: "anonymous", ResponseType: "code", ResponseMode: "query", GrantType: "authorization_code", RequestedScopes: "", State: "RnJpIEFwciAxMiAyMDI0IDIzOjQ3OjE1IEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp", UiLocales: null, Nonce: null, AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: "", MaxAge: null, LoginHint: null, SessionId: null, Raw: [("response_type": "code"), ("client_id": "swagger"), ("redirect_uri": "https://localhost:7207/swagger/oauth2-redirect.html"), ("scope": "api1 user"), ("state": "RnJpIEFwciAxMiAyMDI0IDIzOjQ3OjE1IEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp")] }
04/12/2024 23:47:15 +02:00 TokenIssuedFailureEvent { ClientId: "swagger", ClientName: "Client for Swagger use", RedirectUri: "https://localhost:7207/swagger/oauth2-redirect.html", Endpoint: "Authorize", SubjectId: null, Scopes: "", GrantType: "authorization_code", Error: "invalid_request", ErrorDescription: "code challenge required", Category: "Token", Name: "Token Issued Failure", EventType: Failure, Id: 2001, Message: null, ActivityId: "0HN2R7795U1BP:0000000F", TimeStamp: 04/12/2024 21:47:15, ProcessId: 7972, LocalIpAddress: "::1:5001", RemoteIpAddress: "::1" }
04/12/2024 23:47:15 +02:00 HTTP "GET" "/connect/authorize" responded 302 in 282.3804 ms
04/12/2024 23:47:15 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/12/2024 23:47:15 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/12/2024 23:47:15 +02:00 HTTP "GET" "/home/error" responded 200 in 13.2532 ms
04/12/2024 23:48:53 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/12/2024 23:48:53 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/12/2024 23:48:53 +02:00 Request path "/connect/authorize" matched to endpoint type "Authorize"
04/12/2024 23:48:53 +02:00 Endpoint enabled: "Authorize", successfully created handler: "Duende.IdentityServer.Endpoints.AuthorizeEndpoint"
04/12/2024 23:48:53 +02:00 Invoking IdentityServer endpoint: "Duende.IdentityServer.Endpoints.AuthorizeEndpoint" for "/connect/authorize"
04/12/2024 23:48:53 +02:00 Start authorize request
04/12/2024 23:48:53 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/12/2024 23:48:53 +02:00 No user present in authorize request
04/12/2024 23:48:53 +02:00 Start authorize request protocol validation
04/12/2024 23:48:53 +02:00 client configuration validation for client "swagger" succeeded.
04/12/2024 23:48:53 +02:00 Checking for PKCE parameters
04/12/2024 23:48:53 +02:00 code_challenge is missing
AuthorizeRequestValidationLog { ClientId: "swagger", ClientName: "Client for Swagger use", RedirectUri: "https://localhost:7207/swagger/oauth2-redirect.html", AllowedRedirectUris: ["https://localhost:7207/swagger/oauth2-redirect.html"], SubjectId: "anonymous", ResponseType: "code", ResponseMode: "query", GrantType: "authorization_code", RequestedScopes: "", State: "RnJpIEFwciAxMiAyMDI0IDIzOjQ4OjUzIEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp", UiLocales: null, Nonce: null, AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: "", MaxAge: null, LoginHint: null, SessionId: null, Raw: [("response_type": "code"), ("client_id": "swagger"), ("redirect_uri": "https://localhost:7207/swagger/oauth2-redirect.html"), ("scope": "api1 user"), ("state": "RnJpIEFwciAxMiAyMDI0IDIzOjQ4OjUzIEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp")] }
04/12/2024 23:48:53 +02:00 Request validation failed
04/12/2024 23:48:53 +02:00 AuthorizeRequestValidationLog { ClientId: "swagger", ClientName: "Client for Swagger use", RedirectUri: "https://localhost:7207/swagger/oauth2-redirect.html", AllowedRedirectUris: ["https://localhost:7207/swagger/oauth2-redirect.html"], SubjectId: "anonymous", ResponseType: "code", ResponseMode: "query", GrantType: "authorization_code", RequestedScopes: "", State: "RnJpIEFwciAxMiAyMDI0IDIzOjQ4OjUzIEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp", UiLocales: null, Nonce: null, AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: "", MaxAge: null, LoginHint: null, SessionId: null, Raw: [("response_type": "code"), ("client_id": "swagger"), ("redirect_uri": "https://localhost:7207/swagger/oauth2-redirect.html"), ("scope": "api1 user"), ("state": "RnJpIEFwciAxMiAyMDI0IDIzOjQ4OjUzIEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp")] }
04/12/2024 23:48:54 +02:00 TokenIssuedFailureEvent { ClientId: "swagger", ClientName: "Client for Swagger use", RedirectUri: "https://localhost:7207/swagger/oauth2-redirect.html", Endpoint: "Authorize", SubjectId: null, Scopes: "", GrantType: "authorization_code", Error: "invalid_request", ErrorDescription: "code challenge required", Category: "Token", Name: "Token Issued Failure", EventType: Failure, Id: 2001, Message: null, ActivityId: "0HN2R7795U1BP:00000017", TimeStamp: 04/12/2024 21:48:54, ProcessId: 7972, LocalIpAddress: "::1:5001", RemoteIpAddress: "::1" }
04/12/2024 23:48:54 +02:00 HTTP "GET" "/connect/authorize" responded 302 in 254.3389 ms
04/12/2024 23:48:54 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/12/2024 23:48:54 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/12/2024 23:48:54 +02:00 HTTP "GET" "/home/error" responded 200 in 11.5859 ms
04/13/2024 00:04:11 +02:00 Starting Duende IdentityServer version "7.0.4+4fd52ed639a4a1baea222f26f82827b5b9288b3a" (".NET 8.0.3")
04/13/2024 00:04:11 +02:00 You do not have a valid license key for the Duende software. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please start a conversation with us: https://duendesoftware.com/contact
04/13/2024 00:04:11 +02:00 You have automatic key management enabled, but you do not have a license. This feature requires the Business or Enterprise Edition tier of license. Alternatively you can disable automatic key management by setting the KeyManagement.Enabled property to false on the IdentityServerOptions.
04/13/2024 00:04:11 +02:00 You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
04/13/2024 00:04:11 +02:00 Using the default authentication scheme "Identity.Application" for IdentityServer
04/13/2024 00:04:11 +02:00 Using "Identity.Application" as default ASP.NET Core scheme for authentication
04/13/2024 00:04:11 +02:00 Using "Identity.External" as default ASP.NET Core scheme for sign-in
04/13/2024 00:04:11 +02:00 Using "Identity.External" as default ASP.NET Core scheme for sign-out
04/13/2024 00:04:11 +02:00 Using "Identity.Application" as default ASP.NET Core scheme for challenge
04/13/2024 00:04:11 +02:00 Using "Identity.Application" as default ASP.NET Core scheme for forbid
04/13/2024 00:04:11 +02:00 Now listening on: "https://localhost:5001"
04/13/2024 00:04:11 +02:00 Application started. Press Ctrl+C to shut down.
04/13/2024 00:04:11 +02:00 Hosting environment: "Development"
04/13/2024 00:04:11 +02:00 Content root path: "E:\aplresources\szkoladotneta\webapi\code\HomeDeviceMonitor\IdentityServer6"
04/13/2024 00:04:12 +02:00 Login Url: "/Account/Login"
04/13/2024 00:04:12 +02:00 Login Return Url Parameter: "ReturnUrl"
04/13/2024 00:04:12 +02:00 Logout Url: "/Account/Logout"
04/13/2024 00:04:12 +02:00 ConsentUrl Url: "/consent"
04/13/2024 00:04:12 +02:00 Consent Return Url Parameter: "returnUrl"
04/13/2024 00:04:12 +02:00 Error Url: "/home/error"
04/13/2024 00:04:12 +02:00 Error Id Parameter: "errorId"
04/13/2024 00:04:12 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/13/2024 00:04:12 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/13/2024 00:04:12 +02:00 HTTP "GET" "/" responded 200 in 227.8782 ms
04/13/2024 00:04:38 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/13/2024 00:04:38 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/13/2024 00:04:38 +02:00 Request path "/connect/authorize" matched to endpoint type "Authorize"
04/13/2024 00:04:38 +02:00 Endpoint enabled: "Authorize", successfully created handler: "Duende.IdentityServer.Endpoints.AuthorizeEndpoint"
04/13/2024 00:04:38 +02:00 Invoking IdentityServer endpoint: "Duende.IdentityServer.Endpoints.AuthorizeEndpoint" for "/connect/authorize"
04/13/2024 00:04:38 +02:00 Start authorize request
04/13/2024 00:04:38 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/13/2024 00:04:38 +02:00 No user present in authorize request
04/13/2024 00:04:38 +02:00 Start authorize request protocol validation
04/13/2024 00:04:38 +02:00 client configuration validation for client "swagger" succeeded.
04/13/2024 00:04:38 +02:00 Checking for PKCE parameters
04/13/2024 00:04:38 +02:00 code_challenge is missing
AuthorizeRequestValidationLog { ClientId: "swagger", ClientName: "Client for Swagger use", RedirectUri: "https://localhost:7207/swagger/oauth2-redirect.html", AllowedRedirectUris: ["https://localhost:7207/swagger/oauth2-redirect.html"], SubjectId: "anonymous", ResponseType: "code", ResponseMode: "query", GrantType: "authorization_code", RequestedScopes: "", State: "U2F0IEFwciAxMyAyMDI0IDAwOjA0OjM4IEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp", UiLocales: null, Nonce: null, AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: "", MaxAge: null, LoginHint: null, SessionId: null, Raw: [("response_type": "code"), ("client_id": "swagger"), ("redirect_uri": "https://localhost:7207/swagger/oauth2-redirect.html"), ("scope": "api1 user"), ("state": "U2F0IEFwciAxMyAyMDI0IDAwOjA0OjM4IEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp")] }
04/13/2024 00:04:38 +02:00 Request validation failed
04/13/2024 00:04:38 +02:00 AuthorizeRequestValidationLog { ClientId: "swagger", ClientName: "Client for Swagger use", RedirectUri: "https://localhost:7207/swagger/oauth2-redirect.html", AllowedRedirectUris: ["https://localhost:7207/swagger/oauth2-redirect.html"], SubjectId: "anonymous", ResponseType: "code", ResponseMode: "query", GrantType: "authorization_code", RequestedScopes: "", State: "U2F0IEFwciAxMyAyMDI0IDAwOjA0OjM4IEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp", UiLocales: null, Nonce: null, AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: "", MaxAge: null, LoginHint: null, SessionId: null, Raw: [("response_type": "code"), ("client_id": "swagger"), ("redirect_uri": "https://localhost:7207/swagger/oauth2-redirect.html"), ("scope": "api1 user"), ("state": "U2F0IEFwciAxMyAyMDI0IDAwOjA0OjM4IEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp")] }
04/13/2024 00:04:39 +02:00 TokenIssuedFailureEvent { ClientId: "swagger", ClientName: "Client for Swagger use", RedirectUri: "https://localhost:7207/swagger/oauth2-redirect.html", Endpoint: "Authorize", SubjectId: null, Scopes: "", GrantType: "authorization_code", Error: "invalid_request", ErrorDescription: "code challenge required", Category: "Token", Name: "Token Issued Failure", EventType: Failure, Id: 2001, Message: null, ActivityId: "0HN2R7HU5QDKL:00000007", TimeStamp: 04/12/2024 22:04:39, ProcessId: 22592, LocalIpAddress: "::1:5001", RemoteIpAddress: "::1" }
04/13/2024 00:04:39 +02:00 HTTP "GET" "/connect/authorize" responded 302 in 556.1310 ms
04/13/2024 00:04:39 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/13/2024 00:04:39 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/13/2024 00:04:39 +02:00 HTTP "GET" "/home/error" responded 200 in 150.8135 ms
04/13/2024 00:05:00 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/13/2024 00:05:00 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/13/2024 00:05:00 +02:00 Request path "/connect/authorize" matched to endpoint type "Authorize"
04/13/2024 00:05:00 +02:00 Endpoint enabled: "Authorize", successfully created handler: "Duende.IdentityServer.Endpoints.AuthorizeEndpoint"
04/13/2024 00:05:00 +02:00 Invoking IdentityServer endpoint: "Duende.IdentityServer.Endpoints.AuthorizeEndpoint" for "/connect/authorize"
04/13/2024 00:05:00 +02:00 Start authorize request
04/13/2024 00:05:00 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/13/2024 00:05:00 +02:00 No user present in authorize request
04/13/2024 00:05:00 +02:00 Start authorize request protocol validation
04/13/2024 00:05:00 +02:00 client configuration validation for client "swagger" succeeded.
04/13/2024 00:05:00 +02:00 Checking for PKCE parameters
04/13/2024 00:05:00 +02:00 code_challenge is missing
AuthorizeRequestValidationLog { ClientId: "swagger", ClientName: "Client for Swagger use", RedirectUri: "https://localhost:7207/swagger/oauth2-redirect.html", AllowedRedirectUris: ["https://localhost:7207/swagger/oauth2-redirect.html"], SubjectId: "anonymous", ResponseType: "code", ResponseMode: "query", GrantType: "authorization_code", RequestedScopes: "", State: "U2F0IEFwciAxMyAyMDI0IDAwOjA1OjAwIEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp", UiLocales: null, Nonce: null, AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: "", MaxAge: null, LoginHint: null, SessionId: null, Raw: [("response_type": "code"), ("client_id": "swagger"), ("redirect_uri": "https://localhost:7207/swagger/oauth2-redirect.html"), ("state": "U2F0IEFwciAxMyAyMDI0IDAwOjA1OjAwIEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp")] }
04/13/2024 00:05:00 +02:00 Request validation failed
04/13/2024 00:05:00 +02:00 AuthorizeRequestValidationLog { ClientId: "swagger", ClientName: "Client for Swagger use", RedirectUri: "https://localhost:7207/swagger/oauth2-redirect.html", AllowedRedirectUris: ["https://localhost:7207/swagger/oauth2-redirect.html"], SubjectId: "anonymous", ResponseType: "code", ResponseMode: "query", GrantType: "authorization_code", RequestedScopes: "", State: "U2F0IEFwciAxMyAyMDI0IDAwOjA1OjAwIEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp", UiLocales: null, Nonce: null, AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: "", MaxAge: null, LoginHint: null, SessionId: null, Raw: [("response_type": "code"), ("client_id": "swagger"), ("redirect_uri": "https://localhost:7207/swagger/oauth2-redirect.html"), ("state": "U2F0IEFwciAxMyAyMDI0IDAwOjA1OjAwIEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp")] }
04/13/2024 00:05:01 +02:00 TokenIssuedFailureEvent { ClientId: "swagger", ClientName: "Client for Swagger use", RedirectUri: "https://localhost:7207/swagger/oauth2-redirect.html", Endpoint: "Authorize", SubjectId: null, Scopes: "", GrantType: "authorization_code", Error: "invalid_request", ErrorDescription: "code challenge required", Category: "Token", Name: "Token Issued Failure", EventType: Failure, Id: 2001, Message: null, ActivityId: "0HN2R7HU5QDKL:0000000F", TimeStamp: 04/12/2024 22:05:01, ProcessId: 22592, LocalIpAddress: "::1:5001", RemoteIpAddress: "::1" }
04/13/2024 00:05:01 +02:00 HTTP "GET" "/connect/authorize" responded 302 in 390.6722 ms
04/13/2024 00:05:01 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/13/2024 00:05:01 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/13/2024 00:05:01 +02:00 HTTP "GET" "/home/error" responded 200 in 14.0962 ms
04/13/2024 00:11:20 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/13/2024 00:11:20 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/13/2024 00:11:20 +02:00 Request path "/connect/authorize" matched to endpoint type "Authorize"
04/13/2024 00:11:20 +02:00 Endpoint enabled: "Authorize", successfully created handler: "Duende.IdentityServer.Endpoints.AuthorizeEndpoint"
04/13/2024 00:11:20 +02:00 Invoking IdentityServer endpoint: "Duende.IdentityServer.Endpoints.AuthorizeEndpoint" for "/connect/authorize"
04/13/2024 00:11:20 +02:00 Start authorize request
04/13/2024 00:11:20 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/13/2024 00:11:20 +02:00 No user present in authorize request
04/13/2024 00:11:20 +02:00 Start authorize request protocol validation
04/13/2024 00:11:20 +02:00 client configuration validation for client "swagger" succeeded.
04/13/2024 00:11:20 +02:00 Checking for PKCE parameters
04/13/2024 00:11:20 +02:00 code_challenge is missing
AuthorizeRequestValidationLog { ClientId: "swagger", ClientName: "Client for Swagger use", RedirectUri: "https://localhost:7207/swagger/oauth2-redirect.html", AllowedRedirectUris: ["https://localhost:7207/swagger/oauth2-redirect.html"], SubjectId: "anonymous", ResponseType: "code", ResponseMode: "query", GrantType: "authorization_code", RequestedScopes: "", State: "U2F0IEFwciAxMyAyMDI0IDAwOjExOjIwIEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp", UiLocales: null, Nonce: null, AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: "", MaxAge: null, LoginHint: null, SessionId: null, Raw: [("response_type": "code"), ("client_id": "swagger"), ("redirect_uri": "https://localhost:7207/swagger/oauth2-redirect.html"), ("scope": "api1 user"), ("state": "U2F0IEFwciAxMyAyMDI0IDAwOjExOjIwIEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp")] }
04/13/2024 00:11:20 +02:00 Request validation failed
04/13/2024 00:11:20 +02:00 AuthorizeRequestValidationLog { ClientId: "swagger", ClientName: "Client for Swagger use", RedirectUri: "https://localhost:7207/swagger/oauth2-redirect.html", AllowedRedirectUris: ["https://localhost:7207/swagger/oauth2-redirect.html"], SubjectId: "anonymous", ResponseType: "code", ResponseMode: "query", GrantType: "authorization_code", RequestedScopes: "", State: "U2F0IEFwciAxMyAyMDI0IDAwOjExOjIwIEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp", UiLocales: null, Nonce: null, AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: "", MaxAge: null, LoginHint: null, SessionId: null, Raw: [("response_type": "code"), ("client_id": "swagger"), ("redirect_uri": "https://localhost:7207/swagger/oauth2-redirect.html"), ("scope": "api1 user"), ("state": "U2F0IEFwciAxMyAyMDI0IDAwOjExOjIwIEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp")] }
04/13/2024 00:11:20 +02:00 TokenIssuedFailureEvent { ClientId: "swagger", ClientName: "Client for Swagger use", RedirectUri: "https://localhost:7207/swagger/oauth2-redirect.html", Endpoint: "Authorize", SubjectId: null, Scopes: "", GrantType: "authorization_code", Error: "invalid_request", ErrorDescription: "code challenge required", Category: "Token", Name: "Token Issued Failure", EventType: Failure, Id: 2001, Message: null, ActivityId: "0HN2R7HU5QDKL:00000017", TimeStamp: 04/12/2024 22:11:20, ProcessId: 22592, LocalIpAddress: "::1:5001", RemoteIpAddress: "::1" }
04/13/2024 00:11:20 +02:00 HTTP "GET" "/connect/authorize" responded 302 in 266.4353 ms
04/13/2024 00:11:20 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/13/2024 00:11:20 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/13/2024 00:11:20 +02:00 HTTP "GET" "/home/error" responded 200 in 14.1239 ms
04/13/2024 00:30:53 +02:00 Starting Duende IdentityServer version "7.0.4+4fd52ed639a4a1baea222f26f82827b5b9288b3a" (".NET 8.0.3")
04/13/2024 00:30:54 +02:00 You do not have a valid license key for the Duende software. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please start a conversation with us: https://duendesoftware.com/contact
04/13/2024 00:30:54 +02:00 You have automatic key management enabled, but you do not have a license. This feature requires the Business or Enterprise Edition tier of license. Alternatively you can disable automatic key management by setting the KeyManagement.Enabled property to false on the IdentityServerOptions.
04/13/2024 00:30:54 +02:00 You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
04/13/2024 00:30:54 +02:00 Using the default authentication scheme "Identity.Application" for IdentityServer
04/13/2024 00:30:54 +02:00 Using "Identity.Application" as default ASP.NET Core scheme for authentication
04/13/2024 00:30:54 +02:00 Using "Identity.External" as default ASP.NET Core scheme for sign-in
04/13/2024 00:30:54 +02:00 Using "Identity.External" as default ASP.NET Core scheme for sign-out
04/13/2024 00:30:54 +02:00 Using "Identity.Application" as default ASP.NET Core scheme for challenge
04/13/2024 00:30:54 +02:00 Using "Identity.Application" as default ASP.NET Core scheme for forbid
04/13/2024 00:30:54 +02:00 Now listening on: "https://localhost:5001"
04/13/2024 00:30:54 +02:00 Application started. Press Ctrl+C to shut down.
04/13/2024 00:30:54 +02:00 Hosting environment: "Development"
04/13/2024 00:30:54 +02:00 Content root path: "E:\aplresources\szkoladotneta\webapi\code\HomeDeviceMonitor\IdentityServer6"
04/13/2024 00:30:55 +02:00 Login Url: "/Account/Login"
04/13/2024 00:30:55 +02:00 Login Return Url Parameter: "ReturnUrl"
04/13/2024 00:30:55 +02:00 Logout Url: "/Account/Logout"
04/13/2024 00:30:55 +02:00 ConsentUrl Url: "/consent"
04/13/2024 00:30:55 +02:00 Consent Return Url Parameter: "returnUrl"
04/13/2024 00:30:55 +02:00 Error Url: "/home/error"
04/13/2024 00:30:55 +02:00 Error Id Parameter: "errorId"
04/13/2024 00:30:55 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/13/2024 00:30:55 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/13/2024 00:30:55 +02:00 HTTP "GET" "/" responded 200 in 301.1093 ms
04/13/2024 00:31:48 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/13/2024 00:31:48 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/13/2024 00:31:48 +02:00 Request path "/connect/authorize" matched to endpoint type "Authorize"
04/13/2024 00:31:48 +02:00 Endpoint enabled: "Authorize", successfully created handler: "Duende.IdentityServer.Endpoints.AuthorizeEndpoint"
04/13/2024 00:31:48 +02:00 Invoking IdentityServer endpoint: "Duende.IdentityServer.Endpoints.AuthorizeEndpoint" for "/connect/authorize"
04/13/2024 00:31:48 +02:00 Start authorize request
04/13/2024 00:31:48 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/13/2024 00:31:48 +02:00 No user present in authorize request
04/13/2024 00:31:48 +02:00 Start authorize request protocol validation
04/13/2024 00:31:48 +02:00 client configuration validation for client "swagger" succeeded.
04/13/2024 00:31:48 +02:00 Checking for PKCE parameters
04/13/2024 00:31:48 +02:00 code_challenge is missing
AuthorizeRequestValidationLog { ClientId: "swagger", ClientName: "Client for Swagger use", RedirectUri: "https://localhost:7207/swagger/oauth2-redirect.html", AllowedRedirectUris: ["https://localhost:7207/swagger/oauth2-redirect.html"], SubjectId: "anonymous", ResponseType: "code", ResponseMode: "query", GrantType: "authorization_code", RequestedScopes: "", State: "U2F0IEFwciAxMyAyMDI0IDAwOjMxOjQ4IEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp", UiLocales: null, Nonce: null, AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: "", MaxAge: null, LoginHint: null, SessionId: null, Raw: [("response_type": "code"), ("client_id": "swagger"), ("redirect_uri": "https://localhost:7207/swagger/oauth2-redirect.html"), ("scope": "api1 user"), ("state": "U2F0IEFwciAxMyAyMDI0IDAwOjMxOjQ4IEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp")] }
04/13/2024 00:31:48 +02:00 Request validation failed
04/13/2024 00:31:48 +02:00 AuthorizeRequestValidationLog { ClientId: "swagger", ClientName: "Client for Swagger use", RedirectUri: "https://localhost:7207/swagger/oauth2-redirect.html", AllowedRedirectUris: ["https://localhost:7207/swagger/oauth2-redirect.html"], SubjectId: "anonymous", ResponseType: "code", ResponseMode: "query", GrantType: "authorization_code", RequestedScopes: "", State: "U2F0IEFwciAxMyAyMDI0IDAwOjMxOjQ4IEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp", UiLocales: null, Nonce: null, AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: "", MaxAge: null, LoginHint: null, SessionId: null, Raw: [("response_type": "code"), ("client_id": "swagger"), ("redirect_uri": "https://localhost:7207/swagger/oauth2-redirect.html"), ("scope": "api1 user"), ("state": "U2F0IEFwciAxMyAyMDI0IDAwOjMxOjQ4IEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp")] }
04/13/2024 00:31:49 +02:00 TokenIssuedFailureEvent { ClientId: "swagger", ClientName: "Client for Swagger use", RedirectUri: "https://localhost:7207/swagger/oauth2-redirect.html", Endpoint: "Authorize", SubjectId: null, Scopes: "", GrantType: "authorization_code", Error: "invalid_request", ErrorDescription: "code challenge required", Category: "Token", Name: "Token Issued Failure", EventType: Failure, Id: 2001, Message: null, ActivityId: "0HN2R80RO397M:00000007", TimeStamp: 04/12/2024 22:31:49, ProcessId: 14476, LocalIpAddress: "::1:5001", RemoteIpAddress: "::1" }
04/13/2024 00:31:49 +02:00 HTTP "GET" "/connect/authorize" responded 302 in 544.3953 ms
04/13/2024 00:31:49 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/13/2024 00:31:49 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/13/2024 00:31:49 +02:00 HTTP "GET" "/home/error" responded 200 in 68.8467 ms
04/13/2024 00:34:20 +02:00 Starting Duende IdentityServer version "7.0.4+4fd52ed639a4a1baea222f26f82827b5b9288b3a" (".NET 8.0.3")
04/13/2024 00:34:20 +02:00 You do not have a valid license key for the Duende software. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please start a conversation with us: https://duendesoftware.com/contact
04/13/2024 00:34:20 +02:00 You have automatic key management enabled, but you do not have a license. This feature requires the Business or Enterprise Edition tier of license. Alternatively you can disable automatic key management by setting the KeyManagement.Enabled property to false on the IdentityServerOptions.
04/13/2024 00:34:20 +02:00 You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
04/13/2024 00:34:20 +02:00 Using the default authentication scheme "Identity.Application" for IdentityServer
04/13/2024 00:34:20 +02:00 Using "Identity.Application" as default ASP.NET Core scheme for authentication
04/13/2024 00:34:20 +02:00 Using "Identity.External" as default ASP.NET Core scheme for sign-in
04/13/2024 00:34:20 +02:00 Using "Identity.External" as default ASP.NET Core scheme for sign-out
04/13/2024 00:34:20 +02:00 Using "Identity.Application" as default ASP.NET Core scheme for challenge
04/13/2024 00:34:20 +02:00 Using "Identity.Application" as default ASP.NET Core scheme for forbid
04/13/2024 00:34:21 +02:00 Now listening on: "https://localhost:5001"
04/13/2024 00:34:21 +02:00 Application started. Press Ctrl+C to shut down.
04/13/2024 00:34:21 +02:00 Hosting environment: "Development"
04/13/2024 00:34:21 +02:00 Content root path: "E:\aplresources\szkoladotneta\webapi\code\HomeDeviceMonitor\IdentityServer6"
04/13/2024 00:34:22 +02:00 Login Url: "/Account/Login"
04/13/2024 00:34:22 +02:00 Login Return Url Parameter: "ReturnUrl"
04/13/2024 00:34:22 +02:00 Logout Url: "/Account/Logout"
04/13/2024 00:34:22 +02:00 ConsentUrl Url: "/consent"
04/13/2024 00:34:22 +02:00 Consent Return Url Parameter: "returnUrl"
04/13/2024 00:34:22 +02:00 Error Url: "/home/error"
04/13/2024 00:34:22 +02:00 Error Id Parameter: "errorId"
04/13/2024 00:34:22 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/13/2024 00:34:22 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/13/2024 00:34:22 +02:00 HTTP "GET" "/" responded 200 in 241.8274 ms
04/13/2024 00:35:29 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/13/2024 00:35:29 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/13/2024 00:35:29 +02:00 Request path "/connect/authorize" matched to endpoint type "Authorize"
04/13/2024 00:35:29 +02:00 Endpoint enabled: "Authorize", successfully created handler: "Duende.IdentityServer.Endpoints.AuthorizeEndpoint"
04/13/2024 00:35:29 +02:00 Invoking IdentityServer endpoint: "Duende.IdentityServer.Endpoints.AuthorizeEndpoint" for "/connect/authorize"
04/13/2024 00:35:29 +02:00 Start authorize request
04/13/2024 00:35:29 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/13/2024 00:35:29 +02:00 No user present in authorize request
04/13/2024 00:35:29 +02:00 Start authorize request protocol validation
04/13/2024 00:35:29 +02:00 client configuration validation for client "swagger" succeeded.
04/13/2024 00:35:29 +02:00 Checking for PKCE parameters
04/13/2024 00:35:29 +02:00 Identity related scope requests, but no openid scope
AuthorizeRequestValidationLog { ClientId: "swagger", ClientName: "Client for Swagger use", RedirectUri: "https://localhost:7207/swagger/oauth2-redirect.html", AllowedRedirectUris: ["https://localhost:7207/swagger/oauth2-redirect.html"], SubjectId: "anonymous", ResponseType: "code", ResponseMode: "query", GrantType: "authorization_code", RequestedScopes: "api1 user", State: "U2F0IEFwciAxMyAyMDI0IDAwOjM1OjI5IEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp", UiLocales: null, Nonce: null, AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: "", MaxAge: null, LoginHint: null, SessionId: null, Raw: [("response_type": "code"), ("client_id": "swagger"), ("redirect_uri": "https://localhost:7207/swagger/oauth2-redirect.html"), ("scope": "api1 user"), ("state": "U2F0IEFwciAxMyAyMDI0IDAwOjM1OjI5IEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp"), ("code_challenge": "9wdBCtD-XaRyy25dAZeRvViOTobmTYWyH9S0cgdgZSg"), ("code_challenge_method": "S256")] }
04/13/2024 00:35:29 +02:00 Request validation failed
04/13/2024 00:35:29 +02:00 AuthorizeRequestValidationLog { ClientId: "swagger", ClientName: "Client for Swagger use", RedirectUri: "https://localhost:7207/swagger/oauth2-redirect.html", AllowedRedirectUris: ["https://localhost:7207/swagger/oauth2-redirect.html"], SubjectId: "anonymous", ResponseType: "code", ResponseMode: "query", GrantType: "authorization_code", RequestedScopes: "api1 user", State: "U2F0IEFwciAxMyAyMDI0IDAwOjM1OjI5IEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp", UiLocales: null, Nonce: null, AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: "", MaxAge: null, LoginHint: null, SessionId: null, Raw: [("response_type": "code"), ("client_id": "swagger"), ("redirect_uri": "https://localhost:7207/swagger/oauth2-redirect.html"), ("scope": "api1 user"), ("state": "U2F0IEFwciAxMyAyMDI0IDAwOjM1OjI5IEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp"), ("code_challenge": "9wdBCtD-XaRyy25dAZeRvViOTobmTYWyH9S0cgdgZSg"), ("code_challenge_method": "S256")] }
04/13/2024 00:35:29 +02:00 TokenIssuedFailureEvent { ClientId: "swagger", ClientName: "Client for Swagger use", RedirectUri: "https://localhost:7207/swagger/oauth2-redirect.html", Endpoint: "Authorize", SubjectId: null, Scopes: "api1 user", GrantType: "authorization_code", Error: "invalid_scope", ErrorDescription: "Identity scopes requested, but openid scope is missing", Category: "Token", Name: "Token Issued Failure", EventType: Failure, Id: 2001, Message: null, ActivityId: "0HN2R82PBL7AK:00000007", TimeStamp: 04/12/2024 22:35:29, ProcessId: 29988, LocalIpAddress: "::1:5001", RemoteIpAddress: "::1" }
04/13/2024 00:35:29 +02:00 HTTP "GET" "/connect/authorize" responded 302 in 589.5986 ms
04/13/2024 00:35:30 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/13/2024 00:35:30 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/13/2024 00:35:30 +02:00 HTTP "GET" "/home/error" responded 200 in 63.3000 ms
04/13/2024 00:36:56 +02:00 Starting Duende IdentityServer version "7.0.4+4fd52ed639a4a1baea222f26f82827b5b9288b3a" (".NET 8.0.3")
04/13/2024 00:36:56 +02:00 You do not have a valid license key for the Duende software. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please start a conversation with us: https://duendesoftware.com/contact
04/13/2024 00:36:56 +02:00 You have automatic key management enabled, but you do not have a license. This feature requires the Business or Enterprise Edition tier of license. Alternatively you can disable automatic key management by setting the KeyManagement.Enabled property to false on the IdentityServerOptions.
04/13/2024 00:36:56 +02:00 You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
04/13/2024 00:36:56 +02:00 Using the default authentication scheme "Identity.Application" for IdentityServer
04/13/2024 00:36:56 +02:00 Using "Identity.Application" as default ASP.NET Core scheme for authentication
04/13/2024 00:36:56 +02:00 Using "Identity.External" as default ASP.NET Core scheme for sign-in
04/13/2024 00:36:56 +02:00 Using "Identity.External" as default ASP.NET Core scheme for sign-out
04/13/2024 00:36:56 +02:00 Using "Identity.Application" as default ASP.NET Core scheme for challenge
04/13/2024 00:36:56 +02:00 Using "Identity.Application" as default ASP.NET Core scheme for forbid
04/13/2024 00:36:57 +02:00 Now listening on: "https://localhost:5001"
04/13/2024 00:36:57 +02:00 Application started. Press Ctrl+C to shut down.
04/13/2024 00:36:57 +02:00 Hosting environment: "Development"
04/13/2024 00:36:57 +02:00 Content root path: "E:\aplresources\szkoladotneta\webapi\code\HomeDeviceMonitor\IdentityServer6"
04/13/2024 00:36:58 +02:00 Login Url: "/Account/Login"
04/13/2024 00:36:58 +02:00 Login Return Url Parameter: "ReturnUrl"
04/13/2024 00:36:58 +02:00 Logout Url: "/Account/Logout"
04/13/2024 00:36:58 +02:00 ConsentUrl Url: "/consent"
04/13/2024 00:36:58 +02:00 Consent Return Url Parameter: "returnUrl"
04/13/2024 00:36:58 +02:00 Error Url: "/home/error"
04/13/2024 00:36:58 +02:00 Error Id Parameter: "errorId"
04/13/2024 00:36:58 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/13/2024 00:36:58 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/13/2024 00:36:58 +02:00 HTTP "GET" "/" responded 200 in 252.0667 ms
04/13/2024 00:37:18 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/13/2024 00:37:18 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/13/2024 00:37:18 +02:00 Request path "/connect/authorize" matched to endpoint type "Authorize"
04/13/2024 00:37:19 +02:00 Endpoint enabled: "Authorize", successfully created handler: "Duende.IdentityServer.Endpoints.AuthorizeEndpoint"
04/13/2024 00:37:19 +02:00 Invoking IdentityServer endpoint: "Duende.IdentityServer.Endpoints.AuthorizeEndpoint" for "/connect/authorize"
04/13/2024 00:37:19 +02:00 Start authorize request
04/13/2024 00:37:19 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/13/2024 00:37:19 +02:00 No user present in authorize request
04/13/2024 00:37:19 +02:00 Start authorize request protocol validation
04/13/2024 00:37:19 +02:00 client configuration validation for client "swagger" succeeded.
04/13/2024 00:37:19 +02:00 Checking for PKCE parameters
04/13/2024 00:37:19 +02:00 Identity related scope requests, but no openid scope
AuthorizeRequestValidationLog { ClientId: "swagger", ClientName: "Client for Swagger use", RedirectUri: "https://localhost:7207/swagger/oauth2-redirect.html", AllowedRedirectUris: ["https://localhost:7207/swagger/oauth2-redirect.html"], SubjectId: "anonymous", ResponseType: "code", ResponseMode: "query", GrantType: "authorization_code", RequestedScopes: "api1 user", State: "U2F0IEFwciAxMyAyMDI0IDAwOjM3OjE4IEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp", UiLocales: null, Nonce: null, AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: "", MaxAge: null, LoginHint: null, SessionId: null, Raw: [("response_type": "code"), ("client_id": "swagger"), ("redirect_uri": "https://localhost:7207/swagger/oauth2-redirect.html"), ("scope": "api1 user"), ("state": "U2F0IEFwciAxMyAyMDI0IDAwOjM3OjE4IEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp"), ("code_challenge": "QmJM72oJGV70FMXQspWSAhYMXtFXlsbJFkLQQ-BC880"), ("code_challenge_method": "S256")] }
04/13/2024 00:37:19 +02:00 Request validation failed
04/13/2024 00:37:19 +02:00 AuthorizeRequestValidationLog { ClientId: "swagger", ClientName: "Client for Swagger use", RedirectUri: "https://localhost:7207/swagger/oauth2-redirect.html", AllowedRedirectUris: ["https://localhost:7207/swagger/oauth2-redirect.html"], SubjectId: "anonymous", ResponseType: "code", ResponseMode: "query", GrantType: "authorization_code", RequestedScopes: "api1 user", State: "U2F0IEFwciAxMyAyMDI0IDAwOjM3OjE4IEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp", UiLocales: null, Nonce: null, AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: "", MaxAge: null, LoginHint: null, SessionId: null, Raw: [("response_type": "code"), ("client_id": "swagger"), ("redirect_uri": "https://localhost:7207/swagger/oauth2-redirect.html"), ("scope": "api1 user"), ("state": "U2F0IEFwciAxMyAyMDI0IDAwOjM3OjE4IEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp"), ("code_challenge": "QmJM72oJGV70FMXQspWSAhYMXtFXlsbJFkLQQ-BC880"), ("code_challenge_method": "S256")] }
04/13/2024 00:37:19 +02:00 TokenIssuedFailureEvent { ClientId: "swagger", ClientName: "Client for Swagger use", RedirectUri: "https://localhost:7207/swagger/oauth2-redirect.html", Endpoint: "Authorize", SubjectId: null, Scopes: "api1 user", GrantType: "authorization_code", Error: "invalid_scope", ErrorDescription: "Identity scopes requested, but openid scope is missing", Category: "Token", Name: "Token Issued Failure", EventType: Failure, Id: 2001, Message: null, ActivityId: "0HN2R847UL9EU:00000007", TimeStamp: 04/12/2024 22:37:19, ProcessId: 31200, LocalIpAddress: "::1:5001", RemoteIpAddress: "::1" }
04/13/2024 00:37:19 +02:00 HTTP "GET" "/connect/authorize" responded 302 in 592.4827 ms
04/13/2024 00:37:19 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/13/2024 00:37:19 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/13/2024 00:37:19 +02:00 HTTP "GET" "/home/error" responded 200 in 60.2678 ms
04/13/2024 00:38:08 +02:00 Starting Duende IdentityServer version "7.0.4+4fd52ed639a4a1baea222f26f82827b5b9288b3a" (".NET 8.0.3")
04/13/2024 00:38:09 +02:00 You do not have a valid license key for the Duende software. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please start a conversation with us: https://duendesoftware.com/contact
04/13/2024 00:38:09 +02:00 You have automatic key management enabled, but you do not have a license. This feature requires the Business or Enterprise Edition tier of license. Alternatively you can disable automatic key management by setting the KeyManagement.Enabled property to false on the IdentityServerOptions.
04/13/2024 00:38:09 +02:00 You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
04/13/2024 00:38:09 +02:00 Using the default authentication scheme "Identity.Application" for IdentityServer
04/13/2024 00:38:09 +02:00 Using "Identity.Application" as default ASP.NET Core scheme for authentication
04/13/2024 00:38:09 +02:00 Using "Identity.External" as default ASP.NET Core scheme for sign-in
04/13/2024 00:38:09 +02:00 Using "Identity.External" as default ASP.NET Core scheme for sign-out
04/13/2024 00:38:09 +02:00 Using "Identity.Application" as default ASP.NET Core scheme for challenge
04/13/2024 00:38:09 +02:00 Using "Identity.Application" as default ASP.NET Core scheme for forbid
04/13/2024 00:38:09 +02:00 Now listening on: "https://localhost:5001"
04/13/2024 00:38:09 +02:00 Application started. Press Ctrl+C to shut down.
04/13/2024 00:38:09 +02:00 Hosting environment: "Development"
04/13/2024 00:38:09 +02:00 Content root path: "E:\aplresources\szkoladotneta\webapi\code\HomeDeviceMonitor\IdentityServer6"
04/13/2024 00:38:10 +02:00 Login Url: "/Account/Login"
04/13/2024 00:38:10 +02:00 Login Return Url Parameter: "ReturnUrl"
04/13/2024 00:38:10 +02:00 Logout Url: "/Account/Logout"
04/13/2024 00:38:10 +02:00 ConsentUrl Url: "/consent"
04/13/2024 00:38:10 +02:00 Consent Return Url Parameter: "returnUrl"
04/13/2024 00:38:10 +02:00 Error Url: "/home/error"
04/13/2024 00:38:10 +02:00 Error Id Parameter: "errorId"
04/13/2024 00:38:10 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/13/2024 00:38:10 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/13/2024 00:38:10 +02:00 HTTP "GET" "/" responded 200 in 227.8183 ms
04/13/2024 00:39:25 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/13/2024 00:39:25 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/13/2024 00:39:25 +02:00 Request path "/connect/authorize" matched to endpoint type "Authorize"
04/13/2024 00:39:25 +02:00 Endpoint enabled: "Authorize", successfully created handler: "Duende.IdentityServer.Endpoints.AuthorizeEndpoint"
04/13/2024 00:39:25 +02:00 Invoking IdentityServer endpoint: "Duende.IdentityServer.Endpoints.AuthorizeEndpoint" for "/connect/authorize"
04/13/2024 00:39:25 +02:00 Start authorize request
04/13/2024 00:39:26 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/13/2024 00:39:26 +02:00 No user present in authorize request
04/13/2024 00:39:26 +02:00 Start authorize request protocol validation
04/13/2024 00:39:26 +02:00 client configuration validation for client "swagger" succeeded.
04/13/2024 00:39:26 +02:00 Checking for PKCE parameters
04/13/2024 00:39:26 +02:00 Calling into custom validator: "Duende.IdentityServer.Validation.DefaultCustomAuthorizeRequestValidator"
04/13/2024 00:39:26 +02:00 ValidatedAuthorizeRequest
AuthorizeRequestValidationLog { ClientId: "swagger", ClientName: "Client for Swagger use", RedirectUri: "https://localhost:7207/swagger/oauth2-redirect.html", AllowedRedirectUris: ["https://localhost:7207/swagger/oauth2-redirect.html"], SubjectId: "anonymous", ResponseType: "code", ResponseMode: "query", GrantType: "authorization_code", RequestedScopes: "api1 user openid", State: "U2F0IEFwciAxMyAyMDI0IDAwOjM5OjI1IEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp", UiLocales: null, Nonce: null, AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: "", MaxAge: null, LoginHint: null, SessionId: "", Raw: [("response_type": "code"), ("client_id": "swagger"), ("redirect_uri": "https://localhost:7207/swagger/oauth2-redirect.html"), ("scope": "api1 user openid"), ("state": "U2F0IEFwciAxMyAyMDI0IDAwOjM5OjI1IEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp"), ("code_challenge": "UxucavZd5ktVGv92_mGBXUi7zUANjPpN7h0jbeBEFso"), ("code_challenge_method": "S256")] }
04/13/2024 00:39:26 +02:00 Showing login: User is not authenticated
04/13/2024 00:39:26 +02:00 HTTP "GET" "/connect/authorize" responded 302 in 1096.5482 ms
04/13/2024 00:39:26 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/13/2024 00:39:26 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/13/2024 00:39:26 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/13/2024 00:39:26 +02:00 Start authorize request protocol validation
04/13/2024 00:39:26 +02:00 client configuration validation for client "swagger" succeeded.
04/13/2024 00:39:26 +02:00 Checking for PKCE parameters
04/13/2024 00:39:26 +02:00 Calling into custom validator: "Duende.IdentityServer.Validation.DefaultCustomAuthorizeRequestValidator"
04/13/2024 00:39:27 +02:00 HTTP "GET" "/Account/Login" responded 200 in 482.2244 ms
04/13/2024 00:39:46 +02:00 IdentityServer CorsPolicyService didn't handle CORS request made for path: "/Account/Login" from origin: "null" because it is not for an IdentityServer CORS endpoint. To allow CORS requests to non IdentityServer endpoints, please set up your own Cors policy for your application by calling app.UseCors("MyPolicy") in the pipeline setup.
04/13/2024 00:39:46 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/13/2024 00:39:46 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/13/2024 00:39:46 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/13/2024 00:39:46 +02:00 Start authorize request protocol validation
04/13/2024 00:39:46 +02:00 client configuration validation for client "swagger" succeeded.
04/13/2024 00:39:46 +02:00 Checking for PKCE parameters
04/13/2024 00:39:46 +02:00 Calling into custom validator: "Duende.IdentityServer.Validation.DefaultCustomAuthorizeRequestValidator"
04/13/2024 00:39:49 +02:00 Augmenting SignInContext
04/13/2024 00:39:49 +02:00 Adding idp claim with value: "local"
04/13/2024 00:39:50 +02:00 Adding auth_time claim with value: "1712961589"
04/13/2024 00:39:50 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/13/2024 00:39:50 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/13/2024 00:39:50 +02:00 AuthenticationScheme: "Identity.Application" signed in.
04/13/2024 00:39:50 +02:00 UserLoginSuccessEvent { Username: "alice", Provider: null, ProviderUserId: null, SubjectId: "0d2a181c-af89-47bb-84ed-e64dbae31d8b", DisplayName: "alice", Endpoint: "UI", ClientId: "swagger", Category: "Authentication", Name: "User Login Success", EventType: Success, Id: 1000, Message: null, ActivityId: "0HN2R84TCR2OE:0000000F", TimeStamp: 04/12/2024 22:39:50, ProcessId: 27956, LocalIpAddress: "::1:5001", RemoteIpAddress: "::1" }
04/13/2024 00:39:50 +02:00 HTTP "POST" "/Account/Login" responded 302 in 3805.7332 ms
04/13/2024 00:39:50 +02:00 AuthenticationScheme: "Identity.Application" was successfully authenticated.
04/13/2024 00:39:50 +02:00 AuthenticationScheme: "Identity.Application" was successfully authenticated.
04/13/2024 00:39:50 +02:00 Request path "/connect/authorize/callback" matched to endpoint type "Authorize"
04/13/2024 00:39:50 +02:00 Endpoint enabled: "Authorize", successfully created handler: "Duende.IdentityServer.Endpoints.AuthorizeCallbackEndpoint"
04/13/2024 00:39:50 +02:00 Invoking IdentityServer endpoint: "Duende.IdentityServer.Endpoints.AuthorizeCallbackEndpoint" for "/connect/authorize/callback"
04/13/2024 00:39:50 +02:00 Start authorize callback request
04/13/2024 00:39:50 +02:00 User in authorize request: "0d2a181c-af89-47bb-84ed-e64dbae31d8b"
04/13/2024 00:39:50 +02:00 Start authorize request protocol validation
04/13/2024 00:39:50 +02:00 client configuration validation for client "swagger" succeeded.
04/13/2024 00:39:50 +02:00 Checking for PKCE parameters
04/13/2024 00:39:50 +02:00 Calling into custom validator: "Duende.IdentityServer.Validation.DefaultCustomAuthorizeRequestValidator"
04/13/2024 00:39:50 +02:00 ValidatedAuthorizeRequest
AuthorizeRequestValidationLog { ClientId: "swagger", ClientName: "Client for Swagger use", RedirectUri: "https://localhost:7207/swagger/oauth2-redirect.html", AllowedRedirectUris: ["https://localhost:7207/swagger/oauth2-redirect.html"], SubjectId: "0d2a181c-af89-47bb-84ed-e64dbae31d8b", ResponseType: "code", ResponseMode: "query", GrantType: "authorization_code", RequestedScopes: "api1 user openid", State: "U2F0IEFwciAxMyAyMDI0IDAwOjM5OjI1IEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp", UiLocales: null, Nonce: null, AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: "", MaxAge: null, LoginHint: null, SessionId: "8DA68F3BC734D5C8CD91B193A61D55E2", Raw: [("response_type": "code"), ("client_id": "swagger"), ("redirect_uri": "https://localhost:7207/swagger/oauth2-redirect.html"), ("scope": "api1 user openid"), ("state": "U2F0IEFwciAxMyAyMDI0IDAwOjM5OjI1IEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp"), ("code_challenge": "UxucavZd5ktVGv92_mGBXUi7zUANjPpN7h0jbeBEFso"), ("code_challenge_method": "S256")] }
04/13/2024 00:39:50 +02:00 Client is configured to not require consent, no consent is required
04/13/2024 00:39:50 +02:00 Creating Authorization Code Flow response.
04/13/2024 00:39:51 +02:00 TokenIssuedSuccessEvent { ClientId: "swagger", ClientName: "Client for Swagger use", RedirectUri: "https://localhost:7207/swagger/oauth2-redirect.html", Endpoint: "Authorize", SubjectId: "0d2a181c-af89-47bb-84ed-e64dbae31d8b", Scopes: "api1 user openid", GrantType: "authorization_code", Tokens: [Token { TokenType: "code", TokenValue: "****2E-1" }], Category: "Token", Name: "Token Issued Success", EventType: Success, Id: 2000, Message: null, ActivityId: "0HN2R84TCR2OE:00000011", TimeStamp: 04/12/2024 22:39:51, ProcessId: 27956, LocalIpAddress: "::1:5001", RemoteIpAddress: "::1" }
04/13/2024 00:39:51 +02:00 Authorize endpoint response
AuthorizeResponseLog { SubjectId: "0d2a181c-af89-47bb-84ed-e64dbae31d8b", ClientId: "swagger", RedirectUri: "https://localhost:7207/swagger/oauth2-redirect.html", State: "U2F0IEFwciAxMyAyMDI0IDAwOjM5OjI1IEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp", Scope: "api1 user openid", Error: null, ErrorDescription: null }
04/13/2024 00:39:51 +02:00 Augmenting SignInContext
04/13/2024 00:39:51 +02:00 AuthenticationScheme: "Identity.Application" signed in.
04/13/2024 00:39:51 +02:00 HTTP "GET" "/connect/authorize/callback" responded 302 in 992.4829 ms
04/13/2024 00:39:51 +02:00 CORS request made for path: "/connect/token" from origin: "https://localhost:7207"
04/13/2024 00:39:51 +02:00 Client list checked and origin: "https://localhost:7207" is allowed
04/13/2024 00:39:51 +02:00 CorsPolicyService allowed origin: "https://localhost:7207"
04/13/2024 00:39:51 +02:00 HTTP "OPTIONS" "/connect/token" responded 204 in 87.7266 ms
04/13/2024 00:39:51 +02:00 CORS request made for path: "/connect/token" from origin: "https://localhost:7207"
04/13/2024 00:39:51 +02:00 Client list checked and origin: "https://localhost:7207" is allowed
04/13/2024 00:39:51 +02:00 CorsPolicyService allowed origin: "https://localhost:7207"
04/13/2024 00:39:51 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/13/2024 00:39:51 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/13/2024 00:39:51 +02:00 Request path "/connect/token" matched to endpoint type "Token"
04/13/2024 00:39:51 +02:00 Endpoint enabled: "Token", successfully created handler: "Duende.IdentityServer.Endpoints.TokenEndpoint"
04/13/2024 00:39:51 +02:00 Invoking IdentityServer endpoint: "Duende.IdentityServer.Endpoints.TokenEndpoint" for "/connect/token"
04/13/2024 00:39:51 +02:00 Start token request.
04/13/2024 00:39:51 +02:00 Start client validation
04/13/2024 00:39:51 +02:00 Start parsing Basic Authentication secret
04/13/2024 00:39:51 +02:00 Start parsing for secret in post body
04/13/2024 00:39:51 +02:00 client id without secret found
04/13/2024 00:39:51 +02:00 Parser found secret: "PostBodySecretParser"
04/13/2024 00:39:51 +02:00 Start parsing for JWT client assertion in post body
04/13/2024 00:39:51 +02:00 No JWT client assertion found in post body
04/13/2024 00:39:51 +02:00 Secret id found: "swagger"
04/13/2024 00:39:51 +02:00 client configuration validation for client "swagger" succeeded.
04/13/2024 00:39:51 +02:00 Hashed shared secret validator cannot process "NoSecret"
04/13/2024 00:39:51 +02:00 Secret validators could not validate secret
04/13/2024 00:39:51 +02:00 ClientAuthenticationFailureEvent { ClientId: "swagger", Category: "Authentication", Name: "Client Authentication Failure", EventType: Failure, Id: 1011, Message: "Invalid client secret", ActivityId: "0HN2R84TCR2OF:00000003", TimeStamp: 04/12/2024 22:39:51, ProcessId: 27956, LocalIpAddress: "::1:5001", RemoteIpAddress: "::1" }
04/13/2024 00:39:52 +02:00 Client secret validation failed for client: "swagger".
04/13/2024 00:39:52 +02:00 HTTP "POST" "/connect/token" responded 400 in 408.9994 ms
04/13/2024 00:41:08 +02:00 AuthenticationScheme: "Identity.Application" was successfully authenticated.
04/13/2024 00:41:08 +02:00 AuthenticationScheme: "Identity.Application" was successfully authenticated.
04/13/2024 00:41:08 +02:00 Request path "/connect/authorize" matched to endpoint type "Authorize"
04/13/2024 00:41:08 +02:00 Endpoint enabled: "Authorize", successfully created handler: "Duende.IdentityServer.Endpoints.AuthorizeEndpoint"
04/13/2024 00:41:08 +02:00 Invoking IdentityServer endpoint: "Duende.IdentityServer.Endpoints.AuthorizeEndpoint" for "/connect/authorize"
04/13/2024 00:41:08 +02:00 Start authorize request
04/13/2024 00:41:08 +02:00 User in authorize request: "0d2a181c-af89-47bb-84ed-e64dbae31d8b"
04/13/2024 00:41:08 +02:00 Start authorize request protocol validation
04/13/2024 00:41:08 +02:00 client configuration validation for client "swagger" succeeded.
04/13/2024 00:41:08 +02:00 Checking for PKCE parameters
04/13/2024 00:41:08 +02:00 code_challenge is missing
AuthorizeRequestValidationLog { ClientId: "swagger", ClientName: "Client for Swagger use", RedirectUri: "https://localhost:7207/swagger/oauth2-redirect.html", AllowedRedirectUris: ["https://localhost:7207/swagger/oauth2-redirect.html"], SubjectId: "0d2a181c-af89-47bb-84ed-e64dbae31d8b", ResponseType: "code", ResponseMode: "query", GrantType: "authorization_code", RequestedScopes: "", State: "U2F0IEFwciAxMyAyMDI0IDAwOjQxOjA4IEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp", UiLocales: null, Nonce: null, AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: "", MaxAge: null, LoginHint: null, SessionId: null, Raw: [("response_type": "code"), ("client_id": "swagger"), ("redirect_uri": "https://localhost:7207/swagger/oauth2-redirect.html"), ("scope": "api1 user openid"), ("state": "U2F0IEFwciAxMyAyMDI0IDAwOjQxOjA4IEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp")] }
04/13/2024 00:41:08 +02:00 Request validation failed
04/13/2024 00:41:08 +02:00 AuthorizeRequestValidationLog { ClientId: "swagger", ClientName: "Client for Swagger use", RedirectUri: "https://localhost:7207/swagger/oauth2-redirect.html", AllowedRedirectUris: ["https://localhost:7207/swagger/oauth2-redirect.html"], SubjectId: "0d2a181c-af89-47bb-84ed-e64dbae31d8b", ResponseType: "code", ResponseMode: "query", GrantType: "authorization_code", RequestedScopes: "", State: "U2F0IEFwciAxMyAyMDI0IDAwOjQxOjA4IEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp", UiLocales: null, Nonce: null, AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: "", MaxAge: null, LoginHint: null, SessionId: null, Raw: [("response_type": "code"), ("client_id": "swagger"), ("redirect_uri": "https://localhost:7207/swagger/oauth2-redirect.html"), ("scope": "api1 user openid"), ("state": "U2F0IEFwciAxMyAyMDI0IDAwOjQxOjA4IEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp")] }
04/13/2024 00:41:08 +02:00 TokenIssuedFailureEvent { ClientId: "swagger", ClientName: "Client for Swagger use", RedirectUri: "https://localhost:7207/swagger/oauth2-redirect.html", Endpoint: "Authorize", SubjectId: "0d2a181c-af89-47bb-84ed-e64dbae31d8b", Scopes: "", GrantType: "authorization_code", Error: "invalid_request", ErrorDescription: "code challenge required", Category: "Token", Name: "Token Issued Failure", EventType: Failure, Id: 2001, Message: null, ActivityId: "0HN2R84TCR2OE:00000013", TimeStamp: 04/12/2024 22:41:08, ProcessId: 27956, LocalIpAddress: "::1:5001", RemoteIpAddress: "::1" }
04/13/2024 00:41:08 +02:00 HTTP "GET" "/connect/authorize" responded 302 in 240.4102 ms
04/13/2024 00:41:08 +02:00 AuthenticationScheme: "Identity.Application" was successfully authenticated.
04/13/2024 00:41:08 +02:00 AuthenticationScheme: "Identity.Application" was successfully authenticated.
04/13/2024 00:41:09 +02:00 HTTP "GET" "/home/error" responded 200 in 82.1217 ms
04/13/2024 00:41:30 +02:00 AuthenticationScheme: "Identity.Application" was successfully authenticated.
04/13/2024 00:41:30 +02:00 AuthenticationScheme: "Identity.Application" was successfully authenticated.
04/13/2024 00:41:30 +02:00 Request path "/connect/authorize" matched to endpoint type "Authorize"
04/13/2024 00:41:30 +02:00 Endpoint enabled: "Authorize", successfully created handler: "Duende.IdentityServer.Endpoints.AuthorizeEndpoint"
04/13/2024 00:41:30 +02:00 Invoking IdentityServer endpoint: "Duende.IdentityServer.Endpoints.AuthorizeEndpoint" for "/connect/authorize"
04/13/2024 00:41:30 +02:00 Start authorize request
04/13/2024 00:41:30 +02:00 User in authorize request: "0d2a181c-af89-47bb-84ed-e64dbae31d8b"
04/13/2024 00:41:30 +02:00 Start authorize request protocol validation
04/13/2024 00:41:30 +02:00 client configuration validation for client "swagger" succeeded.
04/13/2024 00:41:30 +02:00 Checking for PKCE parameters
04/13/2024 00:41:30 +02:00 code_challenge is missing
AuthorizeRequestValidationLog { ClientId: "swagger", ClientName: "Client for Swagger use", RedirectUri: "https://localhost:7207/swagger/oauth2-redirect.html", AllowedRedirectUris: ["https://localhost:7207/swagger/oauth2-redirect.html"], SubjectId: "0d2a181c-af89-47bb-84ed-e64dbae31d8b", ResponseType: "code", ResponseMode: "query", GrantType: "authorization_code", RequestedScopes: "", State: "U2F0IEFwciAxMyAyMDI0IDAwOjQxOjMwIEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp", UiLocales: null, Nonce: null, AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: "", MaxAge: null, LoginHint: null, SessionId: null, Raw: [("response_type": "code"), ("client_id": "swagger"), ("redirect_uri": "https://localhost:7207/swagger/oauth2-redirect.html"), ("scope": "api1 user openid"), ("state": "U2F0IEFwciAxMyAyMDI0IDAwOjQxOjMwIEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp")] }
04/13/2024 00:41:30 +02:00 Request validation failed
04/13/2024 00:41:30 +02:00 AuthorizeRequestValidationLog { ClientId: "swagger", ClientName: "Client for Swagger use", RedirectUri: "https://localhost:7207/swagger/oauth2-redirect.html", AllowedRedirectUris: ["https://localhost:7207/swagger/oauth2-redirect.html"], SubjectId: "0d2a181c-af89-47bb-84ed-e64dbae31d8b", ResponseType: "code", ResponseMode: "query", GrantType: "authorization_code", RequestedScopes: "", State: "U2F0IEFwciAxMyAyMDI0IDAwOjQxOjMwIEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp", UiLocales: null, Nonce: null, AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: "", MaxAge: null, LoginHint: null, SessionId: null, Raw: [("response_type": "code"), ("client_id": "swagger"), ("redirect_uri": "https://localhost:7207/swagger/oauth2-redirect.html"), ("scope": "api1 user openid"), ("state": "U2F0IEFwciAxMyAyMDI0IDAwOjQxOjMwIEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp")] }
04/13/2024 00:41:30 +02:00 TokenIssuedFailureEvent { ClientId: "swagger", ClientName: "Client for Swagger use", RedirectUri: "https://localhost:7207/swagger/oauth2-redirect.html", Endpoint: "Authorize", SubjectId: "0d2a181c-af89-47bb-84ed-e64dbae31d8b", Scopes: "", GrantType: "authorization_code", Error: "invalid_request", ErrorDescription: "code challenge required", Category: "Token", Name: "Token Issued Failure", EventType: Failure, Id: 2001, Message: null, ActivityId: "0HN2R84TCR2OE:0000001B", TimeStamp: 04/12/2024 22:41:30, ProcessId: 27956, LocalIpAddress: "::1:5001", RemoteIpAddress: "::1" }
04/13/2024 00:41:30 +02:00 HTTP "GET" "/connect/authorize" responded 302 in 233.3020 ms
04/13/2024 00:41:30 +02:00 AuthenticationScheme: "Identity.Application" was successfully authenticated.
04/13/2024 00:41:30 +02:00 AuthenticationScheme: "Identity.Application" was successfully authenticated.
04/13/2024 00:41:30 +02:00 HTTP "GET" "/home/error" responded 200 in 13.3566 ms
04/13/2024 00:43:08 +02:00 AuthenticationScheme: "Identity.Application" was successfully authenticated.
04/13/2024 00:43:08 +02:00 AuthenticationScheme: "Identity.Application" was successfully authenticated.
04/13/2024 00:43:08 +02:00 Request path "/connect/authorize" matched to endpoint type "Authorize"
04/13/2024 00:43:08 +02:00 Endpoint enabled: "Authorize", successfully created handler: "Duende.IdentityServer.Endpoints.AuthorizeEndpoint"
04/13/2024 00:43:08 +02:00 Invoking IdentityServer endpoint: "Duende.IdentityServer.Endpoints.AuthorizeEndpoint" for "/connect/authorize"
04/13/2024 00:43:08 +02:00 Start authorize request
04/13/2024 00:43:08 +02:00 User in authorize request: "0d2a181c-af89-47bb-84ed-e64dbae31d8b"
04/13/2024 00:43:08 +02:00 Start authorize request protocol validation
04/13/2024 00:43:08 +02:00 client configuration validation for client "swagger" succeeded.
04/13/2024 00:43:08 +02:00 Checking for PKCE parameters
04/13/2024 00:43:08 +02:00 Calling into custom validator: "Duende.IdentityServer.Validation.DefaultCustomAuthorizeRequestValidator"
04/13/2024 00:43:08 +02:00 ValidatedAuthorizeRequest
AuthorizeRequestValidationLog { ClientId: "swagger", ClientName: "Client for Swagger use", RedirectUri: "https://localhost:7207/swagger/oauth2-redirect.html", AllowedRedirectUris: ["https://localhost:7207/swagger/oauth2-redirect.html"], SubjectId: "0d2a181c-af89-47bb-84ed-e64dbae31d8b", ResponseType: "code", ResponseMode: "query", GrantType: "authorization_code", RequestedScopes: "api1 user openid", State: "U2F0IEFwciAxMyAyMDI0IDAwOjQzOjA4IEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp", UiLocales: null, Nonce: null, AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: "", MaxAge: null, LoginHint: null, SessionId: "8DA68F3BC734D5C8CD91B193A61D55E2", Raw: [("response_type": "code"), ("client_id": "swagger"), ("redirect_uri": "https://localhost:7207/swagger/oauth2-redirect.html"), ("scope": "api1 user openid"), ("state": "U2F0IEFwciAxMyAyMDI0IDAwOjQzOjA4IEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp"), ("code_challenge": "fRYSfd1wmA2vFsIHKfi5AmS-F9h5tt7WhABNwFx7ob0"), ("code_challenge_method": "S256")] }
04/13/2024 00:43:08 +02:00 Client is configured to not require consent, no consent is required
04/13/2024 00:43:08 +02:00 Creating Authorization Code Flow response.
04/13/2024 00:43:08 +02:00 TokenIssuedSuccessEvent { ClientId: "swagger", ClientName: "Client for Swagger use", RedirectUri: "https://localhost:7207/swagger/oauth2-redirect.html", Endpoint: "Authorize", SubjectId: "0d2a181c-af89-47bb-84ed-e64dbae31d8b", Scopes: "api1 user openid", GrantType: "authorization_code", Tokens: [Token { TokenType: "code", TokenValue: "****51-1" }], Category: "Token", Name: "Token Issued Success", EventType: Success, Id: 2000, Message: null, ActivityId: "0HN2R84TCR2OE:00000023", TimeStamp: 04/12/2024 22:43:08, ProcessId: 27956, LocalIpAddress: "::1:5001", RemoteIpAddress: "::1" }
04/13/2024 00:43:08 +02:00 Authorize endpoint response
AuthorizeResponseLog { SubjectId: "0d2a181c-af89-47bb-84ed-e64dbae31d8b", ClientId: "swagger", RedirectUri: "https://localhost:7207/swagger/oauth2-redirect.html", State: "U2F0IEFwciAxMyAyMDI0IDAwOjQzOjA4IEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp", Scope: "api1 user openid", Error: null, ErrorDescription: null }
04/13/2024 00:43:08 +02:00 HTTP "GET" "/connect/authorize" responded 302 in 232.2343 ms
04/13/2024 00:43:08 +02:00 CORS request made for path: "/connect/token" from origin: "https://localhost:7207"
04/13/2024 00:43:08 +02:00 Client list checked and origin: "https://localhost:7207" is allowed
04/13/2024 00:43:08 +02:00 CorsPolicyService allowed origin: "https://localhost:7207"
04/13/2024 00:43:08 +02:00 HTTP "OPTIONS" "/connect/token" responded 204 in 55.7457 ms
04/13/2024 00:43:08 +02:00 CORS request made for path: "/connect/token" from origin: "https://localhost:7207"
04/13/2024 00:43:08 +02:00 Client list checked and origin: "https://localhost:7207" is allowed
04/13/2024 00:43:08 +02:00 CorsPolicyService allowed origin: "https://localhost:7207"
04/13/2024 00:43:08 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/13/2024 00:43:08 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/13/2024 00:43:08 +02:00 Request path "/connect/token" matched to endpoint type "Token"
04/13/2024 00:43:08 +02:00 Endpoint enabled: "Token", successfully created handler: "Duende.IdentityServer.Endpoints.TokenEndpoint"
04/13/2024 00:43:08 +02:00 Invoking IdentityServer endpoint: "Duende.IdentityServer.Endpoints.TokenEndpoint" for "/connect/token"
04/13/2024 00:43:08 +02:00 Start token request.
04/13/2024 00:43:08 +02:00 Start client validation
04/13/2024 00:43:08 +02:00 Start parsing Basic Authentication secret
04/13/2024 00:43:08 +02:00 Start parsing for secret in post body
04/13/2024 00:43:08 +02:00 Parser found secret: "PostBodySecretParser"
04/13/2024 00:43:08 +02:00 Secret id found: "swagger"
04/13/2024 00:43:08 +02:00 client configuration validation for client "swagger" succeeded.
04/13/2024 00:43:08 +02:00 Secret validator success: "HashedSharedSecretValidator"
04/13/2024 00:43:08 +02:00 Client validation success
04/13/2024 00:43:08 +02:00 ClientAuthenticationSuccessEvent { ClientId: "swagger", AuthenticationMethod: "SharedSecret", Category: "Authentication", Name: "Client Authentication Success", EventType: Success, Id: 1010, Message: null, ActivityId: "0HN2R84TCR2OF:00000007", TimeStamp: 04/12/2024 22:43:08, ProcessId: 27956, LocalIpAddress: "::1:5001", RemoteIpAddress: "::1" }
04/13/2024 00:43:08 +02:00 Start token request validation
04/13/2024 00:43:08 +02:00 Start validation of authorization code token request
04/13/2024 00:43:08 +02:00 Client required a proof key for code exchange. Starting PKCE validation
04/13/2024 00:43:08 +02:00 Validation of authorization code token request success
04/13/2024 00:43:08 +02:00 Token request validation success, TokenRequestValidationLog { ClientId: "swagger", ClientName: "Client for Swagger use", GrantType: "authorization_code", Scopes: null, AuthorizationCode: "****51-1", RefreshToken: "********", UserName: null, AuthenticationContextReferenceClasses: null, Tenant: null, IdP: null, Raw: [("grant_type": "authorization_code"), ("code": "***REDACTED***"), ("client_id": "swagger"), ("client_secret": "***REDACTED***"), ("redirect_uri": "https://localhost:7207/swagger/oauth2-redirect.html"), ("code_verifier": "8oTAnqn8kZfGSZLEdAu7QbAL58VgSyqJ6CAx9nSy4-E")] }
04/13/2024 00:43:08 +02:00 client configuration validation for client "swagger" succeeded.
04/13/2024 00:43:08 +02:00 Getting claims for access token for client: "swagger"
04/13/2024 00:43:08 +02:00 Getting claims for access token for subject: "0d2a181c-af89-47bb-84ed-e64dbae31d8b"
04/13/2024 00:43:09 +02:00 Active signing key found with kid "6B1C32E36545F634A32CA2D8AE090DC7" for alg "RS256". Expires in 89.20:34:21.8832747. Retires in 103.20:34:21.8832747
04/13/2024 00:43:09 +02:00 client configuration validation for client "swagger" succeeded.
04/13/2024 00:43:09 +02:00 Active signing key found with kid "6B1C32E36545F634A32CA2D8AE090DC7" for alg "RS256". Expires in 89.20:34:21.8218248. Retires in 103.20:34:21.8218248
04/13/2024 00:43:09 +02:00 Getting claims for identity token for subject: "0d2a181c-af89-47bb-84ed-e64dbae31d8b" and client: "swagger"
04/13/2024 00:43:09 +02:00 Active signing key found with kid "6B1C32E36545F634A32CA2D8AE090DC7" for alg "RS256". Expires in 89.20:34:21.8049595. Retires in 103.20:34:21.8049595
04/13/2024 00:43:09 +02:00 TokenIssuedSuccessEvent { ClientId: "swagger", ClientName: "Client for Swagger use", RedirectUri: null, Endpoint: "Token", SubjectId: "0d2a181c-af89-47bb-84ed-e64dbae31d8b", Scopes: "api1 user openid", GrantType: "authorization_code", Tokens: [Token { TokenType: "id_token", TokenValue: "****aQAw" }, Token { TokenType: "access_token", TokenValue: "****CIbQ" }], Category: "Token", Name: "Token Issued Success", EventType: Success, Id: 2000, Message: null, ActivityId: "0HN2R84TCR2OF:00000007", TimeStamp: 04/12/2024 22:43:09, ProcessId: 27956, LocalIpAddress: "::1:5001", RemoteIpAddress: "::1" }
04/13/2024 00:43:09 +02:00 Token request success.
04/13/2024 00:43:09 +02:00 HTTP "POST" "/connect/token" responded 200 in 646.2466 ms
04/13/2024 00:43:53 +02:00 AuthenticationScheme: "Identity.Application" was successfully authenticated.
04/13/2024 00:43:53 +02:00 AuthenticationScheme: "Identity.Application" was successfully authenticated.
04/13/2024 00:43:53 +02:00 Request path "/connect/authorize" matched to endpoint type "Authorize"
04/13/2024 00:43:53 +02:00 Endpoint enabled: "Authorize", successfully created handler: "Duende.IdentityServer.Endpoints.AuthorizeEndpoint"
04/13/2024 00:43:53 +02:00 Invoking IdentityServer endpoint: "Duende.IdentityServer.Endpoints.AuthorizeEndpoint" for "/connect/authorize"
04/13/2024 00:43:53 +02:00 Start authorize request
04/13/2024 00:43:53 +02:00 User in authorize request: "0d2a181c-af89-47bb-84ed-e64dbae31d8b"
04/13/2024 00:43:53 +02:00 Start authorize request protocol validation
04/13/2024 00:43:53 +02:00 client configuration validation for client "swagger" succeeded.
04/13/2024 00:43:53 +02:00 Checking for PKCE parameters
04/13/2024 00:43:53 +02:00 Calling into custom validator: "Duende.IdentityServer.Validation.DefaultCustomAuthorizeRequestValidator"
04/13/2024 00:43:53 +02:00 ValidatedAuthorizeRequest
AuthorizeRequestValidationLog { ClientId: "swagger", ClientName: "Client for Swagger use", RedirectUri: "https://localhost:7207/swagger/oauth2-redirect.html", AllowedRedirectUris: ["https://localhost:7207/swagger/oauth2-redirect.html"], SubjectId: "0d2a181c-af89-47bb-84ed-e64dbae31d8b", ResponseType: "code", ResponseMode: "query", GrantType: "authorization_code", RequestedScopes: "api1 user openid", State: "U2F0IEFwciAxMyAyMDI0IDAwOjQzOjUzIEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp", UiLocales: null, Nonce: null, AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: "", MaxAge: null, LoginHint: null, SessionId: "8DA68F3BC734D5C8CD91B193A61D55E2", Raw: [("response_type": "code"), ("client_id": "swagger"), ("redirect_uri": "https://localhost:7207/swagger/oauth2-redirect.html"), ("scope": "api1 user openid"), ("state": "U2F0IEFwciAxMyAyMDI0IDAwOjQzOjUzIEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp"), ("code_challenge": "NG4JOQIWzI0Ynz2zabREU3oS9zPWXUO7KSTFwmCdQZc"), ("code_challenge_method": "S256")] }
04/13/2024 00:43:54 +02:00 Client is configured to not require consent, no consent is required
04/13/2024 00:43:54 +02:00 Creating Authorization Code Flow response.
04/13/2024 00:43:54 +02:00 TokenIssuedSuccessEvent { ClientId: "swagger", ClientName: "Client for Swagger use", RedirectUri: "https://localhost:7207/swagger/oauth2-redirect.html", Endpoint: "Authorize", SubjectId: "0d2a181c-af89-47bb-84ed-e64dbae31d8b", Scopes: "api1 user openid", GrantType: "authorization_code", Tokens: [Token { TokenType: "code", TokenValue: "****E5-1" }], Category: "Token", Name: "Token Issued Success", EventType: Success, Id: 2000, Message: null, ActivityId: "0HN2R84TCR2OE:00000025", TimeStamp: 04/12/2024 22:43:54, ProcessId: 27956, LocalIpAddress: "::1:5001", RemoteIpAddress: "::1" }
04/13/2024 00:43:54 +02:00 Authorize endpoint response
AuthorizeResponseLog { SubjectId: "0d2a181c-af89-47bb-84ed-e64dbae31d8b", ClientId: "swagger", RedirectUri: "https://localhost:7207/swagger/oauth2-redirect.html", State: "U2F0IEFwciAxMyAyMDI0IDAwOjQzOjUzIEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp", Scope: "api1 user openid", Error: null, ErrorDescription: null }
04/13/2024 00:43:54 +02:00 HTTP "GET" "/connect/authorize" responded 302 in 227.1593 ms
04/13/2024 00:43:54 +02:00 CORS request made for path: "/connect/token" from origin: "https://localhost:7207"
04/13/2024 00:43:54 +02:00 Client list checked and origin: "https://localhost:7207" is allowed
04/13/2024 00:43:54 +02:00 CorsPolicyService allowed origin: "https://localhost:7207"
04/13/2024 00:43:54 +02:00 HTTP "OPTIONS" "/connect/token" responded 204 in 33.9408 ms
04/13/2024 00:43:54 +02:00 CORS request made for path: "/connect/token" from origin: "https://localhost:7207"
04/13/2024 00:43:54 +02:00 Client list checked and origin: "https://localhost:7207" is allowed
04/13/2024 00:43:54 +02:00 CorsPolicyService allowed origin: "https://localhost:7207"
04/13/2024 00:43:54 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/13/2024 00:43:54 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/13/2024 00:43:54 +02:00 Request path "/connect/token" matched to endpoint type "Token"
04/13/2024 00:43:54 +02:00 Endpoint enabled: "Token", successfully created handler: "Duende.IdentityServer.Endpoints.TokenEndpoint"
04/13/2024 00:43:54 +02:00 Invoking IdentityServer endpoint: "Duende.IdentityServer.Endpoints.TokenEndpoint" for "/connect/token"
04/13/2024 00:43:54 +02:00 Start token request.
04/13/2024 00:43:54 +02:00 Start client validation
04/13/2024 00:43:54 +02:00 Start parsing Basic Authentication secret
04/13/2024 00:43:54 +02:00 Start parsing for secret in post body
04/13/2024 00:43:54 +02:00 Parser found secret: "PostBodySecretParser"
04/13/2024 00:43:54 +02:00 Secret id found: "swagger"
04/13/2024 00:43:54 +02:00 client configuration validation for client "swagger" succeeded.
04/13/2024 00:43:54 +02:00 Secret validator success: "HashedSharedSecretValidator"
04/13/2024 00:43:54 +02:00 Client validation success
04/13/2024 00:43:54 +02:00 ClientAuthenticationSuccessEvent { ClientId: "swagger", AuthenticationMethod: "SharedSecret", Category: "Authentication", Name: "Client Authentication Success", EventType: Success, Id: 1010, Message: null, ActivityId: "0HN2R84TCR2OF:0000000B", TimeStamp: 04/12/2024 22:43:54, ProcessId: 27956, LocalIpAddress: "::1:5001", RemoteIpAddress: "::1" }
04/13/2024 00:43:54 +02:00 Start token request validation
04/13/2024 00:43:54 +02:00 Start validation of authorization code token request
04/13/2024 00:43:54 +02:00 Client required a proof key for code exchange. Starting PKCE validation
04/13/2024 00:43:54 +02:00 Validation of authorization code token request success
04/13/2024 00:43:54 +02:00 Token request validation success, TokenRequestValidationLog { ClientId: "swagger", ClientName: "Client for Swagger use", GrantType: "authorization_code", Scopes: null, AuthorizationCode: "****E5-1", RefreshToken: "********", UserName: null, AuthenticationContextReferenceClasses: null, Tenant: null, IdP: null, Raw: [("grant_type": "authorization_code"), ("code": "***REDACTED***"), ("client_id": "swagger"), ("client_secret": "***REDACTED***"), ("redirect_uri": "https://localhost:7207/swagger/oauth2-redirect.html"), ("code_verifier": "utnej_RAYR3ySmhWuExX7Eb4tLIY_CJDZWEYI1Il9zI")] }
04/13/2024 00:43:54 +02:00 client configuration validation for client "swagger" succeeded.
04/13/2024 00:43:54 +02:00 Getting claims for access token for client: "swagger"
04/13/2024 00:43:54 +02:00 Getting claims for access token for subject: "0d2a181c-af89-47bb-84ed-e64dbae31d8b"
04/13/2024 00:43:54 +02:00 Active signing key found with kid "6B1C32E36545F634A32CA2D8AE090DC7" for alg "RS256". Expires in 89.20:33:36.3430164. Retires in 103.20:33:36.3430164
04/13/2024 00:43:54 +02:00 client configuration validation for client "swagger" succeeded.
04/13/2024 00:43:54 +02:00 Active signing key found with kid "6B1C32E36545F634A32CA2D8AE090DC7" for alg "RS256". Expires in 89.20:33:36.3303017. Retires in 103.20:33:36.3303017
04/13/2024 00:43:54 +02:00 Getting claims for identity token for subject: "0d2a181c-af89-47bb-84ed-e64dbae31d8b" and client: "swagger"
04/13/2024 00:43:54 +02:00 Active signing key found with kid "6B1C32E36545F634A32CA2D8AE090DC7" for alg "RS256". Expires in 89.20:33:36.3160712. Retires in 103.20:33:36.3160712
04/13/2024 00:43:54 +02:00 TokenIssuedSuccessEvent { ClientId: "swagger", ClientName: "Client for Swagger use", RedirectUri: null, Endpoint: "Token", SubjectId: "0d2a181c-af89-47bb-84ed-e64dbae31d8b", Scopes: "api1 user openid", GrantType: "authorization_code", Tokens: [Token { TokenType: "id_token", TokenValue: "****vk0Q" }, Token { TokenType: "access_token", TokenValue: "****bnzg" }], Category: "Token", Name: "Token Issued Success", EventType: Success, Id: 2000, Message: null, ActivityId: "0HN2R84TCR2OF:0000000B", TimeStamp: 04/12/2024 22:43:54, ProcessId: 27956, LocalIpAddress: "::1:5001", RemoteIpAddress: "::1" }
04/13/2024 00:43:54 +02:00 Token request success.
04/13/2024 00:43:54 +02:00 HTTP "POST" "/connect/token" responded 200 in 334.9673 ms
04/13/2024 00:46:05 +02:00 Starting Duende IdentityServer version "7.0.4+4fd52ed639a4a1baea222f26f82827b5b9288b3a" (".NET 8.0.3")
04/13/2024 00:46:05 +02:00 You do not have a valid license key for the Duende software. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please start a conversation with us: https://duendesoftware.com/contact
04/13/2024 00:46:05 +02:00 You have automatic key management enabled, but you do not have a license. This feature requires the Business or Enterprise Edition tier of license. Alternatively you can disable automatic key management by setting the KeyManagement.Enabled property to false on the IdentityServerOptions.
04/13/2024 00:46:05 +02:00 You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
04/13/2024 00:46:05 +02:00 Using the default authentication scheme "Identity.Application" for IdentityServer
04/13/2024 00:46:05 +02:00 Using "Identity.Application" as default ASP.NET Core scheme for authentication
04/13/2024 00:46:05 +02:00 Using "Identity.External" as default ASP.NET Core scheme for sign-in
04/13/2024 00:46:05 +02:00 Using "Identity.External" as default ASP.NET Core scheme for sign-out
04/13/2024 00:46:05 +02:00 Using "Identity.Application" as default ASP.NET Core scheme for challenge
04/13/2024 00:46:05 +02:00 Using "Identity.Application" as default ASP.NET Core scheme for forbid
04/13/2024 00:46:05 +02:00 Now listening on: "https://localhost:5001"
04/13/2024 00:46:05 +02:00 Application started. Press Ctrl+C to shut down.
04/13/2024 00:46:05 +02:00 Hosting environment: "Development"
04/13/2024 00:46:05 +02:00 Content root path: "E:\aplresources\szkoladotneta\webapi\code\HomeDeviceMonitor\IdentityServer6"
04/13/2024 00:46:06 +02:00 Login Url: "/Account/Login"
04/13/2024 00:46:06 +02:00 Login Return Url Parameter: "ReturnUrl"
04/13/2024 00:46:06 +02:00 Logout Url: "/Account/Logout"
04/13/2024 00:46:06 +02:00 ConsentUrl Url: "/consent"
04/13/2024 00:46:06 +02:00 Consent Return Url Parameter: "returnUrl"
04/13/2024 00:46:06 +02:00 Error Url: "/home/error"
04/13/2024 00:46:06 +02:00 Error Id Parameter: "errorId"
04/13/2024 00:46:06 +02:00 AuthenticationScheme: "Identity.Application" was successfully authenticated.
04/13/2024 00:46:06 +02:00 AuthenticationScheme: "Identity.Application" was successfully authenticated.
04/13/2024 00:46:06 +02:00 HTTP "GET" "/" responded 200 in 408.4020 ms
04/13/2024 00:46:37 +02:00 AuthenticationScheme: "Identity.Application" was successfully authenticated.
04/13/2024 00:46:37 +02:00 AuthenticationScheme: "Identity.Application" was successfully authenticated.
04/13/2024 00:46:37 +02:00 Request path "/connect/authorize" matched to endpoint type "Authorize"
04/13/2024 00:46:37 +02:00 Endpoint enabled: "Authorize", successfully created handler: "Duende.IdentityServer.Endpoints.AuthorizeEndpoint"
04/13/2024 00:46:37 +02:00 Invoking IdentityServer endpoint: "Duende.IdentityServer.Endpoints.AuthorizeEndpoint" for "/connect/authorize"
04/13/2024 00:46:37 +02:00 Start authorize request
04/13/2024 00:46:37 +02:00 User in authorize request: "0d2a181c-af89-47bb-84ed-e64dbae31d8b"
04/13/2024 00:46:37 +02:00 Start authorize request protocol validation
04/13/2024 00:46:37 +02:00 client configuration validation for client "swagger" succeeded.
04/13/2024 00:46:37 +02:00 Checking for PKCE parameters
04/13/2024 00:46:37 +02:00 Calling into custom validator: "Duende.IdentityServer.Validation.DefaultCustomAuthorizeRequestValidator"
04/13/2024 00:46:37 +02:00 ValidatedAuthorizeRequest
AuthorizeRequestValidationLog { ClientId: "swagger", ClientName: "Client for Swagger use", RedirectUri: "https://localhost:7207/swagger/oauth2-redirect.html", AllowedRedirectUris: ["https://localhost:7207/swagger/oauth2-redirect.html"], SubjectId: "0d2a181c-af89-47bb-84ed-e64dbae31d8b", ResponseType: "code", ResponseMode: "query", GrantType: "authorization_code", RequestedScopes: "api1 user openid", State: "U2F0IEFwciAxMyAyMDI0IDAwOjQ2OjM3IEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp", UiLocales: null, Nonce: null, AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: "", MaxAge: null, LoginHint: null, SessionId: "8DA68F3BC734D5C8CD91B193A61D55E2", Raw: [("response_type": "code"), ("client_id": "swagger"), ("redirect_uri": "https://localhost:7207/swagger/oauth2-redirect.html"), ("scope": "api1 user openid"), ("state": "U2F0IEFwciAxMyAyMDI0IDAwOjQ2OjM3IEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp"), ("code_challenge": "VVJC68zNMpsYlKmnapUwYzmoHtSOf5QuXgmT75Xq-Ss"), ("code_challenge_method": "S256")] }
04/13/2024 00:46:38 +02:00 Client is configured to not require consent, no consent is required
04/13/2024 00:46:38 +02:00 Creating Authorization Code Flow response.
04/13/2024 00:46:38 +02:00 TokenIssuedSuccessEvent { ClientId: "swagger", ClientName: "Client for Swagger use", RedirectUri: "https://localhost:7207/swagger/oauth2-redirect.html", Endpoint: "Authorize", SubjectId: "0d2a181c-af89-47bb-84ed-e64dbae31d8b", Scopes: "api1 user openid", GrantType: "authorization_code", Tokens: [Token { TokenType: "code", TokenValue: "****3A-1" }], Category: "Token", Name: "Token Issued Success", EventType: Success, Id: 2000, Message: null, ActivityId: "0HN2R89B7M03A:00000007", TimeStamp: 04/12/2024 22:46:38, ProcessId: 29628, LocalIpAddress: "::1:5001", RemoteIpAddress: "::1" }
04/13/2024 00:46:38 +02:00 Authorize endpoint response
AuthorizeResponseLog { SubjectId: "0d2a181c-af89-47bb-84ed-e64dbae31d8b", ClientId: "swagger", RedirectUri: "https://localhost:7207/swagger/oauth2-redirect.html", State: "U2F0IEFwciAxMyAyMDI0IDAwOjQ2OjM3IEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp", Scope: "api1 user openid", Error: null, ErrorDescription: null }
04/13/2024 00:46:38 +02:00 HTTP "GET" "/connect/authorize" responded 302 in 1551.7831 ms
04/13/2024 00:46:38 +02:00 CORS request made for path: "/connect/token" from origin: "https://localhost:7207"
04/13/2024 00:46:38 +02:00 Client list checked and origin: "https://localhost:7207" is allowed
04/13/2024 00:46:38 +02:00 CorsPolicyService allowed origin: "https://localhost:7207"
04/13/2024 00:46:38 +02:00 HTTP "OPTIONS" "/connect/token" responded 204 in 26.2866 ms
04/13/2024 00:46:38 +02:00 CORS request made for path: "/connect/token" from origin: "https://localhost:7207"
04/13/2024 00:46:38 +02:00 Client list checked and origin: "https://localhost:7207" is allowed
04/13/2024 00:46:38 +02:00 CorsPolicyService allowed origin: "https://localhost:7207"
04/13/2024 00:46:38 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/13/2024 00:46:38 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/13/2024 00:46:38 +02:00 Request path "/connect/token" matched to endpoint type "Token"
04/13/2024 00:46:38 +02:00 Endpoint enabled: "Token", successfully created handler: "Duende.IdentityServer.Endpoints.TokenEndpoint"
04/13/2024 00:46:38 +02:00 Invoking IdentityServer endpoint: "Duende.IdentityServer.Endpoints.TokenEndpoint" for "/connect/token"
04/13/2024 00:46:38 +02:00 Start token request.
04/13/2024 00:46:38 +02:00 Start client validation
04/13/2024 00:46:38 +02:00 Start parsing Basic Authentication secret
04/13/2024 00:46:39 +02:00 Start parsing for secret in post body
04/13/2024 00:46:39 +02:00 Parser found secret: "PostBodySecretParser"
04/13/2024 00:46:39 +02:00 Secret id found: "swagger"
04/13/2024 00:46:39 +02:00 client configuration validation for client "swagger" succeeded.
04/13/2024 00:46:39 +02:00 Secret validator success: "HashedSharedSecretValidator"
04/13/2024 00:46:39 +02:00 Client validation success
04/13/2024 00:46:39 +02:00 ClientAuthenticationSuccessEvent { ClientId: "swagger", AuthenticationMethod: "SharedSecret", Category: "Authentication", Name: "Client Authentication Success", EventType: Success, Id: 1010, Message: null, ActivityId: "0HN2R89B7M03B:00000003", TimeStamp: 04/12/2024 22:46:39, ProcessId: 29628, LocalIpAddress: "::1:5001", RemoteIpAddress: "::1" }
04/13/2024 00:46:39 +02:00 Start token request validation
04/13/2024 00:46:39 +02:00 Start validation of authorization code token request
04/13/2024 00:46:39 +02:00 Client required a proof key for code exchange. Starting PKCE validation
04/13/2024 00:46:39 +02:00 Validation of authorization code token request success
04/13/2024 00:46:39 +02:00 Token request validation success, TokenRequestValidationLog { ClientId: "swagger", ClientName: "Client for Swagger use", GrantType: "authorization_code", Scopes: null, AuthorizationCode: "****3A-1", RefreshToken: "********", UserName: null, AuthenticationContextReferenceClasses: null, Tenant: null, IdP: null, Raw: [("grant_type": "authorization_code"), ("code": "***REDACTED***"), ("client_id": "swagger"), ("client_secret": "***REDACTED***"), ("redirect_uri": "https://localhost:7207/swagger/oauth2-redirect.html"), ("code_verifier": "9IhfaDckaDUnz1AxW6homrjYtptDaft1oboQyDICFuY")] }
04/13/2024 00:46:39 +02:00 client configuration validation for client "swagger" succeeded.
04/13/2024 00:46:39 +02:00 Getting claims for access token for client: "swagger"
04/13/2024 00:46:39 +02:00 Getting claims for access token for subject: "0d2a181c-af89-47bb-84ed-e64dbae31d8b"
04/13/2024 00:46:39 +02:00 Active signing key found with kid "6B1C32E36545F634A32CA2D8AE090DC7" for alg "RS256". Expires in 89.20:30:51.5067691. Retires in 103.20:30:51.5067691
04/13/2024 00:46:39 +02:00 client configuration validation for client "swagger" succeeded.
04/13/2024 00:46:39 +02:00 Active signing key found with kid "6B1C32E36545F634A32CA2D8AE090DC7" for alg "RS256". Expires in 89.20:30:51.4439585. Retires in 103.20:30:51.4439585
04/13/2024 00:46:39 +02:00 Getting claims for identity token for subject: "0d2a181c-af89-47bb-84ed-e64dbae31d8b" and client: "swagger"
04/13/2024 00:46:39 +02:00 Active signing key found with kid "6B1C32E36545F634A32CA2D8AE090DC7" for alg "RS256". Expires in 89.20:30:51.3970234. Retires in 103.20:30:51.3970234
04/13/2024 00:46:39 +02:00 TokenIssuedSuccessEvent { ClientId: "swagger", ClientName: "Client for Swagger use", RedirectUri: null, Endpoint: "Token", SubjectId: "0d2a181c-af89-47bb-84ed-e64dbae31d8b", Scopes: "api1 user openid", GrantType: "authorization_code", Tokens: [Token { TokenType: "id_token", TokenValue: "****jJDA" }, Token { TokenType: "access_token", TokenValue: "****OJow" }], Category: "Token", Name: "Token Issued Success", EventType: Success, Id: 2000, Message: null, ActivityId: "0HN2R89B7M03B:00000003", TimeStamp: 04/12/2024 22:46:39, ProcessId: 29628, LocalIpAddress: "::1:5001", RemoteIpAddress: "::1" }
04/13/2024 00:46:39 +02:00 Token request success.
04/13/2024 00:46:39 +02:00 HTTP "POST" "/connect/token" responded 200 in 725.1363 ms
04/13/2024 11:40:56 +02:00 Starting Duende IdentityServer version "7.0.4+4fd52ed639a4a1baea222f26f82827b5b9288b3a" (".NET 8.0.3")
04/13/2024 11:40:57 +02:00 You do not have a valid license key for the Duende software. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please start a conversation with us: https://duendesoftware.com/contact
04/13/2024 11:40:57 +02:00 You have automatic key management enabled, but you do not have a license. This feature requires the Business or Enterprise Edition tier of license. Alternatively you can disable automatic key management by setting the KeyManagement.Enabled property to false on the IdentityServerOptions.
04/13/2024 11:40:57 +02:00 You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
04/13/2024 11:40:57 +02:00 Using the default authentication scheme "Identity.Application" for IdentityServer
04/13/2024 11:40:57 +02:00 Using "Identity.Application" as default ASP.NET Core scheme for authentication
04/13/2024 11:40:57 +02:00 Using "Identity.External" as default ASP.NET Core scheme for sign-in
04/13/2024 11:40:57 +02:00 Using "Identity.External" as default ASP.NET Core scheme for sign-out
04/13/2024 11:40:57 +02:00 Using "Identity.Application" as default ASP.NET Core scheme for challenge
04/13/2024 11:40:57 +02:00 Using "Identity.Application" as default ASP.NET Core scheme for forbid
04/13/2024 11:40:58 +02:00 Now listening on: "https://localhost:5001"
04/13/2024 11:40:58 +02:00 Application started. Press Ctrl+C to shut down.
04/13/2024 11:40:58 +02:00 Hosting environment: "Development"
04/13/2024 11:40:58 +02:00 Content root path: "E:\aplresources\szkoladotneta\webapi\code\HomeDeviceMonitor\IdentityServer6"
04/13/2024 11:40:59 +02:00 Login Url: "/Account/Login"
04/13/2024 11:40:59 +02:00 Login Return Url Parameter: "ReturnUrl"
04/13/2024 11:40:59 +02:00 Logout Url: "/Account/Logout"
04/13/2024 11:40:59 +02:00 ConsentUrl Url: "/consent"
04/13/2024 11:40:59 +02:00 Consent Return Url Parameter: "returnUrl"
04/13/2024 11:40:59 +02:00 Error Url: "/home/error"
04/13/2024 11:40:59 +02:00 Error Id Parameter: "errorId"
04/13/2024 11:41:02 +02:00 AuthenticationScheme: "Identity.Application" was successfully authenticated.
04/13/2024 11:41:02 +02:00 AuthenticationScheme: "Identity.Application" was successfully authenticated.
04/13/2024 11:41:02 +02:00 HTTP "GET" "/" responded 200 in 2865.5619 ms
04/13/2024 11:41:02 +02:00 HTTP "GET" "/lib/jquery/dist/jquery.slim.min.js" responded 304 in 26.5531 ms
04/13/2024 11:41:02 +02:00 HTTP "GET" "/lib/bootstrap/dist/css/bootstrap.min.css" responded 304 in 34.5785 ms
04/13/2024 11:41:02 +02:00 HTTP "GET" "/css/site.css" responded 304 in 34.7089 ms
04/13/2024 11:41:02 +02:00 HTTP "GET" "/lib/bootstrap/dist/js/bootstrap.bundle.min.js" responded 304 in 6.9453 ms
04/13/2024 11:41:02 +02:00 HTTP "GET" "/duende-logo.svg" responded 304 in 34.6530 ms
04/13/2024 11:41:02 +02:00 HTTP "GET" "/lib/bootstrap4-glyphicons/css/bootstrap-glyphicons.min.css" responded 304 in 34.6530 ms
04/13/2024 11:41:04 +02:00 AuthenticationScheme: "Identity.Application" was successfully authenticated.
04/13/2024 11:41:04 +02:00 AuthenticationScheme: "Identity.Application" was successfully authenticated.
04/13/2024 11:41:04 +02:00 Request path "/.well-known/openid-configuration" matched to endpoint type "Discovery"
04/13/2024 11:41:04 +02:00 Endpoint enabled: "Discovery", successfully created handler: "Duende.IdentityServer.Endpoints.DiscoveryEndpoint"
04/13/2024 11:41:04 +02:00 Invoking IdentityServer endpoint: "Duende.IdentityServer.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
04/13/2024 11:41:04 +02:00 Start discovery request
04/13/2024 11:41:04 +02:00 Active signing key found with kid "6B1C32E36545F634A32CA2D8AE090DC7" for alg "RS256". Expires in 89.09:36:26.3419505. Retires in 103.09:36:26.3419505
04/13/2024 11:41:04 +02:00 HTTP "GET" "/.well-known/openid-configuration" responded 200 in 390.2795 ms
04/13/2024 11:41:47 +02:00 AuthenticationScheme: "Identity.Application" was successfully authenticated.
04/13/2024 11:41:47 +02:00 AuthenticationScheme: "Identity.Application" was successfully authenticated.
04/13/2024 11:41:47 +02:00 HTTP "GET" "/" responded 200 in 52.5116 ms
04/13/2024 12:06:09 +02:00 AuthenticationScheme: "Identity.Application" was successfully authenticated.
04/13/2024 12:06:09 +02:00 AuthenticationScheme: "Identity.Application" was successfully authenticated.
04/13/2024 12:06:09 +02:00 Request path "/connect/authorize" matched to endpoint type "Authorize"
04/13/2024 12:06:09 +02:00 Endpoint enabled: "Authorize", successfully created handler: "Duende.IdentityServer.Endpoints.AuthorizeEndpoint"
04/13/2024 12:06:09 +02:00 Invoking IdentityServer endpoint: "Duende.IdentityServer.Endpoints.AuthorizeEndpoint" for "/connect/authorize"
04/13/2024 12:06:09 +02:00 Start authorize request
04/13/2024 12:06:09 +02:00 User in authorize request: "0d2a181c-af89-47bb-84ed-e64dbae31d8b"
04/13/2024 12:06:09 +02:00 Start authorize request protocol validation
04/13/2024 12:06:09 +02:00 client configuration validation for client "swagger" succeeded.
04/13/2024 12:06:09 +02:00 Checking for PKCE parameters
04/13/2024 12:06:09 +02:00 Identity related scope requests, but no openid scope
AuthorizeRequestValidationLog { ClientId: "swagger", ClientName: "Client for Swagger use", RedirectUri: "https://localhost:7207/swagger/oauth2-redirect.html", AllowedRedirectUris: ["https://localhost:7207/swagger/oauth2-redirect.html"], SubjectId: "0d2a181c-af89-47bb-84ed-e64dbae31d8b", ResponseType: "code", ResponseMode: "query", GrantType: "authorization_code", RequestedScopes: "api1 user", State: "U2F0IEFwciAxMyAyMDI0IDEyOjA2OjA4IEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp", UiLocales: null, Nonce: null, AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: "", MaxAge: null, LoginHint: null, SessionId: null, Raw: [("response_type": "code"), ("client_id": "swagger"), ("redirect_uri": "https://localhost:7207/swagger/oauth2-redirect.html"), ("scope": "api1 user"), ("state": "U2F0IEFwciAxMyAyMDI0IDEyOjA2OjA4IEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp"), ("code_challenge": "T3f7baUY-Em4NAuv-sDScTgP1wJmA_-glJDzHJ-hckY"), ("code_challenge_method": "S256")] }
04/13/2024 12:06:09 +02:00 Request validation failed
04/13/2024 12:06:09 +02:00 AuthorizeRequestValidationLog { ClientId: "swagger", ClientName: "Client for Swagger use", RedirectUri: "https://localhost:7207/swagger/oauth2-redirect.html", AllowedRedirectUris: ["https://localhost:7207/swagger/oauth2-redirect.html"], SubjectId: "0d2a181c-af89-47bb-84ed-e64dbae31d8b", ResponseType: "code", ResponseMode: "query", GrantType: "authorization_code", RequestedScopes: "api1 user", State: "U2F0IEFwciAxMyAyMDI0IDEyOjA2OjA4IEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp", UiLocales: null, Nonce: null, AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: "", MaxAge: null, LoginHint: null, SessionId: null, Raw: [("response_type": "code"), ("client_id": "swagger"), ("redirect_uri": "https://localhost:7207/swagger/oauth2-redirect.html"), ("scope": "api1 user"), ("state": "U2F0IEFwciAxMyAyMDI0IDEyOjA2OjA4IEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp"), ("code_challenge": "T3f7baUY-Em4NAuv-sDScTgP1wJmA_-glJDzHJ-hckY"), ("code_challenge_method": "S256")] }
04/13/2024 12:06:09 +02:00 TokenIssuedFailureEvent { ClientId: "swagger", ClientName: "Client for Swagger use", RedirectUri: "https://localhost:7207/swagger/oauth2-redirect.html", Endpoint: "Authorize", SubjectId: "0d2a181c-af89-47bb-84ed-e64dbae31d8b", Scopes: "api1 user", GrantType: "authorization_code", Error: "invalid_scope", ErrorDescription: "Identity scopes requested, but openid scope is missing", Category: "Token", Name: "Token Issued Failure", EventType: Failure, Id: 2001, Message: null, ActivityId: "0HN2RJN9ERS07:00000019", TimeStamp: 04/13/2024 10:06:09, ProcessId: 34704, LocalIpAddress: "::1:5001", RemoteIpAddress: "::1" }
04/13/2024 12:06:09 +02:00 HTTP "GET" "/connect/authorize" responded 302 in 700.5697 ms
04/13/2024 12:06:09 +02:00 AuthenticationScheme: "Identity.Application" was successfully authenticated.
04/13/2024 12:06:09 +02:00 AuthenticationScheme: "Identity.Application" was successfully authenticated.
04/13/2024 12:06:09 +02:00 HTTP "GET" "/home/error" responded 200 in 44.9447 ms
04/13/2024 12:08:03 +02:00 AuthenticationScheme: "Identity.Application" was successfully authenticated.
04/13/2024 12:08:03 +02:00 AuthenticationScheme: "Identity.Application" was successfully authenticated.
04/13/2024 12:08:03 +02:00 Request path "/connect/authorize" matched to endpoint type "Authorize"
04/13/2024 12:08:03 +02:00 Endpoint enabled: "Authorize", successfully created handler: "Duende.IdentityServer.Endpoints.AuthorizeEndpoint"
04/13/2024 12:08:03 +02:00 Invoking IdentityServer endpoint: "Duende.IdentityServer.Endpoints.AuthorizeEndpoint" for "/connect/authorize"
04/13/2024 12:08:03 +02:00 Start authorize request
04/13/2024 12:08:03 +02:00 User in authorize request: "0d2a181c-af89-47bb-84ed-e64dbae31d8b"
04/13/2024 12:08:03 +02:00 Start authorize request protocol validation
04/13/2024 12:08:03 +02:00 client configuration validation for client "swagger" succeeded.
04/13/2024 12:08:03 +02:00 Checking for PKCE parameters
04/13/2024 12:08:03 +02:00 Calling into custom validator: "Duende.IdentityServer.Validation.DefaultCustomAuthorizeRequestValidator"
04/13/2024 12:08:03 +02:00 ValidatedAuthorizeRequest
AuthorizeRequestValidationLog { ClientId: "swagger", ClientName: "Client for Swagger use", RedirectUri: "https://localhost:7207/swagger/oauth2-redirect.html", AllowedRedirectUris: ["https://localhost:7207/swagger/oauth2-redirect.html"], SubjectId: "0d2a181c-af89-47bb-84ed-e64dbae31d8b", ResponseType: "code", ResponseMode: "query", GrantType: "authorization_code", RequestedScopes: "api1 user openid", State: "U2F0IEFwciAxMyAyMDI0IDEyOjA4OjAzIEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp", UiLocales: null, Nonce: null, AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: "", MaxAge: null, LoginHint: null, SessionId: "8DA68F3BC734D5C8CD91B193A61D55E2", Raw: [("response_type": "code"), ("client_id": "swagger"), ("redirect_uri": "https://localhost:7207/swagger/oauth2-redirect.html"), ("scope": "api1 user openid"), ("state": "U2F0IEFwciAxMyAyMDI0IDEyOjA4OjAzIEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp"), ("code_challenge": "0C-9eMa5WYnEXz8NZaBsjUPuxEeThmM2aXABXg2qbWs"), ("code_challenge_method": "S256")] }
04/13/2024 12:08:03 +02:00 Client is configured to not require consent, no consent is required
04/13/2024 12:08:03 +02:00 Creating Authorization Code Flow response.
04/13/2024 12:08:03 +02:00 TokenIssuedSuccessEvent { ClientId: "swagger", ClientName: "Client for Swagger use", RedirectUri: "https://localhost:7207/swagger/oauth2-redirect.html", Endpoint: "Authorize", SubjectId: "0d2a181c-af89-47bb-84ed-e64dbae31d8b", Scopes: "api1 user openid", GrantType: "authorization_code", Tokens: [Token { TokenType: "code", TokenValue: "****F2-1" }], Category: "Token", Name: "Token Issued Success", EventType: Success, Id: 2000, Message: null, ActivityId: "0HN2RJN9ERS07:00000021", TimeStamp: 04/13/2024 10:08:03, ProcessId: 34704, LocalIpAddress: "::1:5001", RemoteIpAddress: "::1" }
04/13/2024 12:08:03 +02:00 Authorize endpoint response
AuthorizeResponseLog { SubjectId: "0d2a181c-af89-47bb-84ed-e64dbae31d8b", ClientId: "swagger", RedirectUri: "https://localhost:7207/swagger/oauth2-redirect.html", State: "U2F0IEFwciAxMyAyMDI0IDEyOjA4OjAzIEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp", Scope: "api1 user openid", Error: null, ErrorDescription: null }
04/13/2024 12:08:03 +02:00 HTTP "GET" "/connect/authorize" responded 302 in 408.4766 ms
04/13/2024 12:08:04 +02:00 CORS request made for path: "/connect/token" from origin: "https://localhost:7207"
04/13/2024 12:08:04 +02:00 Client list checked and origin: "https://localhost:7207" is allowed
04/13/2024 12:08:04 +02:00 CorsPolicyService allowed origin: "https://localhost:7207"
04/13/2024 12:08:04 +02:00 HTTP "OPTIONS" "/connect/token" responded 204 in 93.1321 ms
04/13/2024 12:08:04 +02:00 CORS request made for path: "/connect/token" from origin: "https://localhost:7207"
04/13/2024 12:08:04 +02:00 Client list checked and origin: "https://localhost:7207" is allowed
04/13/2024 12:08:04 +02:00 CorsPolicyService allowed origin: "https://localhost:7207"
04/13/2024 12:08:04 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/13/2024 12:08:04 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/13/2024 12:08:04 +02:00 Request path "/connect/token" matched to endpoint type "Token"
04/13/2024 12:08:04 +02:00 Endpoint enabled: "Token", successfully created handler: "Duende.IdentityServer.Endpoints.TokenEndpoint"
04/13/2024 12:08:04 +02:00 Invoking IdentityServer endpoint: "Duende.IdentityServer.Endpoints.TokenEndpoint" for "/connect/token"
04/13/2024 12:08:04 +02:00 Start token request.
04/13/2024 12:08:04 +02:00 Start client validation
04/13/2024 12:08:04 +02:00 Start parsing Basic Authentication secret
04/13/2024 12:08:04 +02:00 Start parsing for secret in post body
04/13/2024 12:08:04 +02:00 Parser found secret: "PostBodySecretParser"
04/13/2024 12:08:04 +02:00 Secret id found: "swagger"
04/13/2024 12:08:04 +02:00 client configuration validation for client "swagger" succeeded.
04/13/2024 12:08:04 +02:00 Secret validator success: "HashedSharedSecretValidator"
04/13/2024 12:08:04 +02:00 Client validation success
04/13/2024 12:08:04 +02:00 ClientAuthenticationSuccessEvent { ClientId: "swagger", AuthenticationMethod: "SharedSecret", Category: "Authentication", Name: "Client Authentication Success", EventType: Success, Id: 1010, Message: null, ActivityId: "0HN2RJN9ERS08:00000003", TimeStamp: 04/13/2024 10:08:04, ProcessId: 34704, LocalIpAddress: "::1:5001", RemoteIpAddress: "::1" }
04/13/2024 12:08:04 +02:00 Start token request validation
04/13/2024 12:08:04 +02:00 Start validation of authorization code token request
04/13/2024 12:08:04 +02:00 Client required a proof key for code exchange. Starting PKCE validation
04/13/2024 12:08:04 +02:00 Validation of authorization code token request success
04/13/2024 12:08:04 +02:00 Token request validation success, TokenRequestValidationLog { ClientId: "swagger", ClientName: "Client for Swagger use", GrantType: "authorization_code", Scopes: null, AuthorizationCode: "****F2-1", RefreshToken: "********", UserName: null, AuthenticationContextReferenceClasses: null, Tenant: null, IdP: null, Raw: [("grant_type": "authorization_code"), ("code": "***REDACTED***"), ("client_id": "swagger"), ("client_secret": "***REDACTED***"), ("redirect_uri": "https://localhost:7207/swagger/oauth2-redirect.html"), ("code_verifier": "6QF4sz2AxH90VcU7gr-74ES0RL3OTU42BL7mql9gv7I")] }
04/13/2024 12:08:04 +02:00 client configuration validation for client "swagger" succeeded.
04/13/2024 12:08:04 +02:00 Getting claims for access token for client: "swagger"
04/13/2024 12:08:04 +02:00 Getting claims for access token for subject: "0d2a181c-af89-47bb-84ed-e64dbae31d8b"
04/13/2024 12:08:04 +02:00 Active signing key found with kid "6B1C32E36545F634A32CA2D8AE090DC7" for alg "RS256". Expires in 89.09:09:26.3111853. Retires in 103.09:09:26.3111853
04/13/2024 12:08:04 +02:00 client configuration validation for client "swagger" succeeded.
04/13/2024 12:08:04 +02:00 Active signing key found with kid "6B1C32E36545F634A32CA2D8AE090DC7" for alg "RS256". Expires in 89.09:09:26.2193989. Retires in 103.09:09:26.2193989
04/13/2024 12:08:04 +02:00 Getting claims for identity token for subject: "0d2a181c-af89-47bb-84ed-e64dbae31d8b" and client: "swagger"
04/13/2024 12:08:04 +02:00 Active signing key found with kid "6B1C32E36545F634A32CA2D8AE090DC7" for alg "RS256". Expires in 89.09:09:26.1994801. Retires in 103.09:09:26.1994801
04/13/2024 12:08:04 +02:00 TokenIssuedSuccessEvent { ClientId: "swagger", ClientName: "Client for Swagger use", RedirectUri: null, Endpoint: "Token", SubjectId: "0d2a181c-af89-47bb-84ed-e64dbae31d8b", Scopes: "api1 user openid", GrantType: "authorization_code", Tokens: [Token { TokenType: "id_token", TokenValue: "****AooA" }, Token { TokenType: "access_token", TokenValue: "****ITTA" }], Category: "Token", Name: "Token Issued Success", EventType: Success, Id: 2000, Message: null, ActivityId: "0HN2RJN9ERS08:00000003", TimeStamp: 04/13/2024 10:08:04, ProcessId: 34704, LocalIpAddress: "::1:5001", RemoteIpAddress: "::1" }
04/13/2024 12:08:04 +02:00 Token request success.
04/13/2024 12:08:04 +02:00 HTTP "POST" "/connect/token" responded 200 in 566.1050 ms
04/13/2024 12:08:30 +02:00 AuthenticationScheme: "Identity.Application" was successfully authenticated.
04/13/2024 12:08:30 +02:00 AuthenticationScheme: "Identity.Application" was successfully authenticated.
04/13/2024 12:08:30 +02:00 Request path "/connect/authorize" matched to endpoint type "Authorize"
04/13/2024 12:08:30 +02:00 Endpoint enabled: "Authorize", successfully created handler: "Duende.IdentityServer.Endpoints.AuthorizeEndpoint"
04/13/2024 12:08:30 +02:00 Invoking IdentityServer endpoint: "Duende.IdentityServer.Endpoints.AuthorizeEndpoint" for "/connect/authorize"
04/13/2024 12:08:30 +02:00 Start authorize request
04/13/2024 12:08:30 +02:00 User in authorize request: "0d2a181c-af89-47bb-84ed-e64dbae31d8b"
04/13/2024 12:08:30 +02:00 Start authorize request protocol validation
04/13/2024 12:08:30 +02:00 client configuration validation for client "swagger" succeeded.
04/13/2024 12:08:30 +02:00 Checking for PKCE parameters
04/13/2024 12:08:30 +02:00 Calling into custom validator: "Duende.IdentityServer.Validation.DefaultCustomAuthorizeRequestValidator"
04/13/2024 12:08:30 +02:00 ValidatedAuthorizeRequest
AuthorizeRequestValidationLog { ClientId: "swagger", ClientName: "Client for Swagger use", RedirectUri: "https://localhost:7207/swagger/oauth2-redirect.html", AllowedRedirectUris: ["https://localhost:7207/swagger/oauth2-redirect.html"], SubjectId: "0d2a181c-af89-47bb-84ed-e64dbae31d8b", ResponseType: "code", ResponseMode: "query", GrantType: "authorization_code", RequestedScopes: "api1 user openid", State: "U2F0IEFwciAxMyAyMDI0IDEyOjA4OjI5IEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp", UiLocales: null, Nonce: null, AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: "", MaxAge: null, LoginHint: null, SessionId: "8DA68F3BC734D5C8CD91B193A61D55E2", Raw: [("response_type": "code"), ("client_id": "swagger"), ("redirect_uri": "https://localhost:7207/swagger/oauth2-redirect.html"), ("scope": "api1 user openid"), ("state": "U2F0IEFwciAxMyAyMDI0IDEyOjA4OjI5IEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp"), ("code_challenge": "s4PzwOYTlricZ_XjByn8Gvg_H3Qx2ugIwU2Bh1v3Re8"), ("code_challenge_method": "S256")] }
04/13/2024 12:08:30 +02:00 Client is configured to not require consent, no consent is required
04/13/2024 12:08:30 +02:00 Creating Authorization Code Flow response.
04/13/2024 12:08:30 +02:00 TokenIssuedSuccessEvent { ClientId: "swagger", ClientName: "Client for Swagger use", RedirectUri: "https://localhost:7207/swagger/oauth2-redirect.html", Endpoint: "Authorize", SubjectId: "0d2a181c-af89-47bb-84ed-e64dbae31d8b", Scopes: "api1 user openid", GrantType: "authorization_code", Tokens: [Token { TokenType: "code", TokenValue: "****61-1" }], Category: "Token", Name: "Token Issued Success", EventType: Success, Id: 2000, Message: null, ActivityId: "0HN2RJN9ERS07:00000023", TimeStamp: 04/13/2024 10:08:30, ProcessId: 34704, LocalIpAddress: "::1:5001", RemoteIpAddress: "::1" }
04/13/2024 12:08:30 +02:00 Authorize endpoint response
AuthorizeResponseLog { SubjectId: "0d2a181c-af89-47bb-84ed-e64dbae31d8b", ClientId: "swagger", RedirectUri: "https://localhost:7207/swagger/oauth2-redirect.html", State: "U2F0IEFwciAxMyAyMDI0IDEyOjA4OjI5IEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp", Scope: "api1 user openid", Error: null, ErrorDescription: null }
04/13/2024 12:08:30 +02:00 HTTP "GET" "/connect/authorize" responded 302 in 289.9591 ms
04/13/2024 12:08:30 +02:00 CORS request made for path: "/connect/token" from origin: "https://localhost:7207"
04/13/2024 12:08:30 +02:00 Client list checked and origin: "https://localhost:7207" is allowed
04/13/2024 12:08:30 +02:00 CorsPolicyService allowed origin: "https://localhost:7207"
04/13/2024 12:08:30 +02:00 HTTP "OPTIONS" "/connect/token" responded 204 in 30.8116 ms
04/13/2024 12:08:30 +02:00 CORS request made for path: "/connect/token" from origin: "https://localhost:7207"
04/13/2024 12:08:30 +02:00 Client list checked and origin: "https://localhost:7207" is allowed
04/13/2024 12:08:30 +02:00 CorsPolicyService allowed origin: "https://localhost:7207"
04/13/2024 12:08:30 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/13/2024 12:08:30 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/13/2024 12:08:30 +02:00 Request path "/connect/token" matched to endpoint type "Token"
04/13/2024 12:08:30 +02:00 Endpoint enabled: "Token", successfully created handler: "Duende.IdentityServer.Endpoints.TokenEndpoint"
04/13/2024 12:08:30 +02:00 Invoking IdentityServer endpoint: "Duende.IdentityServer.Endpoints.TokenEndpoint" for "/connect/token"
04/13/2024 12:08:30 +02:00 Start token request.
04/13/2024 12:08:30 +02:00 Start client validation
04/13/2024 12:08:30 +02:00 Start parsing Basic Authentication secret
04/13/2024 12:08:30 +02:00 Start parsing for secret in post body
04/13/2024 12:08:30 +02:00 Parser found secret: "PostBodySecretParser"
04/13/2024 12:08:30 +02:00 Secret id found: "swagger"
04/13/2024 12:08:30 +02:00 client configuration validation for client "swagger" succeeded.
04/13/2024 12:08:30 +02:00 Secret validator success: "HashedSharedSecretValidator"
04/13/2024 12:08:30 +02:00 Client validation success
04/13/2024 12:08:30 +02:00 ClientAuthenticationSuccessEvent { ClientId: "swagger", AuthenticationMethod: "SharedSecret", Category: "Authentication", Name: "Client Authentication Success", EventType: Success, Id: 1010, Message: null, ActivityId: "0HN2RJN9ERS08:00000007", TimeStamp: 04/13/2024 10:08:30, ProcessId: 34704, LocalIpAddress: "::1:5001", RemoteIpAddress: "::1" }
04/13/2024 12:08:30 +02:00 Start token request validation
04/13/2024 12:08:30 +02:00 Start validation of authorization code token request
04/13/2024 12:08:30 +02:00 "authorization_code" grant with value: "AC8CDEE559357E87F088A02FFB65A067F153003E372C536D3B3C58D0EF27EAF2-1" not found in store.
04/13/2024 12:08:30 +02:00 Invalid authorization code { code: "AC8CDEE559357E87F088A02FFB65A067F153003E372C536D3B3C58D0EF27EAF2-1" }, details: TokenRequestValidationLog { ClientId: "swagger", ClientName: "Client for Swagger use", GrantType: "authorization_code", Scopes: null, AuthorizationCode: "****F2-1", RefreshToken: "********", UserName: null, AuthenticationContextReferenceClasses: null, Tenant: null, IdP: null, Raw: [("grant_type": "authorization_code"), ("code": "***REDACTED***"), ("client_id": "swagger"), ("client_secret": "***REDACTED***"), ("redirect_uri": "https://localhost:7207/swagger/oauth2-redirect.html"), ("code_verifier": "Siw9B1v7Z13yKSLViVkNEAC-pqkAj_2oYj197oH2LtY")] }
04/13/2024 12:08:30 +02:00 TokenIssuedFailureEvent { ClientId: "swagger", ClientName: "Client for Swagger use", RedirectUri: null, Endpoint: "Token", SubjectId: null, Scopes: null, GrantType: "authorization_code", Error: "invalid_grant", ErrorDescription: null, Category: "Token", Name: "Token Issued Failure", EventType: Failure, Id: 2001, Message: null, ActivityId: "0HN2RJN9ERS08:00000007", TimeStamp: 04/13/2024 10:08:30, ProcessId: 34704, LocalIpAddress: "::1:5001", RemoteIpAddress: "::1" }
04/13/2024 12:08:30 +02:00 HTTP "POST" "/connect/token" responded 400 in 276.5254 ms
04/13/2024 12:08:40 +02:00 AuthenticationScheme: "Identity.Application" was successfully authenticated.
04/13/2024 12:08:40 +02:00 AuthenticationScheme: "Identity.Application" was successfully authenticated.
04/13/2024 12:08:40 +02:00 Request path "/connect/authorize" matched to endpoint type "Authorize"
04/13/2024 12:08:40 +02:00 Endpoint enabled: "Authorize", successfully created handler: "Duende.IdentityServer.Endpoints.AuthorizeEndpoint"
04/13/2024 12:08:40 +02:00 Invoking IdentityServer endpoint: "Duende.IdentityServer.Endpoints.AuthorizeEndpoint" for "/connect/authorize"
04/13/2024 12:08:40 +02:00 Start authorize request
04/13/2024 12:08:40 +02:00 User in authorize request: "0d2a181c-af89-47bb-84ed-e64dbae31d8b"
04/13/2024 12:08:40 +02:00 Start authorize request protocol validation
04/13/2024 12:08:40 +02:00 client configuration validation for client "swagger" succeeded.
04/13/2024 12:08:40 +02:00 Checking for PKCE parameters
04/13/2024 12:08:40 +02:00 Calling into custom validator: "Duende.IdentityServer.Validation.DefaultCustomAuthorizeRequestValidator"
04/13/2024 12:08:40 +02:00 ValidatedAuthorizeRequest
AuthorizeRequestValidationLog { ClientId: "swagger", ClientName: "Client for Swagger use", RedirectUri: "https://localhost:7207/swagger/oauth2-redirect.html", AllowedRedirectUris: ["https://localhost:7207/swagger/oauth2-redirect.html"], SubjectId: "0d2a181c-af89-47bb-84ed-e64dbae31d8b", ResponseType: "code", ResponseMode: "query", GrantType: "authorization_code", RequestedScopes: "api1 user openid", State: "U2F0IEFwciAxMyAyMDI0IDEyOjA4OjQwIEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp", UiLocales: null, Nonce: null, AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: "", MaxAge: null, LoginHint: null, SessionId: "8DA68F3BC734D5C8CD91B193A61D55E2", Raw: [("response_type": "code"), ("client_id": "swagger"), ("redirect_uri": "https://localhost:7207/swagger/oauth2-redirect.html"), ("scope": "api1 user openid"), ("state": "U2F0IEFwciAxMyAyMDI0IDEyOjA4OjQwIEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp"), ("code_challenge": "7vOpNjWUiTTtzrw2CXRuEHayF8EQNGb3lLshgQozamk"), ("code_challenge_method": "S256")] }
04/13/2024 12:08:40 +02:00 Client is configured to not require consent, no consent is required
04/13/2024 12:08:40 +02:00 Creating Authorization Code Flow response.
04/13/2024 12:08:40 +02:00 TokenIssuedSuccessEvent { ClientId: "swagger", ClientName: "Client for Swagger use", RedirectUri: "https://localhost:7207/swagger/oauth2-redirect.html", Endpoint: "Authorize", SubjectId: "0d2a181c-af89-47bb-84ed-e64dbae31d8b", Scopes: "api1 user openid", GrantType: "authorization_code", Tokens: [Token { TokenType: "code", TokenValue: "****A6-1" }], Category: "Token", Name: "Token Issued Success", EventType: Success, Id: 2000, Message: null, ActivityId: "0HN2RJN9ERS07:00000025", TimeStamp: 04/13/2024 10:08:40, ProcessId: 34704, LocalIpAddress: "::1:5001", RemoteIpAddress: "::1" }
04/13/2024 12:08:40 +02:00 Authorize endpoint response
AuthorizeResponseLog { SubjectId: "0d2a181c-af89-47bb-84ed-e64dbae31d8b", ClientId: "swagger", RedirectUri: "https://localhost:7207/swagger/oauth2-redirect.html", State: "U2F0IEFwciAxMyAyMDI0IDEyOjA4OjQwIEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp", Scope: "api1 user openid", Error: null, ErrorDescription: null }
04/13/2024 12:08:40 +02:00 HTTP "GET" "/connect/authorize" responded 302 in 322.0543 ms
04/13/2024 12:08:40 +02:00 CORS request made for path: "/connect/token" from origin: "https://localhost:7207"
04/13/2024 12:08:40 +02:00 Client list checked and origin: "https://localhost:7207" is allowed
04/13/2024 12:08:40 +02:00 CorsPolicyService allowed origin: "https://localhost:7207"
04/13/2024 12:08:40 +02:00 HTTP "OPTIONS" "/connect/token" responded 204 in 48.5538 ms
04/13/2024 12:08:40 +02:00 CORS request made for path: "/connect/token" from origin: "https://localhost:7207"
04/13/2024 12:08:40 +02:00 Client list checked and origin: "https://localhost:7207" is allowed
04/13/2024 12:08:40 +02:00 CorsPolicyService allowed origin: "https://localhost:7207"
04/13/2024 12:08:40 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/13/2024 12:08:40 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/13/2024 12:08:40 +02:00 Request path "/connect/token" matched to endpoint type "Token"
04/13/2024 12:08:40 +02:00 Endpoint enabled: "Token", successfully created handler: "Duende.IdentityServer.Endpoints.TokenEndpoint"
04/13/2024 12:08:40 +02:00 Invoking IdentityServer endpoint: "Duende.IdentityServer.Endpoints.TokenEndpoint" for "/connect/token"
04/13/2024 12:08:40 +02:00 Start token request.
04/13/2024 12:08:40 +02:00 Start client validation
04/13/2024 12:08:40 +02:00 Start parsing Basic Authentication secret
04/13/2024 12:08:40 +02:00 Start parsing for secret in post body
04/13/2024 12:08:40 +02:00 Parser found secret: "PostBodySecretParser"
04/13/2024 12:08:40 +02:00 Secret id found: "swagger"
04/13/2024 12:08:40 +02:00 client configuration validation for client "swagger" succeeded.
04/13/2024 12:08:40 +02:00 Secret validator success: "HashedSharedSecretValidator"
04/13/2024 12:08:40 +02:00 Client validation success
04/13/2024 12:08:40 +02:00 ClientAuthenticationSuccessEvent { ClientId: "swagger", AuthenticationMethod: "SharedSecret", Category: "Authentication", Name: "Client Authentication Success", EventType: Success, Id: 1010, Message: null, ActivityId: "0HN2RJN9ERS08:0000000B", TimeStamp: 04/13/2024 10:08:40, ProcessId: 34704, LocalIpAddress: "::1:5001", RemoteIpAddress: "::1" }
04/13/2024 12:08:41 +02:00 Start token request validation
04/13/2024 12:08:41 +02:00 Start validation of authorization code token request
04/13/2024 12:08:41 +02:00 "authorization_code" grant with value: "AC8CDEE559357E87F088A02FFB65A067F153003E372C536D3B3C58D0EF27EAF2-1" not found in store.
04/13/2024 12:08:41 +02:00 Invalid authorization code { code: "AC8CDEE559357E87F088A02FFB65A067F153003E372C536D3B3C58D0EF27EAF2-1" }, details: TokenRequestValidationLog { ClientId: "swagger", ClientName: "Client for Swagger use", GrantType: "authorization_code", Scopes: null, AuthorizationCode: "****F2-1", RefreshToken: "********", UserName: null, AuthenticationContextReferenceClasses: null, Tenant: null, IdP: null, Raw: [("grant_type": "authorization_code"), ("code": "***REDACTED***"), ("client_id": "swagger"), ("client_secret": "***REDACTED***"), ("redirect_uri": "https://localhost:7207/swagger/oauth2-redirect.html"), ("code_verifier": "ShpheNJn2mITCiduDsa-f_392tUqvfvAYPM7yl3v2Wo")] }
04/13/2024 12:08:41 +02:00 TokenIssuedFailureEvent { ClientId: "swagger", ClientName: "Client for Swagger use", RedirectUri: null, Endpoint: "Token", SubjectId: null, Scopes: null, GrantType: "authorization_code", Error: "invalid_grant", ErrorDescription: null, Category: "Token", Name: "Token Issued Failure", EventType: Failure, Id: 2001, Message: null, ActivityId: "0HN2RJN9ERS08:0000000B", TimeStamp: 04/13/2024 10:08:41, ProcessId: 34704, LocalIpAddress: "::1:5001", RemoteIpAddress: "::1" }
04/13/2024 12:08:41 +02:00 HTTP "POST" "/connect/token" responded 400 in 297.2900 ms
04/13/2024 12:10:35 +02:00 Starting Duende IdentityServer version "7.0.4+4fd52ed639a4a1baea222f26f82827b5b9288b3a" (".NET 8.0.3")
04/13/2024 12:10:35 +02:00 You do not have a valid license key for the Duende software. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please start a conversation with us: https://duendesoftware.com/contact
04/13/2024 12:10:35 +02:00 You have automatic key management enabled, but you do not have a license. This feature requires the Business or Enterprise Edition tier of license. Alternatively you can disable automatic key management by setting the KeyManagement.Enabled property to false on the IdentityServerOptions.
04/13/2024 12:10:35 +02:00 You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
04/13/2024 12:10:35 +02:00 Using the default authentication scheme "Identity.Application" for IdentityServer
04/13/2024 12:10:35 +02:00 Using "Identity.Application" as default ASP.NET Core scheme for authentication
04/13/2024 12:10:35 +02:00 Using "Identity.External" as default ASP.NET Core scheme for sign-in
04/13/2024 12:10:35 +02:00 Using "Identity.External" as default ASP.NET Core scheme for sign-out
04/13/2024 12:10:35 +02:00 Using "Identity.Application" as default ASP.NET Core scheme for challenge
04/13/2024 12:10:35 +02:00 Using "Identity.Application" as default ASP.NET Core scheme for forbid
04/13/2024 12:10:36 +02:00 Now listening on: "https://localhost:5001"
04/13/2024 12:10:36 +02:00 Application started. Press Ctrl+C to shut down.
04/13/2024 12:10:36 +02:00 Hosting environment: "Development"
04/13/2024 12:10:36 +02:00 Content root path: "E:\aplresources\szkoladotneta\webapi\code\HomeDeviceMonitor\IdentityServer6"
04/13/2024 12:10:37 +02:00 Login Url: "/Account/Login"
04/13/2024 12:10:37 +02:00 Login Return Url Parameter: "ReturnUrl"
04/13/2024 12:10:37 +02:00 Logout Url: "/Account/Logout"
04/13/2024 12:10:37 +02:00 ConsentUrl Url: "/consent"
04/13/2024 12:10:37 +02:00 Consent Return Url Parameter: "returnUrl"
04/13/2024 12:10:37 +02:00 Error Url: "/home/error"
04/13/2024 12:10:37 +02:00 Error Id Parameter: "errorId"
04/13/2024 12:10:37 +02:00 AuthenticationScheme: "Identity.Application" was successfully authenticated.
04/13/2024 12:10:37 +02:00 AuthenticationScheme: "Identity.Application" was successfully authenticated.
04/13/2024 12:10:37 +02:00 HTTP "GET" "/" responded 200 in 541.1637 ms
04/13/2024 12:10:58 +02:00 AuthenticationScheme: "Identity.Application" was successfully authenticated.
04/13/2024 12:10:58 +02:00 AuthenticationScheme: "Identity.Application" was successfully authenticated.
04/13/2024 12:10:58 +02:00 Request path "/connect/authorize" matched to endpoint type "Authorize"
04/13/2024 12:10:58 +02:00 Endpoint enabled: "Authorize", successfully created handler: "Duende.IdentityServer.Endpoints.AuthorizeEndpoint"
04/13/2024 12:10:58 +02:00 Invoking IdentityServer endpoint: "Duende.IdentityServer.Endpoints.AuthorizeEndpoint" for "/connect/authorize"
04/13/2024 12:10:58 +02:00 Start authorize request
04/13/2024 12:10:58 +02:00 User in authorize request: "0d2a181c-af89-47bb-84ed-e64dbae31d8b"
04/13/2024 12:10:58 +02:00 Start authorize request protocol validation
04/13/2024 12:10:58 +02:00 client configuration validation for client "swagger" succeeded.
04/13/2024 12:10:59 +02:00 Checking for PKCE parameters
04/13/2024 12:10:59 +02:00 Identity related scope requests, but no openid scope
AuthorizeRequestValidationLog { ClientId: "swagger", ClientName: "Client for Swagger use", RedirectUri: "https://localhost:7207/swagger/oauth2-redirect.html", AllowedRedirectUris: ["https://localhost:7207/swagger/oauth2-redirect.html"], SubjectId: "0d2a181c-af89-47bb-84ed-e64dbae31d8b", ResponseType: "code", ResponseMode: "query", GrantType: "authorization_code", RequestedScopes: "api1 user", State: "U2F0IEFwciAxMyAyMDI0IDEyOjEwOjU4IEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp", UiLocales: null, Nonce: null, AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: "", MaxAge: null, LoginHint: null, SessionId: null, Raw: [("response_type": "code"), ("client_id": "swagger"), ("redirect_uri": "https://localhost:7207/swagger/oauth2-redirect.html"), ("scope": "api1 user"), ("state": "U2F0IEFwciAxMyAyMDI0IDEyOjEwOjU4IEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp"), ("code_challenge": "xUDZ50I6XlKMp1noPHesF_klNadNNgbWfwo5XBniu3o"), ("code_challenge_method": "S256")] }
04/13/2024 12:10:59 +02:00 Request validation failed
04/13/2024 12:10:59 +02:00 AuthorizeRequestValidationLog { ClientId: "swagger", ClientName: "Client for Swagger use", RedirectUri: "https://localhost:7207/swagger/oauth2-redirect.html", AllowedRedirectUris: ["https://localhost:7207/swagger/oauth2-redirect.html"], SubjectId: "0d2a181c-af89-47bb-84ed-e64dbae31d8b", ResponseType: "code", ResponseMode: "query", GrantType: "authorization_code", RequestedScopes: "api1 user", State: "U2F0IEFwciAxMyAyMDI0IDEyOjEwOjU4IEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp", UiLocales: null, Nonce: null, AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: "", MaxAge: null, LoginHint: null, SessionId: null, Raw: [("response_type": "code"), ("client_id": "swagger"), ("redirect_uri": "https://localhost:7207/swagger/oauth2-redirect.html"), ("scope": "api1 user"), ("state": "U2F0IEFwciAxMyAyMDI0IDEyOjEwOjU4IEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp"), ("code_challenge": "xUDZ50I6XlKMp1noPHesF_klNadNNgbWfwo5XBniu3o"), ("code_challenge_method": "S256")] }
04/13/2024 12:10:59 +02:00 TokenIssuedFailureEvent { ClientId: "swagger", ClientName: "Client for Swagger use", RedirectUri: "https://localhost:7207/swagger/oauth2-redirect.html", Endpoint: "Authorize", SubjectId: "0d2a181c-af89-47bb-84ed-e64dbae31d8b", Scopes: "api1 user", GrantType: "authorization_code", Error: "invalid_scope", ErrorDescription: "Identity scopes requested, but openid scope is missing", Category: "Token", Name: "Token Issued Failure", EventType: Failure, Id: 2001, Message: null, ActivityId: "0HN2RK7R7SGDH:00000007", TimeStamp: 04/13/2024 10:10:59, ProcessId: 34156, LocalIpAddress: "::1:5001", RemoteIpAddress: "::1" }
04/13/2024 12:10:59 +02:00 HTTP "GET" "/connect/authorize" responded 302 in 504.7352 ms
04/13/2024 12:10:59 +02:00 AuthenticationScheme: "Identity.Application" was successfully authenticated.
04/13/2024 12:10:59 +02:00 AuthenticationScheme: "Identity.Application" was successfully authenticated.
04/13/2024 12:10:59 +02:00 HTTP "GET" "/home/error" responded 200 in 193.5504 ms
04/13/2024 12:11:35 +02:00 AuthenticationScheme: "Identity.Application" was successfully authenticated.
04/13/2024 12:11:35 +02:00 AuthenticationScheme: "Identity.Application" was successfully authenticated.
04/13/2024 12:11:35 +02:00 Request path "/connect/authorize" matched to endpoint type "Authorize"
04/13/2024 12:11:35 +02:00 Endpoint enabled: "Authorize", successfully created handler: "Duende.IdentityServer.Endpoints.AuthorizeEndpoint"
04/13/2024 12:11:35 +02:00 Invoking IdentityServer endpoint: "Duende.IdentityServer.Endpoints.AuthorizeEndpoint" for "/connect/authorize"
04/13/2024 12:11:35 +02:00 Start authorize request
04/13/2024 12:11:35 +02:00 User in authorize request: "0d2a181c-af89-47bb-84ed-e64dbae31d8b"
04/13/2024 12:11:35 +02:00 Start authorize request protocol validation
04/13/2024 12:11:35 +02:00 client configuration validation for client "swagger" succeeded.
04/13/2024 12:11:35 +02:00 Checking for PKCE parameters
04/13/2024 12:11:35 +02:00 Client "swagger" is not allowed access to scope "openid".
04/13/2024 12:11:35 +02:00 Request validation failed
04/13/2024 12:11:35 +02:00 AuthorizeRequestValidationLog { ClientId: "swagger", ClientName: "Client for Swagger use", RedirectUri: "https://localhost:7207/swagger/oauth2-redirect.html", AllowedRedirectUris: ["https://localhost:7207/swagger/oauth2-redirect.html"], SubjectId: "0d2a181c-af89-47bb-84ed-e64dbae31d8b", ResponseType: "code", ResponseMode: "query", GrantType: "authorization_code", RequestedScopes: "api1 user openid", State: "U2F0IEFwciAxMyAyMDI0IDEyOjExOjMzIEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp", UiLocales: null, Nonce: null, AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: "", MaxAge: null, LoginHint: null, SessionId: null, Raw: [("response_type": "code"), ("client_id": "swagger"), ("redirect_uri": "https://localhost:7207/swagger/oauth2-redirect.html"), ("scope": "api1 user openid"), ("state": "U2F0IEFwciAxMyAyMDI0IDEyOjExOjMzIEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp"), ("code_challenge": "uWj1T-ccB-6uYWdSH9HqWcFf5dgae-G6htiYlZUM5Ko"), ("code_challenge_method": "S256")] }
04/13/2024 12:11:35 +02:00 TokenIssuedFailureEvent { ClientId: "swagger", ClientName: "Client for Swagger use", RedirectUri: "https://localhost:7207/swagger/oauth2-redirect.html", Endpoint: "Authorize", SubjectId: "0d2a181c-af89-47bb-84ed-e64dbae31d8b", Scopes: "api1 user openid", GrantType: "authorization_code", Error: "invalid_scope", ErrorDescription: "Invalid scope", Category: "Token", Name: "Token Issued Failure", EventType: Failure, Id: 2001, Message: null, ActivityId: "0HN2RK7R7SGDH:0000000F", TimeStamp: 04/13/2024 10:11:35, ProcessId: 34156, LocalIpAddress: "::1:5001", RemoteIpAddress: "::1" }
04/13/2024 12:11:35 +02:00 HTTP "GET" "/connect/authorize" responded 302 in 1734.3189 ms
04/13/2024 12:11:35 +02:00 AuthenticationScheme: "Identity.Application" was successfully authenticated.
04/13/2024 12:11:35 +02:00 AuthenticationScheme: "Identity.Application" was successfully authenticated.
04/13/2024 12:11:35 +02:00 HTTP "GET" "/home/error" responded 200 in 28.2271 ms
04/13/2024 12:12:19 +02:00 Starting Duende IdentityServer version "7.0.4+4fd52ed639a4a1baea222f26f82827b5b9288b3a" (".NET 8.0.3")
04/13/2024 12:12:19 +02:00 You do not have a valid license key for the Duende software. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please start a conversation with us: https://duendesoftware.com/contact
04/13/2024 12:12:19 +02:00 You have automatic key management enabled, but you do not have a license. This feature requires the Business or Enterprise Edition tier of license. Alternatively you can disable automatic key management by setting the KeyManagement.Enabled property to false on the IdentityServerOptions.
04/13/2024 12:12:19 +02:00 You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
04/13/2024 12:12:19 +02:00 Using the default authentication scheme "Identity.Application" for IdentityServer
04/13/2024 12:12:19 +02:00 Using "Identity.Application" as default ASP.NET Core scheme for authentication
04/13/2024 12:12:19 +02:00 Using "Identity.External" as default ASP.NET Core scheme for sign-in
04/13/2024 12:12:19 +02:00 Using "Identity.External" as default ASP.NET Core scheme for sign-out
04/13/2024 12:12:19 +02:00 Using "Identity.Application" as default ASP.NET Core scheme for challenge
04/13/2024 12:12:19 +02:00 Using "Identity.Application" as default ASP.NET Core scheme for forbid
04/13/2024 12:12:20 +02:00 Now listening on: "https://localhost:5001"
04/13/2024 12:12:20 +02:00 Application started. Press Ctrl+C to shut down.
04/13/2024 12:12:20 +02:00 Hosting environment: "Development"
04/13/2024 12:12:20 +02:00 Content root path: "E:\aplresources\szkoladotneta\webapi\code\HomeDeviceMonitor\IdentityServer6"
04/13/2024 12:12:21 +02:00 Login Url: "/Account/Login"
04/13/2024 12:12:22 +02:00 Login Return Url Parameter: "ReturnUrl"
04/13/2024 12:12:22 +02:00 Logout Url: "/Account/Logout"
04/13/2024 12:12:22 +02:00 ConsentUrl Url: "/consent"
04/13/2024 12:12:22 +02:00 Consent Return Url Parameter: "returnUrl"
04/13/2024 12:12:22 +02:00 Error Url: "/home/error"
04/13/2024 12:12:22 +02:00 Error Id Parameter: "errorId"
04/13/2024 12:12:22 +02:00 AuthenticationScheme: "Identity.Application" was successfully authenticated.
04/13/2024 12:12:22 +02:00 AuthenticationScheme: "Identity.Application" was successfully authenticated.
04/13/2024 12:12:22 +02:00 HTTP "GET" "/" responded 200 in 1037.0660 ms
04/13/2024 12:12:51 +02:00 AuthenticationScheme: "Identity.Application" was successfully authenticated.
04/13/2024 12:12:51 +02:00 AuthenticationScheme: "Identity.Application" was successfully authenticated.
04/13/2024 12:12:51 +02:00 Request path "/connect/authorize" matched to endpoint type "Authorize"
04/13/2024 12:12:51 +02:00 Endpoint enabled: "Authorize", successfully created handler: "Duende.IdentityServer.Endpoints.AuthorizeEndpoint"
04/13/2024 12:12:51 +02:00 Invoking IdentityServer endpoint: "Duende.IdentityServer.Endpoints.AuthorizeEndpoint" for "/connect/authorize"
04/13/2024 12:12:51 +02:00 Start authorize request
04/13/2024 12:12:51 +02:00 User in authorize request: "0d2a181c-af89-47bb-84ed-e64dbae31d8b"
04/13/2024 12:12:51 +02:00 Start authorize request protocol validation
04/13/2024 12:12:51 +02:00 client configuration validation for client "swagger" succeeded.
04/13/2024 12:12:51 +02:00 Checking for PKCE parameters
04/13/2024 12:12:51 +02:00 scope is missing
AuthorizeRequestValidationLog { ClientId: "swagger", ClientName: "Client for Swagger use", RedirectUri: "https://localhost:7207/swagger/oauth2-redirect.html", AllowedRedirectUris: ["https://localhost:7207/swagger/oauth2-redirect.html"], SubjectId: "0d2a181c-af89-47bb-84ed-e64dbae31d8b", ResponseType: "code", ResponseMode: "query", GrantType: "authorization_code", RequestedScopes: "", State: "U2F0IEFwciAxMyAyMDI0IDEyOjEyOjUwIEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp", UiLocales: null, Nonce: null, AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: "", MaxAge: null, LoginHint: null, SessionId: null, Raw: [("response_type": "code"), ("client_id": "swagger"), ("redirect_uri": "https://localhost:7207/swagger/oauth2-redirect.html"), ("state": "U2F0IEFwciAxMyAyMDI0IDEyOjEyOjUwIEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp"), ("code_challenge": "3aDzmcTcU_v_on-t-uwFbVirYtQAxWGqnCBAWfg3878"), ("code_challenge_method": "S256")] }
04/13/2024 12:12:51 +02:00 Request validation failed
04/13/2024 12:12:51 +02:00 AuthorizeRequestValidationLog { ClientId: "swagger", ClientName: "Client for Swagger use", RedirectUri: "https://localhost:7207/swagger/oauth2-redirect.html", AllowedRedirectUris: ["https://localhost:7207/swagger/oauth2-redirect.html"], SubjectId: "0d2a181c-af89-47bb-84ed-e64dbae31d8b", ResponseType: "code", ResponseMode: "query", GrantType: "authorization_code", RequestedScopes: "", State: "U2F0IEFwciAxMyAyMDI0IDEyOjEyOjUwIEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp", UiLocales: null, Nonce: null, AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: "", MaxAge: null, LoginHint: null, SessionId: null, Raw: [("response_type": "code"), ("client_id": "swagger"), ("redirect_uri": "https://localhost:7207/swagger/oauth2-redirect.html"), ("state": "U2F0IEFwciAxMyAyMDI0IDEyOjEyOjUwIEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp"), ("code_challenge": "3aDzmcTcU_v_on-t-uwFbVirYtQAxWGqnCBAWfg3878"), ("code_challenge_method": "S256")] }
04/13/2024 12:12:51 +02:00 TokenIssuedFailureEvent { ClientId: "swagger", ClientName: "Client for Swagger use", RedirectUri: "https://localhost:7207/swagger/oauth2-redirect.html", Endpoint: "Authorize", SubjectId: "0d2a181c-af89-47bb-84ed-e64dbae31d8b", Scopes: "", GrantType: "authorization_code", Error: "invalid_request", ErrorDescription: "Invalid scope", Category: "Token", Name: "Token Issued Failure", EventType: Failure, Id: 2001, Message: null, ActivityId: "0HN2RK8Q9DC51:00000007", TimeStamp: 04/13/2024 10:12:51, ProcessId: 34276, LocalIpAddress: "::1:5001", RemoteIpAddress: "::1" }
04/13/2024 12:12:51 +02:00 HTTP "GET" "/connect/authorize" responded 302 in 915.2458 ms
04/13/2024 12:12:52 +02:00 AuthenticationScheme: "Identity.Application" was successfully authenticated.
04/13/2024 12:12:52 +02:00 AuthenticationScheme: "Identity.Application" was successfully authenticated.
04/13/2024 12:12:52 +02:00 HTTP "GET" "/home/error" responded 200 in 242.6169 ms
04/13/2024 12:13:35 +02:00 AuthenticationScheme: "Identity.Application" was successfully authenticated.
04/13/2024 12:13:35 +02:00 AuthenticationScheme: "Identity.Application" was successfully authenticated.
04/13/2024 12:13:35 +02:00 Request path "/connect/authorize" matched to endpoint type "Authorize"
04/13/2024 12:13:35 +02:00 Endpoint enabled: "Authorize", successfully created handler: "Duende.IdentityServer.Endpoints.AuthorizeEndpoint"
04/13/2024 12:13:35 +02:00 Invoking IdentityServer endpoint: "Duende.IdentityServer.Endpoints.AuthorizeEndpoint" for "/connect/authorize"
04/13/2024 12:13:35 +02:00 Start authorize request
04/13/2024 12:13:35 +02:00 User in authorize request: "0d2a181c-af89-47bb-84ed-e64dbae31d8b"
04/13/2024 12:13:35 +02:00 Start authorize request protocol validation
04/13/2024 12:13:35 +02:00 client configuration validation for client "swagger" succeeded.
04/13/2024 12:13:35 +02:00 Checking for PKCE parameters
04/13/2024 12:13:35 +02:00 Calling into custom validator: "Duende.IdentityServer.Validation.DefaultCustomAuthorizeRequestValidator"
04/13/2024 12:13:35 +02:00 ValidatedAuthorizeRequest
AuthorizeRequestValidationLog { ClientId: "swagger", ClientName: "Client for Swagger use", RedirectUri: "https://localhost:7207/swagger/oauth2-redirect.html", AllowedRedirectUris: ["https://localhost:7207/swagger/oauth2-redirect.html"], SubjectId: "0d2a181c-af89-47bb-84ed-e64dbae31d8b", ResponseType: "code", ResponseMode: "query", GrantType: "authorization_code", RequestedScopes: "api1 user openid", State: "U2F0IEFwciAxMyAyMDI0IDEyOjEzOjM1IEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp", UiLocales: null, Nonce: null, AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: "", MaxAge: null, LoginHint: null, SessionId: "8DA68F3BC734D5C8CD91B193A61D55E2", Raw: [("response_type": "code"), ("client_id": "swagger"), ("redirect_uri": "https://localhost:7207/swagger/oauth2-redirect.html"), ("scope": "api1 user openid"), ("state": "U2F0IEFwciAxMyAyMDI0IDEyOjEzOjM1IEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp"), ("code_challenge": "0tYz0673AZuiwr4ELcDN9vrM93fmieAx64N23R-n8Pg"), ("code_challenge_method": "S256")] }
04/13/2024 12:13:37 +02:00 Client is configured to not require consent, no consent is required
04/13/2024 12:13:37 +02:00 Creating Authorization Code Flow response.
04/13/2024 12:13:37 +02:00 TokenIssuedSuccessEvent { ClientId: "swagger", ClientName: "Client for Swagger use", RedirectUri: "https://localhost:7207/swagger/oauth2-redirect.html", Endpoint: "Authorize", SubjectId: "0d2a181c-af89-47bb-84ed-e64dbae31d8b", Scopes: "api1 user openid", GrantType: "authorization_code", Tokens: [Token { TokenType: "code", TokenValue: "****B9-1" }], Category: "Token", Name: "Token Issued Success", EventType: Success, Id: 2000, Message: null, ActivityId: "0HN2RK8Q9DC51:0000000F", TimeStamp: 04/13/2024 10:13:37, ProcessId: 34276, LocalIpAddress: "::1:5001", RemoteIpAddress: "::1" }
04/13/2024 12:13:37 +02:00 Authorize endpoint response
AuthorizeResponseLog { SubjectId: "0d2a181c-af89-47bb-84ed-e64dbae31d8b", ClientId: "swagger", RedirectUri: "https://localhost:7207/swagger/oauth2-redirect.html", State: "U2F0IEFwciAxMyAyMDI0IDEyOjEzOjM1IEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp", Scope: "api1 user openid", Error: null, ErrorDescription: null }
04/13/2024 12:13:37 +02:00 HTTP "GET" "/connect/authorize" responded 302 in 1389.6358 ms
04/13/2024 12:13:37 +02:00 CORS request made for path: "/connect/token" from origin: "https://localhost:7207"
04/13/2024 12:13:37 +02:00 Client list checked and origin: "https://localhost:7207" is allowed
04/13/2024 12:13:37 +02:00 CorsPolicyService allowed origin: "https://localhost:7207"
04/13/2024 12:13:37 +02:00 HTTP "OPTIONS" "/connect/token" responded 204 in 33.6265 ms
04/13/2024 12:13:37 +02:00 CORS request made for path: "/connect/token" from origin: "https://localhost:7207"
04/13/2024 12:13:37 +02:00 Client list checked and origin: "https://localhost:7207" is allowed
04/13/2024 12:13:37 +02:00 CorsPolicyService allowed origin: "https://localhost:7207"
04/13/2024 12:13:37 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/13/2024 12:13:37 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/13/2024 12:13:37 +02:00 Request path "/connect/token" matched to endpoint type "Token"
04/13/2024 12:13:37 +02:00 Endpoint enabled: "Token", successfully created handler: "Duende.IdentityServer.Endpoints.TokenEndpoint"
04/13/2024 12:13:37 +02:00 Invoking IdentityServer endpoint: "Duende.IdentityServer.Endpoints.TokenEndpoint" for "/connect/token"
04/13/2024 12:13:37 +02:00 Start token request.
04/13/2024 12:13:37 +02:00 Start client validation
04/13/2024 12:13:37 +02:00 Start parsing Basic Authentication secret
04/13/2024 12:13:37 +02:00 Start parsing for secret in post body
04/13/2024 12:13:37 +02:00 Parser found secret: "PostBodySecretParser"
04/13/2024 12:13:37 +02:00 Secret id found: "swagger"
04/13/2024 12:13:37 +02:00 client configuration validation for client "swagger" succeeded.
04/13/2024 12:13:37 +02:00 Secret validator success: "HashedSharedSecretValidator"
04/13/2024 12:13:37 +02:00 Client validation success
04/13/2024 12:13:37 +02:00 ClientAuthenticationSuccessEvent { ClientId: "swagger", AuthenticationMethod: "SharedSecret", Category: "Authentication", Name: "Client Authentication Success", EventType: Success, Id: 1010, Message: null, ActivityId: "0HN2RK8Q9DC52:00000003", TimeStamp: 04/13/2024 10:13:37, ProcessId: 34276, LocalIpAddress: "::1:5001", RemoteIpAddress: "::1" }
04/13/2024 12:13:37 +02:00 Start token request validation
04/13/2024 12:13:37 +02:00 Start validation of authorization code token request
04/13/2024 12:13:37 +02:00 Client required a proof key for code exchange. Starting PKCE validation
04/13/2024 12:13:37 +02:00 Validation of authorization code token request success
04/13/2024 12:13:37 +02:00 Token request validation success, TokenRequestValidationLog { ClientId: "swagger", ClientName: "Client for Swagger use", GrantType: "authorization_code", Scopes: null, AuthorizationCode: "****B9-1", RefreshToken: "********", UserName: null, AuthenticationContextReferenceClasses: null, Tenant: null, IdP: null, Raw: [("grant_type": "authorization_code"), ("code": "***REDACTED***"), ("client_id": "swagger"), ("client_secret": "***REDACTED***"), ("redirect_uri": "https://localhost:7207/swagger/oauth2-redirect.html"), ("code_verifier": "wq7sU8WWHkqAslELd06KUMBjrvdqU48tP7um2q3aYvE")] }
04/13/2024 12:13:37 +02:00 client configuration validation for client "swagger" succeeded.
04/13/2024 12:13:37 +02:00 Getting claims for access token for client: "swagger"
04/13/2024 12:13:37 +02:00 Getting claims for access token for subject: "0d2a181c-af89-47bb-84ed-e64dbae31d8b"
04/13/2024 12:13:37 +02:00 Active signing key found with kid "6B1C32E36545F634A32CA2D8AE090DC7" for alg "RS256". Expires in 89.09:03:52.9284608. Retires in 103.09:03:52.9284608
04/13/2024 12:13:38 +02:00 client configuration validation for client "swagger" succeeded.
04/13/2024 12:13:38 +02:00 Active signing key found with kid "6B1C32E36545F634A32CA2D8AE090DC7" for alg "RS256". Expires in 89.09:03:52.8585044. Retires in 103.09:03:52.8585044
04/13/2024 12:13:38 +02:00 Getting claims for identity token for subject: "0d2a181c-af89-47bb-84ed-e64dbae31d8b" and client: "swagger"
04/13/2024 12:13:38 +02:00 Active signing key found with kid "6B1C32E36545F634A32CA2D8AE090DC7" for alg "RS256". Expires in 89.09:03:52.8394767. Retires in 103.09:03:52.8394767
04/13/2024 12:13:38 +02:00 TokenIssuedSuccessEvent { ClientId: "swagger", ClientName: "Client for Swagger use", RedirectUri: null, Endpoint: "Token", SubjectId: "0d2a181c-af89-47bb-84ed-e64dbae31d8b", Scopes: "api1 user openid", GrantType: "authorization_code", Tokens: [Token { TokenType: "id_token", TokenValue: "****gGpw" }, Token { TokenType: "access_token", TokenValue: "****XAjw" }], Category: "Token", Name: "Token Issued Success", EventType: Success, Id: 2000, Message: null, ActivityId: "0HN2RK8Q9DC52:00000003", TimeStamp: 04/13/2024 10:13:38, ProcessId: 34276, LocalIpAddress: "::1:5001", RemoteIpAddress: "::1" }
04/13/2024 12:13:38 +02:00 Token request success.
04/13/2024 12:13:38 +02:00 HTTP "POST" "/connect/token" responded 200 in 750.9846 ms
04/13/2024 14:49:37 +02:00 AuthenticationScheme: "Identity.Application" was successfully authenticated.
04/13/2024 14:49:37 +02:00 AuthenticationScheme: "Identity.Application" was successfully authenticated.
04/13/2024 14:49:37 +02:00 Request path "/connect/authorize" matched to endpoint type "Authorize"
04/13/2024 14:49:37 +02:00 Endpoint enabled: "Authorize", successfully created handler: "Duende.IdentityServer.Endpoints.AuthorizeEndpoint"
04/13/2024 14:49:37 +02:00 Invoking IdentityServer endpoint: "Duende.IdentityServer.Endpoints.AuthorizeEndpoint" for "/connect/authorize"
04/13/2024 14:49:37 +02:00 Start authorize request
04/13/2024 14:49:37 +02:00 User in authorize request: "0d2a181c-af89-47bb-84ed-e64dbae31d8b"
04/13/2024 14:49:37 +02:00 Start authorize request protocol validation
04/13/2024 14:49:37 +02:00 client configuration validation for client "swagger" succeeded.
04/13/2024 14:49:37 +02:00 Checking for PKCE parameters
04/13/2024 14:49:37 +02:00 Calling into custom validator: "Duende.IdentityServer.Validation.DefaultCustomAuthorizeRequestValidator"
04/13/2024 14:49:37 +02:00 ValidatedAuthorizeRequest
AuthorizeRequestValidationLog { ClientId: "swagger", ClientName: "Client for Swagger use", RedirectUri: "https://localhost:7207/swagger/oauth2-redirect.html", AllowedRedirectUris: ["https://localhost:7207/swagger/oauth2-redirect.html"], SubjectId: "0d2a181c-af89-47bb-84ed-e64dbae31d8b", ResponseType: "code", ResponseMode: "query", GrantType: "authorization_code", RequestedScopes: "api1 user openid", State: "U2F0IEFwciAxMyAyMDI0IDE0OjQ5OjM3IEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp", UiLocales: null, Nonce: null, AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: "", MaxAge: null, LoginHint: null, SessionId: "8DA68F3BC734D5C8CD91B193A61D55E2", Raw: [("response_type": "code"), ("client_id": "swagger"), ("redirect_uri": "https://localhost:7207/swagger/oauth2-redirect.html"), ("scope": "api1 user openid"), ("state": "U2F0IEFwciAxMyAyMDI0IDE0OjQ5OjM3IEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp"), ("code_challenge": "DxDrExDBdDrR_GRRQPlrXGNaQ12zA8xG-iQGGq_afSg"), ("code_challenge_method": "S256")] }
04/13/2024 14:49:37 +02:00 Client is configured to not require consent, no consent is required
04/13/2024 14:49:37 +02:00 Creating Authorization Code Flow response.
04/13/2024 14:49:37 +02:00 TokenIssuedSuccessEvent { ClientId: "swagger", ClientName: "Client for Swagger use", RedirectUri: "https://localhost:7207/swagger/oauth2-redirect.html", Endpoint: "Authorize", SubjectId: "0d2a181c-af89-47bb-84ed-e64dbae31d8b", Scopes: "api1 user openid", GrantType: "authorization_code", Tokens: [Token { TokenType: "code", TokenValue: "****4B-1" }], Category: "Token", Name: "Token Issued Success", EventType: Success, Id: 2000, Message: null, ActivityId: "0HN2RK8Q9DC53:00000001", TimeStamp: 04/13/2024 12:49:37, ProcessId: 34276, LocalIpAddress: "::1:5001", RemoteIpAddress: "::1" }
04/13/2024 14:49:38 +02:00 Authorize endpoint response
AuthorizeResponseLog { SubjectId: "0d2a181c-af89-47bb-84ed-e64dbae31d8b", ClientId: "swagger", RedirectUri: "https://localhost:7207/swagger/oauth2-redirect.html", State: "U2F0IEFwciAxMyAyMDI0IDE0OjQ5OjM3IEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp", Scope: "api1 user openid", Error: null, ErrorDescription: null }
04/13/2024 14:49:38 +02:00 HTTP "GET" "/connect/authorize" responded 302 in 258.9260 ms
04/13/2024 14:49:38 +02:00 CORS request made for path: "/connect/token" from origin: "https://localhost:7207"
04/13/2024 14:49:38 +02:00 Client list checked and origin: "https://localhost:7207" is allowed
04/13/2024 14:49:38 +02:00 CorsPolicyService allowed origin: "https://localhost:7207"
04/13/2024 14:49:38 +02:00 HTTP "OPTIONS" "/connect/token" responded 204 in 52.3906 ms
04/13/2024 14:49:38 +02:00 CORS request made for path: "/connect/token" from origin: "https://localhost:7207"
04/13/2024 14:49:38 +02:00 Client list checked and origin: "https://localhost:7207" is allowed
04/13/2024 14:49:38 +02:00 CorsPolicyService allowed origin: "https://localhost:7207"
04/13/2024 14:49:38 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/13/2024 14:49:38 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/13/2024 14:49:38 +02:00 Request path "/connect/token" matched to endpoint type "Token"
04/13/2024 14:49:38 +02:00 Endpoint enabled: "Token", successfully created handler: "Duende.IdentityServer.Endpoints.TokenEndpoint"
04/13/2024 14:49:38 +02:00 Invoking IdentityServer endpoint: "Duende.IdentityServer.Endpoints.TokenEndpoint" for "/connect/token"
04/13/2024 14:49:38 +02:00 Start token request.
04/13/2024 14:49:38 +02:00 Start client validation
04/13/2024 14:49:38 +02:00 Start parsing Basic Authentication secret
04/13/2024 14:49:38 +02:00 Start parsing for secret in post body
04/13/2024 14:49:38 +02:00 Parser found secret: "PostBodySecretParser"
04/13/2024 14:49:38 +02:00 Secret id found: "swagger"
04/13/2024 14:49:38 +02:00 client configuration validation for client "swagger" succeeded.
04/13/2024 14:49:38 +02:00 Secret validator success: "HashedSharedSecretValidator"
04/13/2024 14:49:38 +02:00 Client validation success
04/13/2024 14:49:38 +02:00 ClientAuthenticationSuccessEvent { ClientId: "swagger", AuthenticationMethod: "SharedSecret", Category: "Authentication", Name: "Client Authentication Success", EventType: Success, Id: 1010, Message: null, ActivityId: "0HN2RK8Q9DC54:00000003", TimeStamp: 04/13/2024 12:49:38, ProcessId: 34276, LocalIpAddress: "::1:5001", RemoteIpAddress: "::1" }
04/13/2024 14:49:38 +02:00 Start token request validation
04/13/2024 14:49:38 +02:00 Start validation of authorization code token request
04/13/2024 14:49:38 +02:00 Client required a proof key for code exchange. Starting PKCE validation
04/13/2024 14:49:38 +02:00 Validation of authorization code token request success
04/13/2024 14:49:38 +02:00 Token request validation success, TokenRequestValidationLog { ClientId: "swagger", ClientName: "Client for Swagger use", GrantType: "authorization_code", Scopes: null, AuthorizationCode: "****4B-1", RefreshToken: "********", UserName: null, AuthenticationContextReferenceClasses: null, Tenant: null, IdP: null, Raw: [("grant_type": "authorization_code"), ("code": "***REDACTED***"), ("client_id": "swagger"), ("client_secret": "***REDACTED***"), ("redirect_uri": "https://localhost:7207/swagger/oauth2-redirect.html"), ("code_verifier": "BdhNHDWg4vrf8lR6rSrrq0Kjy_f3iFl1yqmr-os5jt8")] }
04/13/2024 14:49:38 +02:00 client configuration validation for client "swagger" succeeded.
04/13/2024 14:49:38 +02:00 Getting claims for access token for client: "swagger"
04/13/2024 14:49:38 +02:00 Getting claims for access token for subject: "0d2a181c-af89-47bb-84ed-e64dbae31d8b"
04/13/2024 14:49:38 +02:00 Active signing key found with kid "6B1C32E36545F634A32CA2D8AE090DC7" for alg "RS256". Expires in 89.06:27:52.2861593. Retires in 103.06:27:52.2861593
04/13/2024 14:49:38 +02:00 client configuration validation for client "swagger" succeeded.
04/13/2024 14:49:38 +02:00 Active signing key found with kid "6B1C32E36545F634A32CA2D8AE090DC7" for alg "RS256". Expires in 89.06:27:52.2730221. Retires in 103.06:27:52.2730221
04/13/2024 14:49:38 +02:00 Getting claims for identity token for subject: "0d2a181c-af89-47bb-84ed-e64dbae31d8b" and client: "swagger"
04/13/2024 14:49:38 +02:00 Active signing key found with kid "6B1C32E36545F634A32CA2D8AE090DC7" for alg "RS256". Expires in 89.06:27:52.2614722. Retires in 103.06:27:52.2614722
04/13/2024 14:49:38 +02:00 TokenIssuedSuccessEvent { ClientId: "swagger", ClientName: "Client for Swagger use", RedirectUri: null, Endpoint: "Token", SubjectId: "0d2a181c-af89-47bb-84ed-e64dbae31d8b", Scopes: "api1 user openid", GrantType: "authorization_code", Tokens: [Token { TokenType: "id_token", TokenValue: "****MOsw" }, Token { TokenType: "access_token", TokenValue: "****cl2w" }], Category: "Token", Name: "Token Issued Success", EventType: Success, Id: 2000, Message: null, ActivityId: "0HN2RK8Q9DC54:00000003", TimeStamp: 04/13/2024 12:49:38, ProcessId: 34276, LocalIpAddress: "::1:5001", RemoteIpAddress: "::1" }
04/13/2024 14:49:38 +02:00 Token request success.
04/13/2024 14:49:38 +02:00 HTTP "POST" "/connect/token" responded 200 in 410.8657 ms
04/13/2024 15:07:02 +02:00 AuthenticationScheme: "Identity.Application" was successfully authenticated.
04/13/2024 15:07:02 +02:00 AuthenticationScheme: "Identity.Application" was successfully authenticated.
04/13/2024 15:07:02 +02:00 Request path "/connect/authorize" matched to endpoint type "Authorize"
04/13/2024 15:07:02 +02:00 Endpoint enabled: "Authorize", successfully created handler: "Duende.IdentityServer.Endpoints.AuthorizeEndpoint"
04/13/2024 15:07:02 +02:00 Invoking IdentityServer endpoint: "Duende.IdentityServer.Endpoints.AuthorizeEndpoint" for "/connect/authorize"
04/13/2024 15:07:02 +02:00 Start authorize request
04/13/2024 15:07:02 +02:00 User in authorize request: "0d2a181c-af89-47bb-84ed-e64dbae31d8b"
04/13/2024 15:07:02 +02:00 Start authorize request protocol validation
04/13/2024 15:07:02 +02:00 client configuration validation for client "swagger" succeeded.
04/13/2024 15:07:02 +02:00 Checking for PKCE parameters
04/13/2024 15:07:02 +02:00 Calling into custom validator: "Duende.IdentityServer.Validation.DefaultCustomAuthorizeRequestValidator"
04/13/2024 15:07:02 +02:00 ValidatedAuthorizeRequest
AuthorizeRequestValidationLog { ClientId: "swagger", ClientName: "Client for Swagger use", RedirectUri: "https://localhost:7207/swagger/oauth2-redirect.html", AllowedRedirectUris: ["https://localhost:7207/swagger/oauth2-redirect.html"], SubjectId: "0d2a181c-af89-47bb-84ed-e64dbae31d8b", ResponseType: "code", ResponseMode: "query", GrantType: "authorization_code", RequestedScopes: "api1 user openid", State: "U2F0IEFwciAxMyAyMDI0IDE1OjA3OjAyIEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp", UiLocales: null, Nonce: null, AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: "", MaxAge: null, LoginHint: null, SessionId: "8DA68F3BC734D5C8CD91B193A61D55E2", Raw: [("response_type": "code"), ("client_id": "swagger"), ("redirect_uri": "https://localhost:7207/swagger/oauth2-redirect.html"), ("scope": "api1 user openid"), ("state": "U2F0IEFwciAxMyAyMDI0IDE1OjA3OjAyIEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp"), ("code_challenge": "OzNX4o2Qx2QztgajHIlaRxV5AG-pTdf1uhRelIxkm94"), ("code_challenge_method": "S256")] }
04/13/2024 15:07:02 +02:00 Client is configured to not require consent, no consent is required
04/13/2024 15:07:02 +02:00 Creating Authorization Code Flow response.
04/13/2024 15:07:02 +02:00 TokenIssuedSuccessEvent { ClientId: "swagger", ClientName: "Client for Swagger use", RedirectUri: "https://localhost:7207/swagger/oauth2-redirect.html", Endpoint: "Authorize", SubjectId: "0d2a181c-af89-47bb-84ed-e64dbae31d8b", Scopes: "api1 user openid", GrantType: "authorization_code", Tokens: [Token { TokenType: "code", TokenValue: "****FC-1" }], Category: "Token", Name: "Token Issued Success", EventType: Success, Id: 2000, Message: null, ActivityId: "0HN2RK8Q9DC53:00000003", TimeStamp: 04/13/2024 13:07:02, ProcessId: 34276, LocalIpAddress: "::1:5001", RemoteIpAddress: "::1" }
04/13/2024 15:07:02 +02:00 Authorize endpoint response
AuthorizeResponseLog { SubjectId: "0d2a181c-af89-47bb-84ed-e64dbae31d8b", ClientId: "swagger", RedirectUri: "https://localhost:7207/swagger/oauth2-redirect.html", State: "U2F0IEFwciAxMyAyMDI0IDE1OjA3OjAyIEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp", Scope: "api1 user openid", Error: null, ErrorDescription: null }
04/13/2024 15:07:02 +02:00 HTTP "GET" "/connect/authorize" responded 302 in 244.0993 ms
04/13/2024 15:07:03 +02:00 CORS request made for path: "/connect/token" from origin: "https://localhost:7207"
04/13/2024 15:07:03 +02:00 Client list checked and origin: "https://localhost:7207" is allowed
04/13/2024 15:07:03 +02:00 CorsPolicyService allowed origin: "https://localhost:7207"
04/13/2024 15:07:03 +02:00 HTTP "OPTIONS" "/connect/token" responded 204 in 30.0462 ms
04/13/2024 15:07:03 +02:00 CORS request made for path: "/connect/token" from origin: "https://localhost:7207"
04/13/2024 15:07:03 +02:00 Client list checked and origin: "https://localhost:7207" is allowed
04/13/2024 15:07:03 +02:00 CorsPolicyService allowed origin: "https://localhost:7207"
04/13/2024 15:07:03 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/13/2024 15:07:03 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/13/2024 15:07:03 +02:00 Request path "/connect/token" matched to endpoint type "Token"
04/13/2024 15:07:03 +02:00 Endpoint enabled: "Token", successfully created handler: "Duende.IdentityServer.Endpoints.TokenEndpoint"
04/13/2024 15:07:03 +02:00 Invoking IdentityServer endpoint: "Duende.IdentityServer.Endpoints.TokenEndpoint" for "/connect/token"
04/13/2024 15:07:03 +02:00 Start token request.
04/13/2024 15:07:03 +02:00 Start client validation
04/13/2024 15:07:03 +02:00 Start parsing Basic Authentication secret
04/13/2024 15:07:03 +02:00 Start parsing for secret in post body
04/13/2024 15:07:03 +02:00 Parser found secret: "PostBodySecretParser"
04/13/2024 15:07:03 +02:00 Secret id found: "swagger"
04/13/2024 15:07:03 +02:00 client configuration validation for client "swagger" succeeded.
04/13/2024 15:07:03 +02:00 Secret validator success: "HashedSharedSecretValidator"
04/13/2024 15:07:03 +02:00 Client validation success
04/13/2024 15:07:03 +02:00 ClientAuthenticationSuccessEvent { ClientId: "swagger", AuthenticationMethod: "SharedSecret", Category: "Authentication", Name: "Client Authentication Success", EventType: Success, Id: 1010, Message: null, ActivityId: "0HN2RK8Q9DC54:00000007", TimeStamp: 04/13/2024 13:07:03, ProcessId: 34276, LocalIpAddress: "::1:5001", RemoteIpAddress: "::1" }
04/13/2024 15:07:03 +02:00 Start token request validation
04/13/2024 15:07:03 +02:00 Start validation of authorization code token request
04/13/2024 15:07:03 +02:00 Client required a proof key for code exchange. Starting PKCE validation
04/13/2024 15:07:03 +02:00 Validation of authorization code token request success
04/13/2024 15:07:03 +02:00 Token request validation success, TokenRequestValidationLog { ClientId: "swagger", ClientName: "Client for Swagger use", GrantType: "authorization_code", Scopes: null, AuthorizationCode: "****FC-1", RefreshToken: "********", UserName: null, AuthenticationContextReferenceClasses: null, Tenant: null, IdP: null, Raw: [("grant_type": "authorization_code"), ("code": "***REDACTED***"), ("client_id": "swagger"), ("client_secret": "***REDACTED***"), ("redirect_uri": "https://localhost:7207/swagger/oauth2-redirect.html"), ("code_verifier": "xH-xyY5qTkfntIZ9z3ayL9aZK3DvO_bd7aMVaH6K9To")] }
04/13/2024 15:07:03 +02:00 client configuration validation for client "swagger" succeeded.
04/13/2024 15:07:03 +02:00 Getting claims for access token for client: "swagger"
04/13/2024 15:07:03 +02:00 Getting claims for access token for subject: "0d2a181c-af89-47bb-84ed-e64dbae31d8b"
04/13/2024 15:07:03 +02:00 Active signing key found with kid "6B1C32E36545F634A32CA2D8AE090DC7" for alg "RS256". Expires in 89.06:10:27.4921085. Retires in 103.06:10:27.4921085
04/13/2024 15:07:03 +02:00 client configuration validation for client "swagger" succeeded.
04/13/2024 15:07:03 +02:00 Active signing key found with kid "6B1C32E36545F634A32CA2D8AE090DC7" for alg "RS256". Expires in 89.06:10:27.4807510. Retires in 103.06:10:27.4807510
04/13/2024 15:07:03 +02:00 Getting claims for identity token for subject: "0d2a181c-af89-47bb-84ed-e64dbae31d8b" and client: "swagger"
04/13/2024 15:07:03 +02:00 Active signing key found with kid "6B1C32E36545F634A32CA2D8AE090DC7" for alg "RS256". Expires in 89.06:10:27.4635236. Retires in 103.06:10:27.4635236
04/13/2024 15:07:03 +02:00 TokenIssuedSuccessEvent { ClientId: "swagger", ClientName: "Client for Swagger use", RedirectUri: null, Endpoint: "Token", SubjectId: "0d2a181c-af89-47bb-84ed-e64dbae31d8b", Scopes: "api1 user openid", GrantType: "authorization_code", Tokens: [Token { TokenType: "id_token", TokenValue: "****obcA" }, Token { TokenType: "access_token", TokenValue: "****nhEQ" }], Category: "Token", Name: "Token Issued Success", EventType: Success, Id: 2000, Message: null, ActivityId: "0HN2RK8Q9DC54:00000007", TimeStamp: 04/13/2024 13:07:03, ProcessId: 34276, LocalIpAddress: "::1:5001", RemoteIpAddress: "::1" }
04/13/2024 15:07:03 +02:00 Token request success.
04/13/2024 15:07:03 +02:00 HTTP "POST" "/connect/token" responded 200 in 408.2191 ms
04/13/2024 15:07:33 +02:00 AuthenticationScheme: "Identity.Application" was successfully authenticated.
04/13/2024 15:07:33 +02:00 AuthenticationScheme: "Identity.Application" was successfully authenticated.
04/13/2024 15:07:33 +02:00 Request path "/connect/authorize" matched to endpoint type "Authorize"
04/13/2024 15:07:33 +02:00 Endpoint enabled: "Authorize", successfully created handler: "Duende.IdentityServer.Endpoints.AuthorizeEndpoint"
04/13/2024 15:07:33 +02:00 Invoking IdentityServer endpoint: "Duende.IdentityServer.Endpoints.AuthorizeEndpoint" for "/connect/authorize"
04/13/2024 15:07:33 +02:00 Start authorize request
04/13/2024 15:07:33 +02:00 User in authorize request: "0d2a181c-af89-47bb-84ed-e64dbae31d8b"
04/13/2024 15:07:33 +02:00 Start authorize request protocol validation
04/13/2024 15:07:33 +02:00 client configuration validation for client "swagger" succeeded.
04/13/2024 15:07:33 +02:00 Checking for PKCE parameters
04/13/2024 15:07:33 +02:00 Calling into custom validator: "Duende.IdentityServer.Validation.DefaultCustomAuthorizeRequestValidator"
04/13/2024 15:07:33 +02:00 ValidatedAuthorizeRequest
AuthorizeRequestValidationLog { ClientId: "swagger", ClientName: "Client for Swagger use", RedirectUri: "https://localhost:7207/swagger/oauth2-redirect.html", AllowedRedirectUris: ["https://localhost:7207/swagger/oauth2-redirect.html"], SubjectId: "0d2a181c-af89-47bb-84ed-e64dbae31d8b", ResponseType: "code", ResponseMode: "query", GrantType: "authorization_code", RequestedScopes: "api1 user openid", State: "U2F0IEFwciAxMyAyMDI0IDE1OjA3OjMzIEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp", UiLocales: null, Nonce: null, AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: "", MaxAge: null, LoginHint: null, SessionId: "8DA68F3BC734D5C8CD91B193A61D55E2", Raw: [("response_type": "code"), ("client_id": "swagger"), ("redirect_uri": "https://localhost:7207/swagger/oauth2-redirect.html"), ("scope": "api1 user openid"), ("state": "U2F0IEFwciAxMyAyMDI0IDE1OjA3OjMzIEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp"), ("code_challenge": "dJSi2S50hzyOtq7k4mQYj8VS72_numaTLqrH1Ar5-M0"), ("code_challenge_method": "S256")] }
04/13/2024 15:07:33 +02:00 Client is configured to not require consent, no consent is required
04/13/2024 15:07:33 +02:00 Creating Authorization Code Flow response.
04/13/2024 15:07:33 +02:00 TokenIssuedSuccessEvent { ClientId: "swagger", ClientName: "Client for Swagger use", RedirectUri: "https://localhost:7207/swagger/oauth2-redirect.html", Endpoint: "Authorize", SubjectId: "0d2a181c-af89-47bb-84ed-e64dbae31d8b", Scopes: "api1 user openid", GrantType: "authorization_code", Tokens: [Token { TokenType: "code", TokenValue: "****85-1" }], Category: "Token", Name: "Token Issued Success", EventType: Success, Id: 2000, Message: null, ActivityId: "0HN2RK8Q9DC53:00000005", TimeStamp: 04/13/2024 13:07:33, ProcessId: 34276, LocalIpAddress: "::1:5001", RemoteIpAddress: "::1" }
04/13/2024 15:07:33 +02:00 Authorize endpoint response
AuthorizeResponseLog { SubjectId: "0d2a181c-af89-47bb-84ed-e64dbae31d8b", ClientId: "swagger", RedirectUri: "https://localhost:7207/swagger/oauth2-redirect.html", State: "U2F0IEFwciAxMyAyMDI0IDE1OjA3OjMzIEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp", Scope: "api1 user openid", Error: null, ErrorDescription: null }
04/13/2024 15:07:33 +02:00 HTTP "GET" "/connect/authorize" responded 302 in 213.9316 ms
04/13/2024 15:07:33 +02:00 CORS request made for path: "/connect/token" from origin: "https://localhost:7207"
04/13/2024 15:07:33 +02:00 Client list checked and origin: "https://localhost:7207" is allowed
04/13/2024 15:07:33 +02:00 CorsPolicyService allowed origin: "https://localhost:7207"
04/13/2024 15:07:33 +02:00 HTTP "OPTIONS" "/connect/token" responded 204 in 26.4741 ms
04/13/2024 15:07:33 +02:00 CORS request made for path: "/connect/token" from origin: "https://localhost:7207"
04/13/2024 15:07:33 +02:00 Client list checked and origin: "https://localhost:7207" is allowed
04/13/2024 15:07:33 +02:00 CorsPolicyService allowed origin: "https://localhost:7207"
04/13/2024 15:07:33 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/13/2024 15:07:33 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/13/2024 15:07:33 +02:00 Request path "/connect/token" matched to endpoint type "Token"
04/13/2024 15:07:33 +02:00 Endpoint enabled: "Token", successfully created handler: "Duende.IdentityServer.Endpoints.TokenEndpoint"
04/13/2024 15:07:33 +02:00 Invoking IdentityServer endpoint: "Duende.IdentityServer.Endpoints.TokenEndpoint" for "/connect/token"
04/13/2024 15:07:33 +02:00 Start token request.
04/13/2024 15:07:33 +02:00 Start client validation
04/13/2024 15:07:33 +02:00 Start parsing Basic Authentication secret
04/13/2024 15:07:33 +02:00 Start parsing for secret in post body
04/13/2024 15:07:33 +02:00 Parser found secret: "PostBodySecretParser"
04/13/2024 15:07:33 +02:00 Secret id found: "swagger"
04/13/2024 15:07:33 +02:00 client configuration validation for client "swagger" succeeded.
04/13/2024 15:07:33 +02:00 Secret validator success: "HashedSharedSecretValidator"
04/13/2024 15:07:33 +02:00 Client validation success
04/13/2024 15:07:33 +02:00 ClientAuthenticationSuccessEvent { ClientId: "swagger", AuthenticationMethod: "SharedSecret", Category: "Authentication", Name: "Client Authentication Success", EventType: Success, Id: 1010, Message: null, ActivityId: "0HN2RK8Q9DC54:0000000B", TimeStamp: 04/13/2024 13:07:33, ProcessId: 34276, LocalIpAddress: "::1:5001", RemoteIpAddress: "::1" }
04/13/2024 15:07:34 +02:00 Start token request validation
04/13/2024 15:07:34 +02:00 Start validation of authorization code token request
04/13/2024 15:07:34 +02:00 Client required a proof key for code exchange. Starting PKCE validation
04/13/2024 15:07:34 +02:00 Validation of authorization code token request success
04/13/2024 15:07:34 +02:00 Token request validation success, TokenRequestValidationLog { ClientId: "swagger", ClientName: "Client for Swagger use", GrantType: "authorization_code", Scopes: null, AuthorizationCode: "****85-1", RefreshToken: "********", UserName: null, AuthenticationContextReferenceClasses: null, Tenant: null, IdP: null, Raw: [("grant_type": "authorization_code"), ("code": "***REDACTED***"), ("client_id": "swagger"), ("client_secret": "***REDACTED***"), ("redirect_uri": "https://localhost:7207/swagger/oauth2-redirect.html"), ("code_verifier": "Xxepc0AF7cZUL00FJ9O0WSdBcyeclGKerry0Z2t64qQ")] }
04/13/2024 15:07:34 +02:00 client configuration validation for client "swagger" succeeded.
04/13/2024 15:07:34 +02:00 Getting claims for access token for client: "swagger"
04/13/2024 15:07:34 +02:00 Getting claims for access token for subject: "0d2a181c-af89-47bb-84ed-e64dbae31d8b"
04/13/2024 15:07:34 +02:00 Active signing key found with kid "6B1C32E36545F634A32CA2D8AE090DC7" for alg "RS256". Expires in 89.06:09:56.8014380. Retires in 103.06:09:56.8014380
04/13/2024 15:07:34 +02:00 client configuration validation for client "swagger" succeeded.
04/13/2024 15:07:34 +02:00 Active signing key found with kid "6B1C32E36545F634A32CA2D8AE090DC7" for alg "RS256". Expires in 89.06:09:56.7868115. Retires in 103.06:09:56.7868115
04/13/2024 15:07:34 +02:00 Getting claims for identity token for subject: "0d2a181c-af89-47bb-84ed-e64dbae31d8b" and client: "swagger"
04/13/2024 15:07:34 +02:00 Active signing key found with kid "6B1C32E36545F634A32CA2D8AE090DC7" for alg "RS256". Expires in 89.06:09:56.7722671. Retires in 103.06:09:56.7722671
04/13/2024 15:07:34 +02:00 TokenIssuedSuccessEvent { ClientId: "swagger", ClientName: "Client for Swagger use", RedirectUri: null, Endpoint: "Token", SubjectId: "0d2a181c-af89-47bb-84ed-e64dbae31d8b", Scopes: "api1 user openid", GrantType: "authorization_code", Tokens: [Token { TokenType: "id_token", TokenValue: "****4rpg" }, Token { TokenType: "access_token", TokenValue: "****M1GQ" }], Category: "Token", Name: "Token Issued Success", EventType: Success, Id: 2000, Message: null, ActivityId: "0HN2RK8Q9DC54:0000000B", TimeStamp: 04/13/2024 13:07:34, ProcessId: 34276, LocalIpAddress: "::1:5001", RemoteIpAddress: "::1" }
04/13/2024 15:07:34 +02:00 Token request success.
04/13/2024 15:07:34 +02:00 HTTP "POST" "/connect/token" responded 200 in 407.9812 ms
04/13/2024 15:31:46 +02:00 AuthenticationScheme: "Identity.Application" was successfully authenticated.
04/13/2024 15:31:46 +02:00 AuthenticationScheme: "Identity.Application" was successfully authenticated.
04/13/2024 15:31:46 +02:00 Request path "/connect/authorize" matched to endpoint type "Authorize"
04/13/2024 15:31:46 +02:00 Endpoint enabled: "Authorize", successfully created handler: "Duende.IdentityServer.Endpoints.AuthorizeEndpoint"
04/13/2024 15:31:46 +02:00 Invoking IdentityServer endpoint: "Duende.IdentityServer.Endpoints.AuthorizeEndpoint" for "/connect/authorize"
04/13/2024 15:31:46 +02:00 Start authorize request
04/13/2024 15:31:46 +02:00 User in authorize request: "0d2a181c-af89-47bb-84ed-e64dbae31d8b"
04/13/2024 15:31:46 +02:00 Start authorize request protocol validation
04/13/2024 15:31:46 +02:00 client configuration validation for client "swagger" succeeded.
04/13/2024 15:31:46 +02:00 Checking for PKCE parameters
04/13/2024 15:31:46 +02:00 Calling into custom validator: "Duende.IdentityServer.Validation.DefaultCustomAuthorizeRequestValidator"
04/13/2024 15:31:46 +02:00 ValidatedAuthorizeRequest
AuthorizeRequestValidationLog { ClientId: "swagger", ClientName: "Client for Swagger use", RedirectUri: "https://localhost:7207/swagger/oauth2-redirect.html", AllowedRedirectUris: ["https://localhost:7207/swagger/oauth2-redirect.html"], SubjectId: "0d2a181c-af89-47bb-84ed-e64dbae31d8b", ResponseType: "code", ResponseMode: "query", GrantType: "authorization_code", RequestedScopes: "api1 user openid", State: "U2F0IEFwciAxMyAyMDI0IDE1OjMxOjQ2IEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp", UiLocales: null, Nonce: null, AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: "", MaxAge: null, LoginHint: null, SessionId: "8DA68F3BC734D5C8CD91B193A61D55E2", Raw: [("response_type": "code"), ("client_id": "swagger"), ("redirect_uri": "https://localhost:7207/swagger/oauth2-redirect.html"), ("scope": "api1 user openid"), ("state": "U2F0IEFwciAxMyAyMDI0IDE1OjMxOjQ2IEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp"), ("code_challenge": "0gKK1pWImGpTPVjO7FlAcKR8F7vvu8kpNCiJN4FA-eY"), ("code_challenge_method": "S256")] }
04/13/2024 15:31:46 +02:00 Client is configured to not require consent, no consent is required
04/13/2024 15:31:46 +02:00 Creating Authorization Code Flow response.
04/13/2024 15:31:46 +02:00 TokenIssuedSuccessEvent { ClientId: "swagger", ClientName: "Client for Swagger use", RedirectUri: "https://localhost:7207/swagger/oauth2-redirect.html", Endpoint: "Authorize", SubjectId: "0d2a181c-af89-47bb-84ed-e64dbae31d8b", Scopes: "api1 user openid", GrantType: "authorization_code", Tokens: [Token { TokenType: "code", TokenValue: "****07-1" }], Category: "Token", Name: "Token Issued Success", EventType: Success, Id: 2000, Message: null, ActivityId: "0HN2RK8Q9DC55:00000001", TimeStamp: 04/13/2024 13:31:46, ProcessId: 34276, LocalIpAddress: "::1:5001", RemoteIpAddress: "::1" }
04/13/2024 15:31:46 +02:00 Authorize endpoint response
AuthorizeResponseLog { SubjectId: "0d2a181c-af89-47bb-84ed-e64dbae31d8b", ClientId: "swagger", RedirectUri: "https://localhost:7207/swagger/oauth2-redirect.html", State: "U2F0IEFwciAxMyAyMDI0IDE1OjMxOjQ2IEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp", Scope: "api1 user openid", Error: null, ErrorDescription: null }
04/13/2024 15:31:46 +02:00 HTTP "GET" "/connect/authorize" responded 302 in 574.0284 ms
04/13/2024 15:31:47 +02:00 CORS request made for path: "/connect/token" from origin: "https://localhost:7207"
04/13/2024 15:31:47 +02:00 Client list checked and origin: "https://localhost:7207" is allowed
04/13/2024 15:31:47 +02:00 CorsPolicyService allowed origin: "https://localhost:7207"
04/13/2024 15:31:47 +02:00 HTTP "OPTIONS" "/connect/token" responded 204 in 45.6748 ms
04/13/2024 15:31:47 +02:00 CORS request made for path: "/connect/token" from origin: "https://localhost:7207"
04/13/2024 15:31:47 +02:00 Client list checked and origin: "https://localhost:7207" is allowed
04/13/2024 15:31:47 +02:00 CorsPolicyService allowed origin: "https://localhost:7207"
04/13/2024 15:31:47 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/13/2024 15:31:47 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/13/2024 15:31:47 +02:00 Request path "/connect/token" matched to endpoint type "Token"
04/13/2024 15:31:47 +02:00 Endpoint enabled: "Token", successfully created handler: "Duende.IdentityServer.Endpoints.TokenEndpoint"
04/13/2024 15:31:47 +02:00 Invoking IdentityServer endpoint: "Duende.IdentityServer.Endpoints.TokenEndpoint" for "/connect/token"
04/13/2024 15:31:47 +02:00 Start token request.
04/13/2024 15:31:47 +02:00 Start client validation
04/13/2024 15:31:47 +02:00 Start parsing Basic Authentication secret
04/13/2024 15:31:47 +02:00 Start parsing for secret in post body
04/13/2024 15:31:47 +02:00 Parser found secret: "PostBodySecretParser"
04/13/2024 15:31:47 +02:00 Secret id found: "swagger"
04/13/2024 15:31:47 +02:00 client configuration validation for client "swagger" succeeded.
04/13/2024 15:31:47 +02:00 Secret validator success: "HashedSharedSecretValidator"
04/13/2024 15:31:47 +02:00 Client validation success
04/13/2024 15:31:47 +02:00 ClientAuthenticationSuccessEvent { ClientId: "swagger", AuthenticationMethod: "SharedSecret", Category: "Authentication", Name: "Client Authentication Success", EventType: Success, Id: 1010, Message: null, ActivityId: "0HN2RK8Q9DC56:00000003", TimeStamp: 04/13/2024 13:31:47, ProcessId: 34276, LocalIpAddress: "::1:5001", RemoteIpAddress: "::1" }
04/13/2024 15:31:47 +02:00 Start token request validation
04/13/2024 15:31:47 +02:00 Start validation of authorization code token request
04/13/2024 15:31:47 +02:00 Client required a proof key for code exchange. Starting PKCE validation
04/13/2024 15:31:47 +02:00 Validation of authorization code token request success
04/13/2024 15:31:47 +02:00 Token request validation success, TokenRequestValidationLog { ClientId: "swagger", ClientName: "Client for Swagger use", GrantType: "authorization_code", Scopes: null, AuthorizationCode: "****07-1", RefreshToken: "********", UserName: null, AuthenticationContextReferenceClasses: null, Tenant: null, IdP: null, Raw: [("grant_type": "authorization_code"), ("code": "***REDACTED***"), ("client_id": "swagger"), ("client_secret": "***REDACTED***"), ("redirect_uri": "https://localhost:7207/swagger/oauth2-redirect.html"), ("code_verifier": "el0zbm-MuoBxH4LcQUn7gEFb7T_B2TwLpHIIvxEctbw")] }
04/13/2024 15:31:47 +02:00 client configuration validation for client "swagger" succeeded.
04/13/2024 15:31:47 +02:00 Getting claims for access token for client: "swagger"
04/13/2024 15:31:47 +02:00 Getting claims for access token for subject: "0d2a181c-af89-47bb-84ed-e64dbae31d8b"
04/13/2024 15:31:47 +02:00 Active signing key found with kid "6B1C32E36545F634A32CA2D8AE090DC7" for alg "RS256". Expires in 89.05:45:43.5495439. Retires in 103.05:45:43.5495439
04/13/2024 15:31:47 +02:00 client configuration validation for client "swagger" succeeded.
04/13/2024 15:31:47 +02:00 Active signing key found with kid "6B1C32E36545F634A32CA2D8AE090DC7" for alg "RS256". Expires in 89.05:45:43.5331260. Retires in 103.05:45:43.5331260
04/13/2024 15:31:47 +02:00 Getting claims for identity token for subject: "0d2a181c-af89-47bb-84ed-e64dbae31d8b" and client: "swagger"
04/13/2024 15:31:47 +02:00 Active signing key found with kid "6B1C32E36545F634A32CA2D8AE090DC7" for alg "RS256". Expires in 89.05:45:43.5110000. Retires in 103.05:45:43.5110000
04/13/2024 15:31:47 +02:00 TokenIssuedSuccessEvent { ClientId: "swagger", ClientName: "Client for Swagger use", RedirectUri: null, Endpoint: "Token", SubjectId: "0d2a181c-af89-47bb-84ed-e64dbae31d8b", Scopes: "api1 user openid", GrantType: "authorization_code", Tokens: [Token { TokenType: "id_token", TokenValue: "****TgOg" }, Token { TokenType: "access_token", TokenValue: "****cX9Q" }], Category: "Token", Name: "Token Issued Success", EventType: Success, Id: 2000, Message: null, ActivityId: "0HN2RK8Q9DC56:00000003", TimeStamp: 04/13/2024 13:31:47, ProcessId: 34276, LocalIpAddress: "::1:5001", RemoteIpAddress: "::1" }
04/13/2024 15:31:47 +02:00 Token request success.
04/13/2024 15:31:47 +02:00 HTTP "POST" "/connect/token" responded 200 in 372.1747 ms
04/13/2024 15:41:45 +02:00 AuthenticationScheme: "Identity.Application" was successfully authenticated.
04/13/2024 15:41:45 +02:00 AuthenticationScheme: "Identity.Application" was successfully authenticated.
04/13/2024 15:41:45 +02:00 Request path "/connect/authorize" matched to endpoint type "Authorize"
04/13/2024 15:41:45 +02:00 Endpoint enabled: "Authorize", successfully created handler: "Duende.IdentityServer.Endpoints.AuthorizeEndpoint"
04/13/2024 15:41:45 +02:00 Invoking IdentityServer endpoint: "Duende.IdentityServer.Endpoints.AuthorizeEndpoint" for "/connect/authorize"
04/13/2024 15:41:45 +02:00 Start authorize request
04/13/2024 15:41:45 +02:00 User in authorize request: "0d2a181c-af89-47bb-84ed-e64dbae31d8b"
04/13/2024 15:41:45 +02:00 Start authorize request protocol validation
04/13/2024 15:41:45 +02:00 client configuration validation for client "swagger" succeeded.
04/13/2024 15:41:45 +02:00 Checking for PKCE parameters
04/13/2024 15:41:45 +02:00 Calling into custom validator: "Duende.IdentityServer.Validation.DefaultCustomAuthorizeRequestValidator"
04/13/2024 15:41:45 +02:00 ValidatedAuthorizeRequest
AuthorizeRequestValidationLog { ClientId: "swagger", ClientName: "Client for Swagger use", RedirectUri: "https://localhost:7207/swagger/oauth2-redirect.html", AllowedRedirectUris: ["https://localhost:7207/swagger/oauth2-redirect.html"], SubjectId: "0d2a181c-af89-47bb-84ed-e64dbae31d8b", ResponseType: "code", ResponseMode: "query", GrantType: "authorization_code", RequestedScopes: "api1 user openid", State: "U2F0IEFwciAxMyAyMDI0IDE1OjQxOjQ1IEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp", UiLocales: null, Nonce: null, AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: "", MaxAge: null, LoginHint: null, SessionId: "8DA68F3BC734D5C8CD91B193A61D55E2", Raw: [("response_type": "code"), ("client_id": "swagger"), ("redirect_uri": "https://localhost:7207/swagger/oauth2-redirect.html"), ("scope": "api1 user openid"), ("state": "U2F0IEFwciAxMyAyMDI0IDE1OjQxOjQ1IEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp"), ("code_challenge": "6MNC2f73OCgKZ-bKkuRflKYZh4dfAmr9COW8n2q3JtM"), ("code_challenge_method": "S256")] }
04/13/2024 15:41:46 +02:00 Client is configured to not require consent, no consent is required
04/13/2024 15:41:46 +02:00 Creating Authorization Code Flow response.
04/13/2024 15:41:46 +02:00 TokenIssuedSuccessEvent { ClientId: "swagger", ClientName: "Client for Swagger use", RedirectUri: "https://localhost:7207/swagger/oauth2-redirect.html", Endpoint: "Authorize", SubjectId: "0d2a181c-af89-47bb-84ed-e64dbae31d8b", Scopes: "api1 user openid", GrantType: "authorization_code", Tokens: [Token { TokenType: "code", TokenValue: "****F2-1" }], Category: "Token", Name: "Token Issued Success", EventType: Success, Id: 2000, Message: null, ActivityId: "0HN2RK8Q9DC57:00000001", TimeStamp: 04/13/2024 13:41:46, ProcessId: 34276, LocalIpAddress: "::1:5001", RemoteIpAddress: "::1" }
04/13/2024 15:41:46 +02:00 Authorize endpoint response
AuthorizeResponseLog { SubjectId: "0d2a181c-af89-47bb-84ed-e64dbae31d8b", ClientId: "swagger", RedirectUri: "https://localhost:7207/swagger/oauth2-redirect.html", State: "U2F0IEFwciAxMyAyMDI0IDE1OjQxOjQ1IEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp", Scope: "api1 user openid", Error: null, ErrorDescription: null }
04/13/2024 15:41:46 +02:00 HTTP "GET" "/connect/authorize" responded 302 in 498.5036 ms
04/13/2024 15:41:46 +02:00 CORS request made for path: "/connect/token" from origin: "https://localhost:7207"
04/13/2024 15:41:46 +02:00 Client list checked and origin: "https://localhost:7207" is allowed
04/13/2024 15:41:46 +02:00 CorsPolicyService allowed origin: "https://localhost:7207"
04/13/2024 15:41:46 +02:00 HTTP "OPTIONS" "/connect/token" responded 204 in 72.8507 ms
04/13/2024 15:41:46 +02:00 CORS request made for path: "/connect/token" from origin: "https://localhost:7207"
04/13/2024 15:41:46 +02:00 Client list checked and origin: "https://localhost:7207" is allowed
04/13/2024 15:41:46 +02:00 CorsPolicyService allowed origin: "https://localhost:7207"
04/13/2024 15:41:46 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/13/2024 15:41:46 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/13/2024 15:41:46 +02:00 Request path "/connect/token" matched to endpoint type "Token"
04/13/2024 15:41:46 +02:00 Endpoint enabled: "Token", successfully created handler: "Duende.IdentityServer.Endpoints.TokenEndpoint"
04/13/2024 15:41:46 +02:00 Invoking IdentityServer endpoint: "Duende.IdentityServer.Endpoints.TokenEndpoint" for "/connect/token"
04/13/2024 15:41:46 +02:00 Start token request.
04/13/2024 15:41:46 +02:00 Start client validation
04/13/2024 15:41:46 +02:00 Start parsing Basic Authentication secret
04/13/2024 15:41:46 +02:00 Start parsing for secret in post body
04/13/2024 15:41:46 +02:00 Parser found secret: "PostBodySecretParser"
04/13/2024 15:41:46 +02:00 Secret id found: "swagger"
04/13/2024 15:41:46 +02:00 client configuration validation for client "swagger" succeeded.
04/13/2024 15:41:46 +02:00 Secret validator success: "HashedSharedSecretValidator"
04/13/2024 15:41:46 +02:00 Client validation success
04/13/2024 15:41:47 +02:00 ClientAuthenticationSuccessEvent { ClientId: "swagger", AuthenticationMethod: "SharedSecret", Category: "Authentication", Name: "Client Authentication Success", EventType: Success, Id: 1010, Message: null, ActivityId: "0HN2RK8Q9DC58:00000003", TimeStamp: 04/13/2024 13:41:47, ProcessId: 34276, LocalIpAddress: "::1:5001", RemoteIpAddress: "::1" }
04/13/2024 15:41:47 +02:00 Start token request validation
04/13/2024 15:41:47 +02:00 Start validation of authorization code token request
04/13/2024 15:41:47 +02:00 Client required a proof key for code exchange. Starting PKCE validation
04/13/2024 15:41:47 +02:00 Validation of authorization code token request success
04/13/2024 15:41:47 +02:00 Token request validation success, TokenRequestValidationLog { ClientId: "swagger", ClientName: "Client for Swagger use", GrantType: "authorization_code", Scopes: null, AuthorizationCode: "****F2-1", RefreshToken: "********", UserName: null, AuthenticationContextReferenceClasses: null, Tenant: null, IdP: null, Raw: [("grant_type": "authorization_code"), ("code": "***REDACTED***"), ("client_id": "swagger"), ("client_secret": "***REDACTED***"), ("redirect_uri": "https://localhost:7207/swagger/oauth2-redirect.html"), ("code_verifier": "Gm5YPJGHsnPjmVZrqO-icEXWhzI-WiXLKJljcODAzNk")] }
04/13/2024 15:41:47 +02:00 client configuration validation for client "swagger" succeeded.
04/13/2024 15:41:47 +02:00 Getting claims for access token for client: "swagger"
04/13/2024 15:41:47 +02:00 Getting claims for access token for subject: "0d2a181c-af89-47bb-84ed-e64dbae31d8b"
04/13/2024 15:41:47 +02:00 Active signing key found with kid "6B1C32E36545F634A32CA2D8AE090DC7" for alg "RS256". Expires in 89.05:35:43.4842199. Retires in 103.05:35:43.4842199
04/13/2024 15:41:47 +02:00 client configuration validation for client "swagger" succeeded.
04/13/2024 15:41:47 +02:00 Active signing key found with kid "6B1C32E36545F634A32CA2D8AE090DC7" for alg "RS256". Expires in 89.05:35:43.4458048. Retires in 103.05:35:43.4458048
04/13/2024 15:41:47 +02:00 Getting claims for identity token for subject: "0d2a181c-af89-47bb-84ed-e64dbae31d8b" and client: "swagger"
04/13/2024 15:41:47 +02:00 Active signing key found with kid "6B1C32E36545F634A32CA2D8AE090DC7" for alg "RS256". Expires in 89.05:35:43.3951607. Retires in 103.05:35:43.3951607
04/13/2024 15:41:47 +02:00 TokenIssuedSuccessEvent { ClientId: "swagger", ClientName: "Client for Swagger use", RedirectUri: null, Endpoint: "Token", SubjectId: "0d2a181c-af89-47bb-84ed-e64dbae31d8b", Scopes: "api1 user openid", GrantType: "authorization_code", Tokens: [Token { TokenType: "id_token", TokenValue: "****qbeQ" }, Token { TokenType: "access_token", TokenValue: "****9Q8A" }], Category: "Token", Name: "Token Issued Success", EventType: Success, Id: 2000, Message: null, ActivityId: "0HN2RK8Q9DC58:00000003", TimeStamp: 04/13/2024 13:41:47, ProcessId: 34276, LocalIpAddress: "::1:5001", RemoteIpAddress: "::1" }
04/13/2024 15:41:47 +02:00 Token request success.
04/13/2024 15:41:47 +02:00 HTTP "POST" "/connect/token" responded 200 in 1039.4874 ms
04/13/2024 15:42:59 +02:00 AuthenticationScheme: "Identity.Application" was successfully authenticated.
04/13/2024 15:42:59 +02:00 AuthenticationScheme: "Identity.Application" was successfully authenticated.
04/13/2024 15:42:59 +02:00 Request path "/connect/authorize" matched to endpoint type "Authorize"
04/13/2024 15:42:59 +02:00 Endpoint enabled: "Authorize", successfully created handler: "Duende.IdentityServer.Endpoints.AuthorizeEndpoint"
04/13/2024 15:42:59 +02:00 Invoking IdentityServer endpoint: "Duende.IdentityServer.Endpoints.AuthorizeEndpoint" for "/connect/authorize"
04/13/2024 15:42:59 +02:00 Start authorize request
04/13/2024 15:42:59 +02:00 User in authorize request: "0d2a181c-af89-47bb-84ed-e64dbae31d8b"
04/13/2024 15:42:59 +02:00 Start authorize request protocol validation
04/13/2024 15:42:59 +02:00 client configuration validation for client "swagger" succeeded.
04/13/2024 15:42:59 +02:00 Checking for PKCE parameters
04/13/2024 15:42:59 +02:00 code_challenge is missing
AuthorizeRequestValidationLog { ClientId: "swagger", ClientName: "Client for Swagger use", RedirectUri: "https://localhost:7207/swagger/oauth2-redirect.html", AllowedRedirectUris: ["https://localhost:7207/swagger/oauth2-redirect.html"], SubjectId: "0d2a181c-af89-47bb-84ed-e64dbae31d8b", ResponseType: "code", ResponseMode: "query", GrantType: "authorization_code", RequestedScopes: "", State: "U2F0IEFwciAxMyAyMDI0IDE1OjQyOjU5IEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp", UiLocales: null, Nonce: null, AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: "", MaxAge: null, LoginHint: null, SessionId: null, Raw: [("response_type": "code"), ("client_id": "swagger"), ("redirect_uri": "https://localhost:7207/swagger/oauth2-redirect.html"), ("scope": "api1 user openid"), ("state": "U2F0IEFwciAxMyAyMDI0IDE1OjQyOjU5IEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp")] }
04/13/2024 15:42:59 +02:00 Request validation failed
04/13/2024 15:42:59 +02:00 AuthorizeRequestValidationLog { ClientId: "swagger", ClientName: "Client for Swagger use", RedirectUri: "https://localhost:7207/swagger/oauth2-redirect.html", AllowedRedirectUris: ["https://localhost:7207/swagger/oauth2-redirect.html"], SubjectId: "0d2a181c-af89-47bb-84ed-e64dbae31d8b", ResponseType: "code", ResponseMode: "query", GrantType: "authorization_code", RequestedScopes: "", State: "U2F0IEFwciAxMyAyMDI0IDE1OjQyOjU5IEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp", UiLocales: null, Nonce: null, AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: "", MaxAge: null, LoginHint: null, SessionId: null, Raw: [("response_type": "code"), ("client_id": "swagger"), ("redirect_uri": "https://localhost:7207/swagger/oauth2-redirect.html"), ("scope": "api1 user openid"), ("state": "U2F0IEFwciAxMyAyMDI0IDE1OjQyOjU5IEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp")] }
04/13/2024 15:42:59 +02:00 TokenIssuedFailureEvent { ClientId: "swagger", ClientName: "Client for Swagger use", RedirectUri: "https://localhost:7207/swagger/oauth2-redirect.html", Endpoint: "Authorize", SubjectId: "0d2a181c-af89-47bb-84ed-e64dbae31d8b", Scopes: "", GrantType: "authorization_code", Error: "invalid_request", ErrorDescription: "code challenge required", Category: "Token", Name: "Token Issued Failure", EventType: Failure, Id: 2001, Message: null, ActivityId: "0HN2RK8Q9DC59:00000001", TimeStamp: 04/13/2024 13:42:59, ProcessId: 34276, LocalIpAddress: "::1:5001", RemoteIpAddress: "::1" }
04/13/2024 15:43:00 +02:00 HTTP "GET" "/connect/authorize" responded 302 in 233.5056 ms
04/13/2024 15:43:00 +02:00 AuthenticationScheme: "Identity.Application" was successfully authenticated.
04/13/2024 15:43:00 +02:00 AuthenticationScheme: "Identity.Application" was successfully authenticated.
04/13/2024 15:43:00 +02:00 HTTP "GET" "/home/error" responded 200 in 19.4924 ms
04/13/2024 16:02:01 +02:00 AuthenticationScheme: "Identity.Application" was successfully authenticated.
04/13/2024 16:02:01 +02:00 AuthenticationScheme: "Identity.Application" was successfully authenticated.
04/13/2024 16:02:01 +02:00 Request path "/connect/authorize" matched to endpoint type "Authorize"
04/13/2024 16:02:01 +02:00 Endpoint enabled: "Authorize", successfully created handler: "Duende.IdentityServer.Endpoints.AuthorizeEndpoint"
04/13/2024 16:02:01 +02:00 Invoking IdentityServer endpoint: "Duende.IdentityServer.Endpoints.AuthorizeEndpoint" for "/connect/authorize"
04/13/2024 16:02:01 +02:00 Start authorize request
04/13/2024 16:02:01 +02:00 User in authorize request: "0d2a181c-af89-47bb-84ed-e64dbae31d8b"
04/13/2024 16:02:01 +02:00 Start authorize request protocol validation
04/13/2024 16:02:01 +02:00 client configuration validation for client "swagger" succeeded.
04/13/2024 16:02:01 +02:00 Checking for PKCE parameters
04/13/2024 16:02:01 +02:00 code_challenge is missing
AuthorizeRequestValidationLog { ClientId: "swagger", ClientName: "Client for Swagger use", RedirectUri: "https://localhost:7207/swagger/oauth2-redirect.html", AllowedRedirectUris: ["https://localhost:7207/swagger/oauth2-redirect.html"], SubjectId: "0d2a181c-af89-47bb-84ed-e64dbae31d8b", ResponseType: "code", ResponseMode: "query", GrantType: "authorization_code", RequestedScopes: "", State: "U2F0IEFwciAxMyAyMDI0IDE2OjAyOjAwIEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp", UiLocales: null, Nonce: null, AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: "", MaxAge: null, LoginHint: null, SessionId: null, Raw: [("response_type": "code"), ("client_id": "swagger"), ("redirect_uri": "https://localhost:7207/swagger/oauth2-redirect.html"), ("scope": "api1 user openid"), ("state": "U2F0IEFwciAxMyAyMDI0IDE2OjAyOjAwIEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp")] }
04/13/2024 16:02:01 +02:00 Request validation failed
04/13/2024 16:02:01 +02:00 AuthorizeRequestValidationLog { ClientId: "swagger", ClientName: "Client for Swagger use", RedirectUri: "https://localhost:7207/swagger/oauth2-redirect.html", AllowedRedirectUris: ["https://localhost:7207/swagger/oauth2-redirect.html"], SubjectId: "0d2a181c-af89-47bb-84ed-e64dbae31d8b", ResponseType: "code", ResponseMode: "query", GrantType: "authorization_code", RequestedScopes: "", State: "U2F0IEFwciAxMyAyMDI0IDE2OjAyOjAwIEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp", UiLocales: null, Nonce: null, AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: "", MaxAge: null, LoginHint: null, SessionId: null, Raw: [("response_type": "code"), ("client_id": "swagger"), ("redirect_uri": "https://localhost:7207/swagger/oauth2-redirect.html"), ("scope": "api1 user openid"), ("state": "U2F0IEFwciAxMyAyMDI0IDE2OjAyOjAwIEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp")] }
04/13/2024 16:02:01 +02:00 TokenIssuedFailureEvent { ClientId: "swagger", ClientName: "Client for Swagger use", RedirectUri: "https://localhost:7207/swagger/oauth2-redirect.html", Endpoint: "Authorize", SubjectId: "0d2a181c-af89-47bb-84ed-e64dbae31d8b", Scopes: "", GrantType: "authorization_code", Error: "invalid_request", ErrorDescription: "code challenge required", Category: "Token", Name: "Token Issued Failure", EventType: Failure, Id: 2001, Message: null, ActivityId: "0HN2RK8Q9DC5A:00000001", TimeStamp: 04/13/2024 14:02:01, ProcessId: 34276, LocalIpAddress: "::1:5001", RemoteIpAddress: "::1" }
04/13/2024 16:02:01 +02:00 HTTP "GET" "/connect/authorize" responded 302 in 325.7531 ms
04/13/2024 16:02:01 +02:00 AuthenticationScheme: "Identity.Application" was successfully authenticated.
04/13/2024 16:02:01 +02:00 AuthenticationScheme: "Identity.Application" was successfully authenticated.
04/13/2024 16:02:01 +02:00 HTTP "GET" "/home/error" responded 200 in 15.6641 ms
04/13/2024 16:02:32 +02:00 AuthenticationScheme: "Identity.Application" was successfully authenticated.
04/13/2024 16:02:32 +02:00 AuthenticationScheme: "Identity.Application" was successfully authenticated.
04/13/2024 16:02:32 +02:00 Request path "/connect/authorize" matched to endpoint type "Authorize"
04/13/2024 16:02:32 +02:00 Endpoint enabled: "Authorize", successfully created handler: "Duende.IdentityServer.Endpoints.AuthorizeEndpoint"
04/13/2024 16:02:32 +02:00 Invoking IdentityServer endpoint: "Duende.IdentityServer.Endpoints.AuthorizeEndpoint" for "/connect/authorize"
04/13/2024 16:02:32 +02:00 Start authorize request
04/13/2024 16:02:32 +02:00 User in authorize request: "0d2a181c-af89-47bb-84ed-e64dbae31d8b"
04/13/2024 16:02:32 +02:00 Start authorize request protocol validation
04/13/2024 16:02:32 +02:00 client configuration validation for client "swagger" succeeded.
04/13/2024 16:02:32 +02:00 Checking for PKCE parameters
04/13/2024 16:02:32 +02:00 code_challenge is missing
AuthorizeRequestValidationLog { ClientId: "swagger", ClientName: "Client for Swagger use", RedirectUri: "https://localhost:7207/swagger/oauth2-redirect.html", AllowedRedirectUris: ["https://localhost:7207/swagger/oauth2-redirect.html"], SubjectId: "0d2a181c-af89-47bb-84ed-e64dbae31d8b", ResponseType: "code", ResponseMode: "query", GrantType: "authorization_code", RequestedScopes: "", State: "U2F0IEFwciAxMyAyMDI0IDE2OjAyOjMxIEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp", UiLocales: null, Nonce: null, AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: "", MaxAge: null, LoginHint: null, SessionId: null, Raw: [("response_type": "code"), ("client_id": "swagger"), ("redirect_uri": "https://localhost:7207/swagger/oauth2-redirect.html"), ("scope": "api1 user openid"), ("state": "U2F0IEFwciAxMyAyMDI0IDE2OjAyOjMxIEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp")] }
04/13/2024 16:02:32 +02:00 Request validation failed
04/13/2024 16:02:32 +02:00 AuthorizeRequestValidationLog { ClientId: "swagger", ClientName: "Client for Swagger use", RedirectUri: "https://localhost:7207/swagger/oauth2-redirect.html", AllowedRedirectUris: ["https://localhost:7207/swagger/oauth2-redirect.html"], SubjectId: "0d2a181c-af89-47bb-84ed-e64dbae31d8b", ResponseType: "code", ResponseMode: "query", GrantType: "authorization_code", RequestedScopes: "", State: "U2F0IEFwciAxMyAyMDI0IDE2OjAyOjMxIEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp", UiLocales: null, Nonce: null, AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: "", MaxAge: null, LoginHint: null, SessionId: null, Raw: [("response_type": "code"), ("client_id": "swagger"), ("redirect_uri": "https://localhost:7207/swagger/oauth2-redirect.html"), ("scope": "api1 user openid"), ("state": "U2F0IEFwciAxMyAyMDI0IDE2OjAyOjMxIEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp")] }
04/13/2024 16:02:32 +02:00 TokenIssuedFailureEvent { ClientId: "swagger", ClientName: "Client for Swagger use", RedirectUri: "https://localhost:7207/swagger/oauth2-redirect.html", Endpoint: "Authorize", SubjectId: "0d2a181c-af89-47bb-84ed-e64dbae31d8b", Scopes: "", GrantType: "authorization_code", Error: "invalid_request", ErrorDescription: "code challenge required", Category: "Token", Name: "Token Issued Failure", EventType: Failure, Id: 2001, Message: null, ActivityId: "0HN2RK8Q9DC5A:00000009", TimeStamp: 04/13/2024 14:02:32, ProcessId: 34276, LocalIpAddress: "::1:5001", RemoteIpAddress: "::1" }
04/13/2024 16:02:32 +02:00 HTTP "GET" "/connect/authorize" responded 302 in 471.6427 ms
04/13/2024 16:02:32 +02:00 AuthenticationScheme: "Identity.Application" was successfully authenticated.
04/13/2024 16:02:32 +02:00 AuthenticationScheme: "Identity.Application" was successfully authenticated.
04/13/2024 16:02:32 +02:00 HTTP "GET" "/home/error" responded 200 in 19.7313 ms
04/13/2024 16:08:45 +02:00 AuthenticationScheme: "Identity.Application" was successfully authenticated.
04/13/2024 16:08:45 +02:00 AuthenticationScheme: "Identity.Application" was successfully authenticated.
04/13/2024 16:08:45 +02:00 Request path "/connect/authorize" matched to endpoint type "Authorize"
04/13/2024 16:08:45 +02:00 Endpoint enabled: "Authorize", successfully created handler: "Duende.IdentityServer.Endpoints.AuthorizeEndpoint"
04/13/2024 16:08:45 +02:00 Invoking IdentityServer endpoint: "Duende.IdentityServer.Endpoints.AuthorizeEndpoint" for "/connect/authorize"
04/13/2024 16:08:45 +02:00 Start authorize request
04/13/2024 16:08:45 +02:00 User in authorize request: "0d2a181c-af89-47bb-84ed-e64dbae31d8b"
04/13/2024 16:08:45 +02:00 Start authorize request protocol validation
04/13/2024 16:08:45 +02:00 client configuration validation for client "swagger" succeeded.
04/13/2024 16:08:45 +02:00 Checking for PKCE parameters
04/13/2024 16:08:45 +02:00 Calling into custom validator: "Duende.IdentityServer.Validation.DefaultCustomAuthorizeRequestValidator"
04/13/2024 16:08:45 +02:00 ValidatedAuthorizeRequest
AuthorizeRequestValidationLog { ClientId: "swagger", ClientName: "Client for Swagger use", RedirectUri: "https://localhost:7207/swagger/oauth2-redirect.html", AllowedRedirectUris: ["https://localhost:7207/swagger/oauth2-redirect.html"], SubjectId: "0d2a181c-af89-47bb-84ed-e64dbae31d8b", ResponseType: "code", ResponseMode: "query", GrantType: "authorization_code", RequestedScopes: "api1 user openid", State: "U2F0IEFwciAxMyAyMDI0IDE2OjA4OjQ1IEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp", UiLocales: null, Nonce: null, AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: "", MaxAge: null, LoginHint: null, SessionId: "8DA68F3BC734D5C8CD91B193A61D55E2", Raw: [("response_type": "code"), ("client_id": "swagger"), ("redirect_uri": "https://localhost:7207/swagger/oauth2-redirect.html"), ("scope": "api1 user openid"), ("state": "U2F0IEFwciAxMyAyMDI0IDE2OjA4OjQ1IEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp"), ("code_challenge": "PUcjobSZ1UKagmQA55eY0GTotIMBj9AsB8D-eRNBCfY"), ("code_challenge_method": "S256")] }
04/13/2024 16:08:45 +02:00 Client is configured to not require consent, no consent is required
04/13/2024 16:08:45 +02:00 Creating Authorization Code Flow response.
04/13/2024 16:08:45 +02:00 TokenIssuedSuccessEvent { ClientId: "swagger", ClientName: "Client for Swagger use", RedirectUri: "https://localhost:7207/swagger/oauth2-redirect.html", Endpoint: "Authorize", SubjectId: "0d2a181c-af89-47bb-84ed-e64dbae31d8b", Scopes: "api1 user openid", GrantType: "authorization_code", Tokens: [Token { TokenType: "code", TokenValue: "****5D-1" }], Category: "Token", Name: "Token Issued Success", EventType: Success, Id: 2000, Message: null, ActivityId: "0HN2RK8Q9DC5A:00000011", TimeStamp: 04/13/2024 14:08:45, ProcessId: 34276, LocalIpAddress: "::1:5001", RemoteIpAddress: "::1" }
04/13/2024 16:08:45 +02:00 Authorize endpoint response
AuthorizeResponseLog { SubjectId: "0d2a181c-af89-47bb-84ed-e64dbae31d8b", ClientId: "swagger", RedirectUri: "https://localhost:7207/swagger/oauth2-redirect.html", State: "U2F0IEFwciAxMyAyMDI0IDE2OjA4OjQ1IEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp", Scope: "api1 user openid", Error: null, ErrorDescription: null }
04/13/2024 16:08:45 +02:00 HTTP "GET" "/connect/authorize" responded 302 in 218.2274 ms
04/13/2024 16:08:46 +02:00 CORS request made for path: "/connect/token" from origin: "https://localhost:7207"
04/13/2024 16:08:46 +02:00 Client list checked and origin: "https://localhost:7207" is allowed
04/13/2024 16:08:46 +02:00 CorsPolicyService allowed origin: "https://localhost:7207"
04/13/2024 16:08:46 +02:00 HTTP "OPTIONS" "/connect/token" responded 204 in 27.9793 ms
04/13/2024 16:08:46 +02:00 CORS request made for path: "/connect/token" from origin: "https://localhost:7207"
04/13/2024 16:08:46 +02:00 Client list checked and origin: "https://localhost:7207" is allowed
04/13/2024 16:08:46 +02:00 CorsPolicyService allowed origin: "https://localhost:7207"
04/13/2024 16:08:46 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/13/2024 16:08:46 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/13/2024 16:08:46 +02:00 Request path "/connect/token" matched to endpoint type "Token"
04/13/2024 16:08:46 +02:00 Endpoint enabled: "Token", successfully created handler: "Duende.IdentityServer.Endpoints.TokenEndpoint"
04/13/2024 16:08:46 +02:00 Invoking IdentityServer endpoint: "Duende.IdentityServer.Endpoints.TokenEndpoint" for "/connect/token"
04/13/2024 16:08:46 +02:00 Start token request.
04/13/2024 16:08:46 +02:00 Start client validation
04/13/2024 16:08:46 +02:00 Start parsing Basic Authentication secret
04/13/2024 16:08:46 +02:00 Start parsing for secret in post body
04/13/2024 16:08:46 +02:00 Parser found secret: "PostBodySecretParser"
04/13/2024 16:08:46 +02:00 Secret id found: "swagger"
04/13/2024 16:08:46 +02:00 client configuration validation for client "swagger" succeeded.
04/13/2024 16:08:46 +02:00 Secret validator success: "HashedSharedSecretValidator"
04/13/2024 16:08:46 +02:00 Client validation success
04/13/2024 16:08:46 +02:00 ClientAuthenticationSuccessEvent { ClientId: "swagger", AuthenticationMethod: "SharedSecret", Category: "Authentication", Name: "Client Authentication Success", EventType: Success, Id: 1010, Message: null, ActivityId: "0HN2RK8Q9DC5B:00000003", TimeStamp: 04/13/2024 14:08:46, ProcessId: 34276, LocalIpAddress: "::1:5001", RemoteIpAddress: "::1" }
04/13/2024 16:08:46 +02:00 Start token request validation
04/13/2024 16:08:46 +02:00 Start validation of authorization code token request
04/13/2024 16:08:46 +02:00 Client required a proof key for code exchange. Starting PKCE validation
04/13/2024 16:08:46 +02:00 Validation of authorization code token request success
04/13/2024 16:08:46 +02:00 Token request validation success, TokenRequestValidationLog { ClientId: "swagger", ClientName: "Client for Swagger use", GrantType: "authorization_code", Scopes: null, AuthorizationCode: "****5D-1", RefreshToken: "********", UserName: null, AuthenticationContextReferenceClasses: null, Tenant: null, IdP: null, Raw: [("grant_type": "authorization_code"), ("code": "***REDACTED***"), ("client_id": "swagger"), ("client_secret": "***REDACTED***"), ("redirect_uri": "https://localhost:7207/swagger/oauth2-redirect.html"), ("code_verifier": "4zY-gSwpaf4Sd_Hf7EYZe9Le2SfEdvkLnt9BanOK4WQ")] }
04/13/2024 16:08:46 +02:00 client configuration validation for client "swagger" succeeded.
04/13/2024 16:08:46 +02:00 Getting claims for access token for client: "swagger"
04/13/2024 16:08:46 +02:00 Getting claims for access token for subject: "0d2a181c-af89-47bb-84ed-e64dbae31d8b"
04/13/2024 16:08:46 +02:00 Active signing key found with kid "6B1C32E36545F634A32CA2D8AE090DC7" for alg "RS256". Expires in 89.05:08:44.5985104. Retires in 103.05:08:44.5985104
04/13/2024 16:08:46 +02:00 client configuration validation for client "swagger" succeeded.
04/13/2024 16:08:46 +02:00 Active signing key found with kid "6B1C32E36545F634A32CA2D8AE090DC7" for alg "RS256". Expires in 89.05:08:44.5809428. Retires in 103.05:08:44.5809428
04/13/2024 16:08:46 +02:00 Getting claims for identity token for subject: "0d2a181c-af89-47bb-84ed-e64dbae31d8b" and client: "swagger"
04/13/2024 16:08:46 +02:00 Active signing key found with kid "6B1C32E36545F634A32CA2D8AE090DC7" for alg "RS256". Expires in 89.05:08:44.5507978. Retires in 103.05:08:44.5507978
04/13/2024 16:08:46 +02:00 TokenIssuedSuccessEvent { ClientId: "swagger", ClientName: "Client for Swagger use", RedirectUri: null, Endpoint: "Token", SubjectId: "0d2a181c-af89-47bb-84ed-e64dbae31d8b", Scopes: "api1 user openid", GrantType: "authorization_code", Tokens: [Token { TokenType: "id_token", TokenValue: "****0ZJg" }, Token { TokenType: "access_token", TokenValue: "****NclA" }], Category: "Token", Name: "Token Issued Success", EventType: Success, Id: 2000, Message: null, ActivityId: "0HN2RK8Q9DC5B:00000003", TimeStamp: 04/13/2024 14:08:46, ProcessId: 34276, LocalIpAddress: "::1:5001", RemoteIpAddress: "::1" }
04/13/2024 16:08:46 +02:00 Token request success.
04/13/2024 16:08:46 +02:00 HTTP "POST" "/connect/token" responded 200 in 376.3741 ms
04/13/2024 16:10:04 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/13/2024 16:10:04 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/13/2024 16:10:04 +02:00 Request path "/.well-known/openid-configuration" matched to endpoint type "Discovery"
04/13/2024 16:10:04 +02:00 Endpoint enabled: "Discovery", successfully created handler: "Duende.IdentityServer.Endpoints.DiscoveryEndpoint"
04/13/2024 16:10:04 +02:00 Invoking IdentityServer endpoint: "Duende.IdentityServer.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
04/13/2024 16:10:04 +02:00 Start discovery request
04/13/2024 16:10:04 +02:00 Active signing key found with kid "6B1C32E36545F634A32CA2D8AE090DC7" for alg "RS256". Expires in 89.05:07:25.9348885. Retires in 103.05:07:25.9348885
04/13/2024 16:10:05 +02:00 HTTP "GET" "/.well-known/openid-configuration" responded 200 in 125.7251 ms
04/13/2024 16:10:05 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/13/2024 16:10:05 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/13/2024 16:10:05 +02:00 Request path "/.well-known/openid-configuration/jwks" matched to endpoint type "Jwks"
04/13/2024 16:10:05 +02:00 Endpoint enabled: "Jwks", successfully created handler: "Duende.IdentityServer.Endpoints.DiscoveryKeyEndpoint"
04/13/2024 16:10:05 +02:00 Invoking IdentityServer endpoint: "Duende.IdentityServer.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks"
04/13/2024 16:10:05 +02:00 Start key discovery request
04/13/2024 16:10:05 +02:00 HTTP "GET" "/.well-known/openid-configuration/jwks" responded 200 in 51.9444 ms
04/13/2024 16:10:19 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/13/2024 16:10:19 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/13/2024 16:10:19 +02:00 Request path "/connect/token" matched to endpoint type "Token"
04/13/2024 16:10:19 +02:00 Endpoint enabled: "Token", successfully created handler: "Duende.IdentityServer.Endpoints.TokenEndpoint"
04/13/2024 16:10:19 +02:00 Invoking IdentityServer endpoint: "Duende.IdentityServer.Endpoints.TokenEndpoint" for "/connect/token"
04/13/2024 16:10:19 +02:00 Start token request.
04/13/2024 16:10:19 +02:00 Start client validation
04/13/2024 16:10:19 +02:00 Start parsing Basic Authentication secret
04/13/2024 16:10:19 +02:00 Parser found secret: "BasicAuthenticationSecretParser"
04/13/2024 16:10:19 +02:00 Secret id found: "client"
04/13/2024 16:10:19 +02:00 client configuration validation for client "client" succeeded.
04/13/2024 16:10:19 +02:00 Secret validator success: "HashedSharedSecretValidator"
04/13/2024 16:10:19 +02:00 Client validation success
04/13/2024 16:10:19 +02:00 ClientAuthenticationSuccessEvent { ClientId: "client", AuthenticationMethod: "SharedSecret", Category: "Authentication", Name: "Client Authentication Success", EventType: Success, Id: 1010, Message: null, ActivityId: "0HN2RK8Q9DC5E:00000001", TimeStamp: 04/13/2024 14:10:19, ProcessId: 34276, LocalIpAddress: "::1:5001", RemoteIpAddress: "::1" }
04/13/2024 16:10:19 +02:00 Start token request validation
04/13/2024 16:10:19 +02:00 Start resource owner password token request validation
04/13/2024 16:10:20 +02:00 Credentials validated for username: "alice"
04/13/2024 16:10:20 +02:00 UserLoginSuccessEvent { Username: "alice", Provider: null, ProviderUserId: null, SubjectId: "0d2a181c-af89-47bb-84ed-e64dbae31d8b", DisplayName: null, Endpoint: "Token", ClientId: "client", Category: "Authentication", Name: "User Login Success", EventType: Success, Id: 1000, Message: null, ActivityId: "0HN2RK8Q9DC5E:00000001", TimeStamp: 04/13/2024 14:10:20, ProcessId: 34276, LocalIpAddress: "::1:5001", RemoteIpAddress: "::1" }
04/13/2024 16:10:20 +02:00 Resource owner password token request validation success.
04/13/2024 16:10:20 +02:00 Token request validation success, TokenRequestValidationLog { ClientId: "client", ClientName: "Client for Postman use", GrantType: "password", Scopes: "api1 user", AuthorizationCode: "********", RefreshToken: "********", UserName: "alice", AuthenticationContextReferenceClasses: null, Tenant: null, IdP: null, Raw: [("grant_type": "password"), ("username": "alice"), ("password": "***REDACTED***"), ("scope": "api1 user")] }
04/13/2024 16:10:20 +02:00 Getting claims for access token for client: "client"
04/13/2024 16:10:20 +02:00 Getting claims for access token for subject: "0d2a181c-af89-47bb-84ed-e64dbae31d8b"
04/13/2024 16:10:20 +02:00 Active signing key found with kid "6B1C32E36545F634A32CA2D8AE090DC7" for alg "RS256". Expires in 89.05:07:10.6077030. Retires in 103.05:07:10.6077030
04/13/2024 16:10:20 +02:00 TokenIssuedSuccessEvent { ClientId: "client", ClientName: "Client for Postman use", RedirectUri: null, Endpoint: "Token", SubjectId: "0d2a181c-af89-47bb-84ed-e64dbae31d8b", Scopes: "api1 user", GrantType: "password", Tokens: [Token { TokenType: "access_token", TokenValue: "****LY7g" }], Category: "Token", Name: "Token Issued Success", EventType: Success, Id: 2000, Message: null, ActivityId: "0HN2RK8Q9DC5E:00000001", TimeStamp: 04/13/2024 14:10:20, ProcessId: 34276, LocalIpAddress: "::1:5001", RemoteIpAddress: "::1" }
04/13/2024 16:10:20 +02:00 Token request success.
04/13/2024 16:10:20 +02:00 HTTP "POST" "/connect/token" responded 200 in 680.9529 ms
04/13/2024 21:31:17 +02:00 Starting Duende IdentityServer version "7.0.4+4fd52ed639a4a1baea222f26f82827b5b9288b3a" (".NET 8.0.3")
04/13/2024 21:31:19 +02:00 You do not have a valid license key for the Duende software. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please start a conversation with us: https://duendesoftware.com/contact
04/13/2024 21:31:19 +02:00 You have automatic key management enabled, but you do not have a license. This feature requires the Business or Enterprise Edition tier of license. Alternatively you can disable automatic key management by setting the KeyManagement.Enabled property to false on the IdentityServerOptions.
04/13/2024 21:31:19 +02:00 You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
04/13/2024 21:31:19 +02:00 Using the default authentication scheme "Identity.Application" for IdentityServer
04/13/2024 21:31:19 +02:00 Using "Identity.Application" as default ASP.NET Core scheme for authentication
04/13/2024 21:31:19 +02:00 Using "Identity.External" as default ASP.NET Core scheme for sign-in
04/13/2024 21:31:19 +02:00 Using "Identity.External" as default ASP.NET Core scheme for sign-out
04/13/2024 21:31:19 +02:00 Using "Identity.Application" as default ASP.NET Core scheme for challenge
04/13/2024 21:31:19 +02:00 Using "Identity.Application" as default ASP.NET Core scheme for forbid
04/13/2024 21:31:21 +02:00 Now listening on: "https://localhost:5001"
04/13/2024 21:31:21 +02:00 Application started. Press Ctrl+C to shut down.
04/13/2024 21:31:21 +02:00 Hosting environment: "Development"
04/13/2024 21:31:21 +02:00 Content root path: "E:\aplresources\szkoladotneta\webapi\code\HomeDeviceMonitor\IdentityServer6"
04/13/2024 21:31:25 +02:00 Login Url: "/Account/Login"
04/13/2024 21:31:25 +02:00 Login Return Url Parameter: "ReturnUrl"
04/13/2024 21:31:25 +02:00 Logout Url: "/Account/Logout"
04/13/2024 21:31:25 +02:00 ConsentUrl Url: "/consent"
04/13/2024 21:31:25 +02:00 Consent Return Url Parameter: "returnUrl"
04/13/2024 21:31:25 +02:00 Error Url: "/home/error"
04/13/2024 21:31:25 +02:00 Error Id Parameter: "errorId"
04/13/2024 21:31:31 +02:00 AuthenticationScheme: "Identity.Application" was successfully authenticated.
04/13/2024 21:31:31 +02:00 AuthenticationScheme: "Identity.Application" was successfully authenticated.
04/13/2024 21:31:32 +02:00 HTTP "GET" "/" responded 200 in 6238.0047 ms
04/13/2024 21:31:32 +02:00 HTTP "GET" "/lib/bootstrap4-glyphicons/css/bootstrap-glyphicons.min.css" responded 304 in 16.3904 ms
04/13/2024 21:31:32 +02:00 HTTP "GET" "/duende-logo.svg" responded 304 in 24.4206 ms
04/13/2024 21:31:32 +02:00 HTTP "GET" "/lib/bootstrap/dist/css/bootstrap.min.css" responded 304 in 16.3720 ms
04/13/2024 21:31:32 +02:00 HTTP "GET" "/lib/bootstrap/dist/js/bootstrap.bundle.min.js" responded 304 in 0.3500 ms
04/13/2024 21:31:32 +02:00 HTTP "GET" "/css/site.css" responded 304 in 16.3452 ms
04/13/2024 21:31:32 +02:00 HTTP "GET" "/lib/jquery/dist/jquery.slim.min.js" responded 304 in 1.1407 ms
04/13/2024 21:35:46 +02:00 Starting Duende IdentityServer version "7.0.4+4fd52ed639a4a1baea222f26f82827b5b9288b3a" (".NET 8.0.3")
04/13/2024 21:35:46 +02:00 You do not have a valid license key for the Duende software. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please start a conversation with us: https://duendesoftware.com/contact
04/13/2024 21:35:46 +02:00 You have automatic key management enabled, but you do not have a license. This feature requires the Business or Enterprise Edition tier of license. Alternatively you can disable automatic key management by setting the KeyManagement.Enabled property to false on the IdentityServerOptions.
04/13/2024 21:35:46 +02:00 You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
04/13/2024 21:35:46 +02:00 Using the default authentication scheme "Identity.Application" for IdentityServer
04/13/2024 21:35:46 +02:00 Using "Identity.Application" as default ASP.NET Core scheme for authentication
04/13/2024 21:35:46 +02:00 Using "Identity.External" as default ASP.NET Core scheme for sign-in
04/13/2024 21:35:46 +02:00 Using "Identity.External" as default ASP.NET Core scheme for sign-out
04/13/2024 21:35:46 +02:00 Using "Identity.Application" as default ASP.NET Core scheme for challenge
04/13/2024 21:35:46 +02:00 Using "Identity.Application" as default ASP.NET Core scheme for forbid
04/13/2024 21:35:46 +02:00 Now listening on: "https://localhost:5001"
04/13/2024 21:35:46 +02:00 Application started. Press Ctrl+C to shut down.
04/13/2024 21:35:46 +02:00 Hosting environment: "Development"
04/13/2024 21:35:46 +02:00 Content root path: "E:\aplresources\szkoladotneta\webapi\code\HomeDeviceMonitor\IdentityServer6"
04/13/2024 21:35:47 +02:00 Login Url: "/Account/Login"
04/13/2024 21:35:47 +02:00 Login Return Url Parameter: "ReturnUrl"
04/13/2024 21:35:47 +02:00 Logout Url: "/Account/Logout"
04/13/2024 21:35:47 +02:00 ConsentUrl Url: "/consent"
04/13/2024 21:35:47 +02:00 Consent Return Url Parameter: "returnUrl"
04/13/2024 21:35:47 +02:00 Error Url: "/home/error"
04/13/2024 21:35:47 +02:00 Error Id Parameter: "errorId"
04/13/2024 21:35:48 +02:00 AuthenticationScheme: "Identity.Application" was successfully authenticated.
04/13/2024 21:35:48 +02:00 AuthenticationScheme: "Identity.Application" was successfully authenticated.
04/13/2024 21:35:48 +02:00 HTTP "GET" "/" responded 200 in 414.0674 ms
04/13/2024 21:35:50 +02:00 AuthenticationScheme: "Identity.Application" was successfully authenticated.
04/13/2024 21:35:50 +02:00 AuthenticationScheme: "Identity.Application" was successfully authenticated.
04/13/2024 21:35:50 +02:00 AuthenticationScheme: "Identity.Application" was successfully authenticated.
04/13/2024 21:35:50 +02:00 HTTP "GET" "/diagnostics" responded 200 in 436.5360 ms
04/13/2024 21:36:04 +02:00 AuthenticationScheme: "Identity.Application" was successfully authenticated.
04/13/2024 21:36:04 +02:00 AuthenticationScheme: "Identity.Application" was successfully authenticated.
04/13/2024 21:36:05 +02:00 HTTP "GET" "/Account/Logout" responded 200 in 423.4175 ms
04/13/2024 21:36:08 +02:00 IdentityServer CorsPolicyService didn't handle CORS request made for path: "/Account/Logout" from origin: "null" because it is not for an IdentityServer CORS endpoint. To allow CORS requests to non IdentityServer endpoints, please set up your own Cors policy for your application by calling app.UseCors("MyPolicy") in the pipeline setup.
04/13/2024 21:36:08 +02:00 AuthenticationScheme: "Identity.Application" was successfully authenticated.
04/13/2024 21:36:08 +02:00 AuthenticationScheme: "Identity.Application" was successfully authenticated.
04/13/2024 21:36:08 +02:00 AuthenticationScheme: "Identity.Application" signed out.
04/13/2024 21:36:08 +02:00 AuthenticationScheme: "Identity.External" signed out.
04/13/2024 21:36:08 +02:00 AuthenticationScheme: "Identity.TwoFactorUserId" signed out.
04/13/2024 21:36:08 +02:00 UserLogoutSuccessEvent { SubjectId: "0d2a181c-af89-47bb-84ed-e64dbae31d8b", DisplayName: "Alice Smith", Category: "Authentication", Name: "User Logout Success", EventType: Success, Id: 1002, Message: null, ActivityId: "0HN2RU3LFJSAI:00000013", TimeStamp: 04/13/2024 19:36:08, ProcessId: 27216, LocalIpAddress: "::1:5001", RemoteIpAddress: "::1" }
04/13/2024 21:36:08 +02:00 HTTP "POST" "/Account/Logout" responded 302 in 168.3162 ms
04/13/2024 21:36:08 +02:00 SignOutCalled set; processing post-signout session cleanup.
04/13/2024 21:36:08 +02:00 client configuration validation for client "swagger" succeeded.
04/13/2024 21:36:08 +02:00 Due to user logout, invoking backchannel logout for subject id "0d2a181c-af89-47bb-84ed-e64dbae31d8b" and session id "8DA68F3BC734D5C8CD91B193A61D55E2"
04/13/2024 21:36:08 +02:00 client configuration validation for client "swagger" succeeded.
04/13/2024 21:36:08 +02:00 No client back-channel logout URLs
04/13/2024 21:36:08 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/13/2024 21:36:08 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/13/2024 21:36:08 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/13/2024 21:36:08 +02:00 HTTP "GET" "/Account/Logout/LoggedOut" responded 200 in 40.7970 ms
04/13/2024 21:36:08 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/13/2024 21:36:08 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/13/2024 21:36:08 +02:00 Request path "/connect/endsession/callback" matched to endpoint type "Endsession"
04/13/2024 21:36:09 +02:00 Endpoint enabled: "Endsession", successfully created handler: "Duende.IdentityServer.Endpoints.EndSessionCallbackEndpoint"
04/13/2024 21:36:09 +02:00 Invoking IdentityServer endpoint: "Duende.IdentityServer.Endpoints.EndSessionCallbackEndpoint" for "/connect/endsession/callback"
04/13/2024 21:36:09 +02:00 Processing signout callback request
04/13/2024 21:36:09 +02:00 client configuration validation for client "swagger" succeeded.
04/13/2024 21:36:09 +02:00 No client front-channel logout URLs
04/13/2024 21:36:09 +02:00 Successful signout callback.
04/13/2024 21:36:09 +02:00 HTTP "GET" "/connect/endsession/callback" responded 200 in 82.0875 ms
04/13/2024 21:36:09 +02:00 Unable to configure Browser Link script injection on the response. 
04/13/2024 21:36:16 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/13/2024 21:36:16 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/13/2024 21:36:16 +02:00 HTTP "GET" "/" responded 200 in 13.3524 ms
04/13/2024 21:36:18 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/13/2024 21:36:18 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/13/2024 21:36:18 +02:00 AuthenticationScheme: "Identity.Application" was challenged.
04/13/2024 21:36:18 +02:00 HTTP "GET" "/diagnostics" responded 302 in 17.4635 ms
04/13/2024 21:36:18 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/13/2024 21:36:18 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/13/2024 21:36:18 +02:00 HTTP "GET" "/Account/Login" responded 200 in 78.1244 ms
04/13/2024 21:39:52 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/13/2024 21:39:52 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/13/2024 21:39:52 +02:00 Request path "/connect/authorize" matched to endpoint type "Authorize"
04/13/2024 21:39:53 +02:00 Endpoint enabled: "Authorize", successfully created handler: "Duende.IdentityServer.Endpoints.AuthorizeEndpoint"
04/13/2024 21:39:53 +02:00 Invoking IdentityServer endpoint: "Duende.IdentityServer.Endpoints.AuthorizeEndpoint" for "/connect/authorize"
04/13/2024 21:39:53 +02:00 Start authorize request
04/13/2024 21:39:53 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/13/2024 21:39:53 +02:00 No user present in authorize request
04/13/2024 21:39:53 +02:00 Start authorize request protocol validation
04/13/2024 21:39:53 +02:00 client configuration validation for client "swagger" succeeded.
04/13/2024 21:39:53 +02:00 Checking for PKCE parameters
04/13/2024 21:39:53 +02:00 Calling into custom validator: "Duende.IdentityServer.Validation.DefaultCustomAuthorizeRequestValidator"
04/13/2024 21:39:53 +02:00 ValidatedAuthorizeRequest
AuthorizeRequestValidationLog { ClientId: "swagger", ClientName: "Client for Swagger use", RedirectUri: "https://localhost:7207/swagger/oauth2-redirect.html", AllowedRedirectUris: ["https://localhost:7207/swagger/oauth2-redirect.html"], SubjectId: "anonymous", ResponseType: "code", ResponseMode: "query", GrantType: "authorization_code", RequestedScopes: "api1 user openid", State: "U2F0IEFwciAxMyAyMDI0IDIxOjM5OjUyIEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp", UiLocales: null, Nonce: null, AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: "", MaxAge: null, LoginHint: null, SessionId: "", Raw: [("response_type": "code"), ("client_id": "swagger"), ("redirect_uri": "https://localhost:7207/swagger/oauth2-redirect.html"), ("scope": "api1 user openid"), ("state": "U2F0IEFwciAxMyAyMDI0IDIxOjM5OjUyIEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp"), ("code_challenge": "NrD0_-55jDe8eKZ3CDPdoGNDK3AEbvJfI9kqBVJ-OGU"), ("code_challenge_method": "S256")] }
04/13/2024 21:39:53 +02:00 Showing login: User is not authenticated
04/13/2024 21:39:53 +02:00 HTTP "GET" "/connect/authorize" responded 302 in 469.2488 ms
04/13/2024 21:39:53 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/13/2024 21:39:53 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/13/2024 21:39:53 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/13/2024 21:39:53 +02:00 Start authorize request protocol validation
04/13/2024 21:39:53 +02:00 client configuration validation for client "swagger" succeeded.
04/13/2024 21:39:53 +02:00 Checking for PKCE parameters
04/13/2024 21:39:53 +02:00 Calling into custom validator: "Duende.IdentityServer.Validation.DefaultCustomAuthorizeRequestValidator"
04/13/2024 21:39:53 +02:00 HTTP "GET" "/Account/Login" responded 200 in 99.5108 ms
04/13/2024 21:40:11 +02:00 IdentityServer CorsPolicyService didn't handle CORS request made for path: "/Account/Login" from origin: "null" because it is not for an IdentityServer CORS endpoint. To allow CORS requests to non IdentityServer endpoints, please set up your own Cors policy for your application by calling app.UseCors("MyPolicy") in the pipeline setup.
04/13/2024 21:40:11 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/13/2024 21:40:11 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/13/2024 21:40:11 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/13/2024 21:40:11 +02:00 Start authorize request protocol validation
04/13/2024 21:40:11 +02:00 client configuration validation for client "swagger" succeeded.
04/13/2024 21:40:11 +02:00 Checking for PKCE parameters
04/13/2024 21:40:11 +02:00 Calling into custom validator: "Duende.IdentityServer.Validation.DefaultCustomAuthorizeRequestValidator"
04/13/2024 21:40:14 +02:00 Augmenting SignInContext
04/13/2024 21:40:14 +02:00 Adding idp claim with value: "local"
04/13/2024 21:40:14 +02:00 Adding auth_time claim with value: "1713037214"
04/13/2024 21:40:14 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/13/2024 21:40:14 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/13/2024 21:40:14 +02:00 AuthenticationScheme: "Identity.Application" signed in.
04/13/2024 21:40:14 +02:00 UserLoginSuccessEvent { Username: "alice", Provider: null, ProviderUserId: null, SubjectId: "0d2a181c-af89-47bb-84ed-e64dbae31d8b", DisplayName: "alice", Endpoint: "UI", ClientId: "swagger", Category: "Authentication", Name: "User Login Success", EventType: Success, Id: 1000, Message: null, ActivityId: "0HN2RU3LFJSAI:00000033", TimeStamp: 04/13/2024 19:40:14, ProcessId: 27216, LocalIpAddress: "::1:5001", RemoteIpAddress: "::1" }
04/13/2024 21:40:14 +02:00 HTTP "POST" "/Account/Login" responded 302 in 3304.3783 ms
04/13/2024 21:40:14 +02:00 AuthenticationScheme: "Identity.Application" was successfully authenticated.
04/13/2024 21:40:14 +02:00 AuthenticationScheme: "Identity.Application" was successfully authenticated.
04/13/2024 21:40:14 +02:00 Request path "/connect/authorize/callback" matched to endpoint type "Authorize"
04/13/2024 21:40:14 +02:00 Endpoint enabled: "Authorize", successfully created handler: "Duende.IdentityServer.Endpoints.AuthorizeCallbackEndpoint"
04/13/2024 21:40:14 +02:00 Invoking IdentityServer endpoint: "Duende.IdentityServer.Endpoints.AuthorizeCallbackEndpoint" for "/connect/authorize/callback"
04/13/2024 21:40:14 +02:00 Start authorize callback request
04/13/2024 21:40:14 +02:00 User in authorize request: "0d2a181c-af89-47bb-84ed-e64dbae31d8b"
04/13/2024 21:40:14 +02:00 Start authorize request protocol validation
04/13/2024 21:40:14 +02:00 client configuration validation for client "swagger" succeeded.
04/13/2024 21:40:14 +02:00 Checking for PKCE parameters
04/13/2024 21:40:14 +02:00 Calling into custom validator: "Duende.IdentityServer.Validation.DefaultCustomAuthorizeRequestValidator"
04/13/2024 21:40:15 +02:00 ValidatedAuthorizeRequest
AuthorizeRequestValidationLog { ClientId: "swagger", ClientName: "Client for Swagger use", RedirectUri: "https://localhost:7207/swagger/oauth2-redirect.html", AllowedRedirectUris: ["https://localhost:7207/swagger/oauth2-redirect.html"], SubjectId: "0d2a181c-af89-47bb-84ed-e64dbae31d8b", ResponseType: "code", ResponseMode: "query", GrantType: "authorization_code", RequestedScopes: "api1 user openid", State: "U2F0IEFwciAxMyAyMDI0IDIxOjM5OjUyIEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp", UiLocales: null, Nonce: null, AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: "", MaxAge: null, LoginHint: null, SessionId: "94518B7FEFD915C8ECBF8C5F06CBB934", Raw: [("response_type": "code"), ("client_id": "swagger"), ("redirect_uri": "https://localhost:7207/swagger/oauth2-redirect.html"), ("scope": "api1 user openid"), ("state": "U2F0IEFwciAxMyAyMDI0IDIxOjM5OjUyIEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp"), ("code_challenge": "NrD0_-55jDe8eKZ3CDPdoGNDK3AEbvJfI9kqBVJ-OGU"), ("code_challenge_method": "S256")] }
04/13/2024 21:40:15 +02:00 Client is configured to not require consent, no consent is required
04/13/2024 21:40:15 +02:00 Creating Authorization Code Flow response.
04/13/2024 21:40:15 +02:00 TokenIssuedSuccessEvent { ClientId: "swagger", ClientName: "Client for Swagger use", RedirectUri: "https://localhost:7207/swagger/oauth2-redirect.html", Endpoint: "Authorize", SubjectId: "0d2a181c-af89-47bb-84ed-e64dbae31d8b", Scopes: "api1 user openid", GrantType: "authorization_code", Tokens: [Token { TokenType: "code", TokenValue: "****6F-1" }], Category: "Token", Name: "Token Issued Success", EventType: Success, Id: 2000, Message: null, ActivityId: "0HN2RU3LFJSAI:00000035", TimeStamp: 04/13/2024 19:40:15, ProcessId: 27216, LocalIpAddress: "::1:5001", RemoteIpAddress: "::1" }
04/13/2024 21:40:15 +02:00 Authorize endpoint response
AuthorizeResponseLog { SubjectId: "0d2a181c-af89-47bb-84ed-e64dbae31d8b", ClientId: "swagger", RedirectUri: "https://localhost:7207/swagger/oauth2-redirect.html", State: "U2F0IEFwciAxMyAyMDI0IDIxOjM5OjUyIEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp", Scope: "api1 user openid", Error: null, ErrorDescription: null }
04/13/2024 21:40:15 +02:00 Augmenting SignInContext
04/13/2024 21:40:15 +02:00 AuthenticationScheme: "Identity.Application" signed in.
04/13/2024 21:40:15 +02:00 HTTP "GET" "/connect/authorize/callback" responded 302 in 705.0017 ms
04/13/2024 21:40:15 +02:00 CORS request made for path: "/connect/token" from origin: "https://localhost:7207"
04/13/2024 21:40:15 +02:00 Client list checked and origin: "https://localhost:7207" is allowed
04/13/2024 21:40:15 +02:00 CorsPolicyService allowed origin: "https://localhost:7207"
04/13/2024 21:40:15 +02:00 HTTP "OPTIONS" "/connect/token" responded 204 in 36.9330 ms
04/13/2024 21:40:15 +02:00 CORS request made for path: "/connect/token" from origin: "https://localhost:7207"
04/13/2024 21:40:15 +02:00 Client list checked and origin: "https://localhost:7207" is allowed
04/13/2024 21:40:15 +02:00 CorsPolicyService allowed origin: "https://localhost:7207"
04/13/2024 21:40:15 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/13/2024 21:40:15 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/13/2024 21:40:15 +02:00 Request path "/connect/token" matched to endpoint type "Token"
04/13/2024 21:40:15 +02:00 Endpoint enabled: "Token", successfully created handler: "Duende.IdentityServer.Endpoints.TokenEndpoint"
04/13/2024 21:40:15 +02:00 Invoking IdentityServer endpoint: "Duende.IdentityServer.Endpoints.TokenEndpoint" for "/connect/token"
04/13/2024 21:40:15 +02:00 Start token request.
04/13/2024 21:40:15 +02:00 Start client validation
04/13/2024 21:40:15 +02:00 Start parsing Basic Authentication secret
04/13/2024 21:40:15 +02:00 Start parsing for secret in post body
04/13/2024 21:40:15 +02:00 Parser found secret: "PostBodySecretParser"
04/13/2024 21:40:15 +02:00 Secret id found: "swagger"
04/13/2024 21:40:15 +02:00 client configuration validation for client "swagger" succeeded.
04/13/2024 21:40:16 +02:00 Secret validator success: "HashedSharedSecretValidator"
04/13/2024 21:40:16 +02:00 Client validation success
04/13/2024 21:40:16 +02:00 ClientAuthenticationSuccessEvent { ClientId: "swagger", AuthenticationMethod: "SharedSecret", Category: "Authentication", Name: "Client Authentication Success", EventType: Success, Id: 1010, Message: null, ActivityId: "0HN2RU3LFJSAJ:00000003", TimeStamp: 04/13/2024 19:40:16, ProcessId: 27216, LocalIpAddress: "::1:5001", RemoteIpAddress: "::1" }
04/13/2024 21:40:16 +02:00 Start token request validation
04/13/2024 21:40:16 +02:00 Start validation of authorization code token request
04/13/2024 21:40:16 +02:00 Client required a proof key for code exchange. Starting PKCE validation
04/13/2024 21:40:16 +02:00 Validation of authorization code token request success
04/13/2024 21:40:16 +02:00 Token request validation success, TokenRequestValidationLog { ClientId: "swagger", ClientName: "Client for Swagger use", GrantType: "authorization_code", Scopes: null, AuthorizationCode: "****6F-1", RefreshToken: "********", UserName: null, AuthenticationContextReferenceClasses: null, Tenant: null, IdP: null, Raw: [("grant_type": "authorization_code"), ("code": "***REDACTED***"), ("client_id": "swagger"), ("client_secret": "***REDACTED***"), ("redirect_uri": "https://localhost:7207/swagger/oauth2-redirect.html"), ("code_verifier": "d-jlZ2zMJzY2luaZ7yldpqTJRM0MBvHGPRY_mzdpYpI")] }
04/13/2024 21:40:16 +02:00 client configuration validation for client "swagger" succeeded.
04/13/2024 21:40:16 +02:00 Getting claims for access token for client: "swagger"
04/13/2024 21:40:16 +02:00 Getting claims for access token for subject: "0d2a181c-af89-47bb-84ed-e64dbae31d8b"
04/13/2024 21:40:16 +02:00 Active signing key found with kid "6B1C32E36545F634A32CA2D8AE090DC7" for alg "RS256". Expires in 88.23:37:14.3950890. Retires in 102.23:37:14.3950890
04/13/2024 21:40:16 +02:00 client configuration validation for client "swagger" succeeded.
04/13/2024 21:40:16 +02:00 Active signing key found with kid "6B1C32E36545F634A32CA2D8AE090DC7" for alg "RS256". Expires in 88.23:37:14.1876550. Retires in 102.23:37:14.1876550
04/13/2024 21:40:16 +02:00 Getting claims for identity token for subject: "0d2a181c-af89-47bb-84ed-e64dbae31d8b" and client: "swagger"
04/13/2024 21:40:16 +02:00 Active signing key found with kid "6B1C32E36545F634A32CA2D8AE090DC7" for alg "RS256". Expires in 88.23:37:14.1358051. Retires in 102.23:37:14.1358051
04/13/2024 21:40:16 +02:00 TokenIssuedSuccessEvent { ClientId: "swagger", ClientName: "Client for Swagger use", RedirectUri: null, Endpoint: "Token", SubjectId: "0d2a181c-af89-47bb-84ed-e64dbae31d8b", Scopes: "api1 user openid", GrantType: "authorization_code", Tokens: [Token { TokenType: "id_token", TokenValue: "****iUNg" }, Token { TokenType: "access_token", TokenValue: "****9SUA" }], Category: "Token", Name: "Token Issued Success", EventType: Success, Id: 2000, Message: null, ActivityId: "0HN2RU3LFJSAJ:00000003", TimeStamp: 04/13/2024 19:40:16, ProcessId: 27216, LocalIpAddress: "::1:5001", RemoteIpAddress: "::1" }
04/13/2024 21:40:16 +02:00 Token request success.
04/13/2024 21:40:16 +02:00 HTTP "POST" "/connect/token" responded 200 in 1072.1280 ms
04/13/2024 21:46:10 +02:00 AuthenticationScheme: "Identity.Application" was successfully authenticated.
04/13/2024 21:46:10 +02:00 AuthenticationScheme: "Identity.Application" was successfully authenticated.
04/13/2024 21:46:10 +02:00 Request path "/connect/authorize" matched to endpoint type "Authorize"
04/13/2024 21:46:10 +02:00 Endpoint enabled: "Authorize", successfully created handler: "Duende.IdentityServer.Endpoints.AuthorizeEndpoint"
04/13/2024 21:46:10 +02:00 Invoking IdentityServer endpoint: "Duende.IdentityServer.Endpoints.AuthorizeEndpoint" for "/connect/authorize"
04/13/2024 21:46:10 +02:00 Start authorize request
04/13/2024 21:46:10 +02:00 User in authorize request: "0d2a181c-af89-47bb-84ed-e64dbae31d8b"
04/13/2024 21:46:10 +02:00 Start authorize request protocol validation
04/13/2024 21:46:10 +02:00 client configuration validation for client "swagger" succeeded.
04/13/2024 21:46:10 +02:00 Checking for PKCE parameters
04/13/2024 21:46:10 +02:00 scope is missing
AuthorizeRequestValidationLog { ClientId: "swagger", ClientName: "Client for Swagger use", RedirectUri: "https://localhost:7207/swagger/oauth2-redirect.html", AllowedRedirectUris: ["https://localhost:7207/swagger/oauth2-redirect.html"], SubjectId: "0d2a181c-af89-47bb-84ed-e64dbae31d8b", ResponseType: "code", ResponseMode: "query", GrantType: "authorization_code", RequestedScopes: "", State: "U2F0IEFwciAxMyAyMDI0IDIxOjQ2OjEwIEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp", UiLocales: null, Nonce: null, AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: "", MaxAge: null, LoginHint: null, SessionId: null, Raw: [("response_type": "code"), ("client_id": "swagger"), ("redirect_uri": "https://localhost:7207/swagger/oauth2-redirect.html"), ("state": "U2F0IEFwciAxMyAyMDI0IDIxOjQ2OjEwIEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp"), ("code_challenge": "zVQItgE8ebxufsR5gr6aaVYHtaVpVM96gRgxE_TRcl4"), ("code_challenge_method": "S256")] }
04/13/2024 21:46:10 +02:00 Request validation failed
04/13/2024 21:46:10 +02:00 AuthorizeRequestValidationLog { ClientId: "swagger", ClientName: "Client for Swagger use", RedirectUri: "https://localhost:7207/swagger/oauth2-redirect.html", AllowedRedirectUris: ["https://localhost:7207/swagger/oauth2-redirect.html"], SubjectId: "0d2a181c-af89-47bb-84ed-e64dbae31d8b", ResponseType: "code", ResponseMode: "query", GrantType: "authorization_code", RequestedScopes: "", State: "U2F0IEFwciAxMyAyMDI0IDIxOjQ2OjEwIEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp", UiLocales: null, Nonce: null, AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: "", MaxAge: null, LoginHint: null, SessionId: null, Raw: [("response_type": "code"), ("client_id": "swagger"), ("redirect_uri": "https://localhost:7207/swagger/oauth2-redirect.html"), ("state": "U2F0IEFwciAxMyAyMDI0IDIxOjQ2OjEwIEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp"), ("code_challenge": "zVQItgE8ebxufsR5gr6aaVYHtaVpVM96gRgxE_TRcl4"), ("code_challenge_method": "S256")] }
04/13/2024 21:46:10 +02:00 TokenIssuedFailureEvent { ClientId: "swagger", ClientName: "Client for Swagger use", RedirectUri: "https://localhost:7207/swagger/oauth2-redirect.html", Endpoint: "Authorize", SubjectId: "0d2a181c-af89-47bb-84ed-e64dbae31d8b", Scopes: "", GrantType: "authorization_code", Error: "invalid_request", ErrorDescription: "Invalid scope", Category: "Token", Name: "Token Issued Failure", EventType: Failure, Id: 2001, Message: null, ActivityId: "0HN2RU3LFJSAI:00000037", TimeStamp: 04/13/2024 19:46:10, ProcessId: 27216, LocalIpAddress: "::1:5001", RemoteIpAddress: "::1" }
04/13/2024 21:46:10 +02:00 HTTP "GET" "/connect/authorize" responded 302 in 218.3986 ms
04/13/2024 21:46:10 +02:00 AuthenticationScheme: "Identity.Application" was successfully authenticated.
04/13/2024 21:46:10 +02:00 AuthenticationScheme: "Identity.Application" was successfully authenticated.
04/13/2024 21:46:10 +02:00 HTTP "GET" "/home/error" responded 200 in 140.9169 ms
04/13/2024 21:46:20 +02:00 AuthenticationScheme: "Identity.Application" was successfully authenticated.
04/13/2024 21:46:20 +02:00 AuthenticationScheme: "Identity.Application" was successfully authenticated.
04/13/2024 21:46:20 +02:00 Request path "/connect/authorize" matched to endpoint type "Authorize"
04/13/2024 21:46:20 +02:00 Endpoint enabled: "Authorize", successfully created handler: "Duende.IdentityServer.Endpoints.AuthorizeEndpoint"
04/13/2024 21:46:20 +02:00 Invoking IdentityServer endpoint: "Duende.IdentityServer.Endpoints.AuthorizeEndpoint" for "/connect/authorize"
04/13/2024 21:46:20 +02:00 Start authorize request
04/13/2024 21:46:20 +02:00 User in authorize request: "0d2a181c-af89-47bb-84ed-e64dbae31d8b"
04/13/2024 21:46:20 +02:00 Start authorize request protocol validation
04/13/2024 21:46:20 +02:00 client configuration validation for client "swagger" succeeded.
04/13/2024 21:46:20 +02:00 Checking for PKCE parameters
04/13/2024 21:46:20 +02:00 Calling into custom validator: "Duende.IdentityServer.Validation.DefaultCustomAuthorizeRequestValidator"
04/13/2024 21:46:20 +02:00 ValidatedAuthorizeRequest
AuthorizeRequestValidationLog { ClientId: "swagger", ClientName: "Client for Swagger use", RedirectUri: "https://localhost:7207/swagger/oauth2-redirect.html", AllowedRedirectUris: ["https://localhost:7207/swagger/oauth2-redirect.html"], SubjectId: "0d2a181c-af89-47bb-84ed-e64dbae31d8b", ResponseType: "code", ResponseMode: "query", GrantType: "authorization_code", RequestedScopes: "api1 user openid", State: "U2F0IEFwciAxMyAyMDI0IDIxOjQ2OjIwIEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp", UiLocales: null, Nonce: null, AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: "", MaxAge: null, LoginHint: null, SessionId: "94518B7FEFD915C8ECBF8C5F06CBB934", Raw: [("response_type": "code"), ("client_id": "swagger"), ("redirect_uri": "https://localhost:7207/swagger/oauth2-redirect.html"), ("scope": "api1 user openid"), ("state": "U2F0IEFwciAxMyAyMDI0IDIxOjQ2OjIwIEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp"), ("code_challenge": "ZxZEvCafiBfg62fSBd2B9utrGC1YG9hkT9zYXaVQygQ"), ("code_challenge_method": "S256")] }
04/13/2024 21:46:20 +02:00 Client is configured to not require consent, no consent is required
04/13/2024 21:46:20 +02:00 Creating Authorization Code Flow response.
04/13/2024 21:46:20 +02:00 TokenIssuedSuccessEvent { ClientId: "swagger", ClientName: "Client for Swagger use", RedirectUri: "https://localhost:7207/swagger/oauth2-redirect.html", Endpoint: "Authorize", SubjectId: "0d2a181c-af89-47bb-84ed-e64dbae31d8b", Scopes: "api1 user openid", GrantType: "authorization_code", Tokens: [Token { TokenType: "code", TokenValue: "****E9-1" }], Category: "Token", Name: "Token Issued Success", EventType: Success, Id: 2000, Message: null, ActivityId: "0HN2RU3LFJSAI:0000003F", TimeStamp: 04/13/2024 19:46:20, ProcessId: 27216, LocalIpAddress: "::1:5001", RemoteIpAddress: "::1" }
04/13/2024 21:46:20 +02:00 Authorize endpoint response
AuthorizeResponseLog { SubjectId: "0d2a181c-af89-47bb-84ed-e64dbae31d8b", ClientId: "swagger", RedirectUri: "https://localhost:7207/swagger/oauth2-redirect.html", State: "U2F0IEFwciAxMyAyMDI0IDIxOjQ2OjIwIEdNVCswMjAwIChjemFzIMWbcm9ka293b2V1cm9wZWpza2kgbGV0bmkp", Scope: "api1 user openid", Error: null, ErrorDescription: null }
04/13/2024 21:46:20 +02:00 HTTP "GET" "/connect/authorize" responded 302 in 192.6754 ms
04/13/2024 21:46:20 +02:00 CORS request made for path: "/connect/token" from origin: "https://localhost:7207"
04/13/2024 21:46:20 +02:00 Client list checked and origin: "https://localhost:7207" is allowed
04/13/2024 21:46:20 +02:00 CorsPolicyService allowed origin: "https://localhost:7207"
04/13/2024 21:46:20 +02:00 HTTP "OPTIONS" "/connect/token" responded 204 in 34.3772 ms
04/13/2024 21:46:20 +02:00 CORS request made for path: "/connect/token" from origin: "https://localhost:7207"
04/13/2024 21:46:20 +02:00 Client list checked and origin: "https://localhost:7207" is allowed
04/13/2024 21:46:20 +02:00 CorsPolicyService allowed origin: "https://localhost:7207"
04/13/2024 21:46:20 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/13/2024 21:46:20 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/13/2024 21:46:20 +02:00 Request path "/connect/token" matched to endpoint type "Token"
04/13/2024 21:46:20 +02:00 Endpoint enabled: "Token", successfully created handler: "Duende.IdentityServer.Endpoints.TokenEndpoint"
04/13/2024 21:46:20 +02:00 Invoking IdentityServer endpoint: "Duende.IdentityServer.Endpoints.TokenEndpoint" for "/connect/token"
04/13/2024 21:46:20 +02:00 Start token request.
04/13/2024 21:46:20 +02:00 Start client validation
04/13/2024 21:46:20 +02:00 Start parsing Basic Authentication secret
04/13/2024 21:46:20 +02:00 Start parsing for secret in post body
04/13/2024 21:46:20 +02:00 Parser found secret: "PostBodySecretParser"
04/13/2024 21:46:20 +02:00 Secret id found: "swagger"
04/13/2024 21:46:20 +02:00 client configuration validation for client "swagger" succeeded.
04/13/2024 21:46:20 +02:00 Secret validator success: "HashedSharedSecretValidator"
04/13/2024 21:46:20 +02:00 Client validation success
04/13/2024 21:46:20 +02:00 ClientAuthenticationSuccessEvent { ClientId: "swagger", AuthenticationMethod: "SharedSecret", Category: "Authentication", Name: "Client Authentication Success", EventType: Success, Id: 1010, Message: null, ActivityId: "0HN2RU3LFJSAJ:00000007", TimeStamp: 04/13/2024 19:46:20, ProcessId: 27216, LocalIpAddress: "::1:5001", RemoteIpAddress: "::1" }
04/13/2024 21:46:20 +02:00 Start token request validation
04/13/2024 21:46:20 +02:00 Start validation of authorization code token request
04/13/2024 21:46:20 +02:00 Client required a proof key for code exchange. Starting PKCE validation
04/13/2024 21:46:20 +02:00 Validation of authorization code token request success
04/13/2024 21:46:20 +02:00 Token request validation success, TokenRequestValidationLog { ClientId: "swagger", ClientName: "Client for Swagger use", GrantType: "authorization_code", Scopes: null, AuthorizationCode: "****E9-1", RefreshToken: "********", UserName: null, AuthenticationContextReferenceClasses: null, Tenant: null, IdP: null, Raw: [("grant_type": "authorization_code"), ("code": "***REDACTED***"), ("client_id": "swagger"), ("client_secret": "***REDACTED***"), ("redirect_uri": "https://localhost:7207/swagger/oauth2-redirect.html"), ("code_verifier": "mEkixgo_C3IpOa_QGsUEFVZfmiY69gV7aBbucH6RtKI")] }
04/13/2024 21:46:20 +02:00 client configuration validation for client "swagger" succeeded.
04/13/2024 21:46:20 +02:00 Getting claims for access token for client: "swagger"
04/13/2024 21:46:20 +02:00 Getting claims for access token for subject: "0d2a181c-af89-47bb-84ed-e64dbae31d8b"
04/13/2024 21:46:20 +02:00 Active signing key found with kid "6B1C32E36545F634A32CA2D8AE090DC7" for alg "RS256". Expires in 88.23:31:10.1975108. Retires in 102.23:31:10.1975108
04/13/2024 21:46:20 +02:00 client configuration validation for client "swagger" succeeded.
04/13/2024 21:46:20 +02:00 Active signing key found with kid "6B1C32E36545F634A32CA2D8AE090DC7" for alg "RS256". Expires in 88.23:31:10.1826327. Retires in 102.23:31:10.1826327
04/13/2024 21:46:20 +02:00 Getting claims for identity token for subject: "0d2a181c-af89-47bb-84ed-e64dbae31d8b" and client: "swagger"
04/13/2024 21:46:20 +02:00 Active signing key found with kid "6B1C32E36545F634A32CA2D8AE090DC7" for alg "RS256". Expires in 88.23:31:10.1677713. Retires in 102.23:31:10.1677713
04/13/2024 21:46:20 +02:00 TokenIssuedSuccessEvent { ClientId: "swagger", ClientName: "Client for Swagger use", RedirectUri: null, Endpoint: "Token", SubjectId: "0d2a181c-af89-47bb-84ed-e64dbae31d8b", Scopes: "api1 user openid", GrantType: "authorization_code", Tokens: [Token { TokenType: "id_token", TokenValue: "****ec9Q" }, Token { TokenType: "access_token", TokenValue: "****kaGA" }], Category: "Token", Name: "Token Issued Success", EventType: Success, Id: 2000, Message: null, ActivityId: "0HN2RU3LFJSAJ:00000007", TimeStamp: 04/13/2024 19:46:20, ProcessId: 27216, LocalIpAddress: "::1:5001", RemoteIpAddress: "::1" }
04/13/2024 21:46:20 +02:00 Token request success.
04/13/2024 21:46:20 +02:00 HTTP "POST" "/connect/token" responded 200 in 320.3685 ms
04/13/2024 21:46:33 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/13/2024 21:46:33 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/13/2024 21:46:33 +02:00 Request path "/.well-known/openid-configuration" matched to endpoint type "Discovery"
04/13/2024 21:46:33 +02:00 Endpoint enabled: "Discovery", successfully created handler: "Duende.IdentityServer.Endpoints.DiscoveryEndpoint"
04/13/2024 21:46:33 +02:00 Invoking IdentityServer endpoint: "Duende.IdentityServer.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
04/13/2024 21:46:33 +02:00 Start discovery request
04/13/2024 21:46:33 +02:00 Active signing key found with kid "6B1C32E36545F634A32CA2D8AE090DC7" for alg "RS256". Expires in 88.23:30:57.1926797. Retires in 102.23:30:57.1926797
04/13/2024 21:46:33 +02:00 HTTP "GET" "/.well-known/openid-configuration" responded 200 in 87.6123 ms
04/13/2024 21:46:33 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/13/2024 21:46:33 +02:00 AuthenticationScheme: "Identity.Application" was not authenticated.
04/13/2024 21:46:33 +02:00 Request path "/.well-known/openid-configuration/jwks" matched to endpoint type "Jwks"
04/13/2024 21:46:33 +02:00 Endpoint enabled: "Jwks", successfully created handler: "Duende.IdentityServer.Endpoints.DiscoveryKeyEndpoint"
04/13/2024 21:46:33 +02:00 Invoking IdentityServer endpoint: "Duende.IdentityServer.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks"
04/13/2024 21:46:33 +02:00 Start key discovery request
04/13/2024 21:46:33 +02:00 HTTP "GET" "/.well-known/openid-configuration/jwks" responded 200 in 33.5308 ms
